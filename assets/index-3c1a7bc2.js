var u9=Object.defineProperty;var l9=(e,t,n)=>t in e?u9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>(l9(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var eM={exports:{}},hd={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var jP=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,h9=Object.prototype.propertyIsEnumerable;function d9(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function p9(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var hE=p9()?Object.assign:function(e,t){for(var n,r=d9(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)f9.call(n,a)&&(r[a]=n[a]);if(jP){i=jP(n);for(var s=0;s<i.length;s++)h9.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r};const m9=Qn(hE);var tM={exports:{}},St={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE=hE,xc=60103,nM=60106;St.Fragment=60107;St.StrictMode=60108;St.Profiler=60114;var rM=60109,iM=60110,oM=60112;St.Suspense=60113;var aM=60115,sM=60116;if(typeof Symbol=="function"&&Symbol.for){var Hi=Symbol.for;xc=Hi("react.element"),nM=Hi("react.portal"),St.Fragment=Hi("react.fragment"),St.StrictMode=Hi("react.strict_mode"),St.Profiler=Hi("react.profiler"),rM=Hi("react.provider"),iM=Hi("react.context"),oM=Hi("react.forward_ref"),St.Suspense=Hi("react.suspense"),aM=Hi("react.memo"),sM=Hi("react.lazy")}var $P=typeof Symbol=="function"&&Symbol.iterator;function v9(e){return e===null||typeof e!="object"?null:(e=$P&&e[$P]||e["@@iterator"],typeof e=="function"?e:null)}function dd(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lM={};function bc(e,t,n){this.props=e,this.context=t,this.refs=lM,this.updater=n||uM}bc.prototype.isReactComponent={};bc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(dd(85));this.updater.enqueueSetState(this,e,t,"setState")};bc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cM(){}cM.prototype=bc.prototype;function pE(e,t,n){this.props=e,this.context=t,this.refs=lM,this.updater=n||uM}var mE=pE.prototype=new cM;mE.constructor=pE;dE(mE,bc.prototype);mE.isPureReactComponent=!0;var vE={current:null},fM=Object.prototype.hasOwnProperty,hM={key:!0,ref:!0,__self:!0,__source:!0};function dM(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)fM.call(t,r)&&!hM.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:xc,type:e,key:o,ref:a,props:i,_owner:vE.current}}function g9(e,t){return{$$typeof:xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gE(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function y9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var UP=/\/+/g;function z0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y9(""+e.key):t.toString(36)}function Rm(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xc:case nM:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+z0(a,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(UP,"$&/")+"/"),Rm(i,t,n,"",function(l){return l})):i!=null&&(gE(i)&&(i=g9(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(UP,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=r+z0(o,s);a+=Rm(o,t,n,u,i)}else if(u=v9(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=r+z0(o,s++),a+=Rm(o,t,n,u,i);else if(o==="object")throw t=""+e,Error(dd(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function Fp(e,t,n){if(e==null)return e;var r=[],i=0;return Rm(e,r,"","",function(o){return t.call(n,o,i++)}),r}function _9(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var pM={current:null};function Sa(){var e=pM.current;if(e===null)throw Error(dd(321));return e}var x9={ReactCurrentDispatcher:pM,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:vE,IsSomeRendererActing:{current:!1},assign:dE};St.Children={map:Fp,forEach:function(e,t,n){Fp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fp(e,function(){t++}),t},toArray:function(e){return Fp(e,function(t){return t})||[]},only:function(e){if(!gE(e))throw Error(dd(143));return e}};St.Component=bc;St.PureComponent=pE;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x9;St.cloneElement=function(e,t,n){if(e==null)throw Error(dd(267,e));var r=dE({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=vE.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)fM.call(t,u)&&!hM.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:xc,type:e.type,key:i,ref:o,props:r,_owner:a}};St.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:iM,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:rM,_context:e},e.Consumer=e};St.createElement=dM;St.createFactory=function(e){var t=dM.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:oM,render:e}};St.isValidElement=gE;St.lazy=function(e){return{$$typeof:sM,_payload:{_status:-1,_result:e},_init:_9}};St.memo=function(e,t){return{$$typeof:aM,type:e,compare:t===void 0?null:t}};St.useCallback=function(e,t){return Sa().useCallback(e,t)};St.useContext=function(e,t){return Sa().useContext(e,t)};St.useDebugValue=function(){};St.useEffect=function(e,t){return Sa().useEffect(e,t)};St.useImperativeHandle=function(e,t,n){return Sa().useImperativeHandle(e,t,n)};St.useLayoutEffect=function(e,t){return Sa().useLayoutEffect(e,t)};St.useMemo=function(e,t){return Sa().useMemo(e,t)};St.useReducer=function(e,t,n){return Sa().useReducer(e,t,n)};St.useRef=function(e){return Sa().useRef(e)};St.useState=function(e){return Sa().useState(e)};St.version="17.0.2";tM.exports=St;var q=tM.exports;const Ve=Qn(q);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b9=q,mM=60103;hd.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var GP=Symbol.for;mM=GP("react.element"),hd.Fragment=GP("react.fragment")}var S9=b9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w9=Object.prototype.hasOwnProperty,E9={key:!0,ref:!0,__self:!0,__source:!0};function vM(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)w9.call(t,r)&&!E9.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mM,type:e,key:o,ref:a,props:i,_owner:S9.current}}hd.jsx=vM;hd.jsxs=vM;eM.exports=hd;var E=eM.exports,gM={exports:{}},Di={},yM={exports:{}},_M={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,l=null,f=function(){if(u!==null)try{var L=e.unstable_now();u(!0,L),u=null}catch(Z){throw setTimeout(f,0),Z}};t=function(L){u!==null?setTimeout(t,0,L):(u=L,setTimeout(f,0))},n=function(L,Z){l=setTimeout(L,Z)},r=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if(typeof console<"u"){var m=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof m!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,_=null,y=-1,x=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},i=function(){},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<L?Math.floor(1e3/L):5};var w=new MessageChannel,T=w.port2;w.port1.onmessage=function(){if(_!==null){var L=e.unstable_now();b=L+x;try{_(!0,L)?T.postMessage(null):(v=!1,_=null)}catch(Z){throw T.postMessage(null),Z}}else v=!1},t=function(L){_=L,v||(v=!0,T.postMessage(null))},n=function(L,Z){y=d(function(){L(e.unstable_now())},Z)},r=function(){p(y),y=-1}}function C(L,Z){var re=L.length;L.push(Z);e:for(;;){var ae=re-1>>>1,le=L[ae];if(le!==void 0&&0<M(le,Z))L[ae]=Z,L[re]=le,re=ae;else break e}}function O(L){return L=L[0],L===void 0?null:L}function A(L){var Z=L[0];if(Z!==void 0){var re=L.pop();if(re!==Z){L[0]=re;e:for(var ae=0,le=L.length;ae<le;){var de=2*(ae+1)-1,ge=L[de],Ie=de+1,ke=L[Ie];if(ge!==void 0&&0>M(ge,re))ke!==void 0&&0>M(ke,ge)?(L[ae]=ke,L[Ie]=re,ae=Ie):(L[ae]=ge,L[de]=re,ae=de);else if(ke!==void 0&&0>M(ke,re))L[ae]=ke,L[Ie]=re,ae=Ie;else break e}}return Z}return null}function M(L,Z){var re=L.sortIndex-Z.sortIndex;return re!==0?re:L.id-Z.id}var D=[],B=[],G=1,U=null,H=3,Q=!1,ee=!1,ne=!1;function ce(L){for(var Z=O(B);Z!==null;){if(Z.callback===null)A(B);else if(Z.startTime<=L)A(B),Z.sortIndex=Z.expirationTime,C(D,Z);else break;Z=O(B)}}function Ae(L){if(ne=!1,ce(L),!ee)if(O(D)!==null)ee=!0,t(pe);else{var Z=O(B);Z!==null&&n(Ae,Z.startTime-L)}}function pe(L,Z){ee=!1,ne&&(ne=!1,r()),Q=!0;var re=H;try{for(ce(Z),U=O(D);U!==null&&(!(U.expirationTime>Z)||L&&!e.unstable_shouldYield());){var ae=U.callback;if(typeof ae=="function"){U.callback=null,H=U.priorityLevel;var le=ae(U.expirationTime<=Z);Z=e.unstable_now(),typeof le=="function"?U.callback=le:U===O(D)&&A(D),ce(Z)}else A(D);U=O(D)}if(U!==null)var de=!0;else{var ge=O(B);ge!==null&&n(Ae,ge.startTime-Z),de=!1}return de}finally{U=null,H=re,Q=!1}}var fe=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){ee||Q||(ee=!0,t(pe))},e.unstable_getCurrentPriorityLevel=function(){return H},e.unstable_getFirstCallbackNode=function(){return O(D)},e.unstable_next=function(L){switch(H){case 1:case 2:case 3:var Z=3;break;default:Z=H}var re=H;H=Z;try{return L()}finally{H=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=fe,e.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=H;H=L;try{return Z()}finally{H=re}},e.unstable_scheduleCallback=function(L,Z,re){var ae=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ae+re:ae):re=ae,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=re+le,L={id:G++,callback:Z,priorityLevel:L,startTime:re,expirationTime:le,sortIndex:-1},re>ae?(L.sortIndex=re,C(B,L),O(D)===null&&L===O(B)&&(ne?r():ne=!0,n(Ae,re-ae))):(L.sortIndex=le,C(D,L),ee||Q||(ee=!0,t(pe))),L},e.unstable_wrapCallback=function(L){var Z=H;return function(){var re=H;H=Z;try{return L.apply(this,arguments)}finally{H=re}}}})(_M);yM.exports=_M;var T9=yM.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=q,rn=hE,Zn=T9;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Sg)throw Error(Ee(227));var xM=new Set,wh={};function Au(e,t){ec(e,t),ec(e+"Capture",t)}function ec(e,t){for(wh[e]=t,e=0;e<t.length;e++)xM.add(t[e])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zP=Object.prototype.hasOwnProperty,HP={},VP={};function O9(e){return zP.call(VP,e)?!0:zP.call(HP,e)?!1:C9.test(e)?VP[e]=!0:(HP[e]=!0,!1)}function A9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P9(e,t,n,r){if(t===null||typeof t>"u"||A9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new Mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new Mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new Mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new Mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new Mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new Mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new Mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new Mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new Mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var yE=/[\-:]([a-z])/g;function _E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yE,_E);cr[t]=new Mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yE,_E);cr[t]=new Mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yE,_E);cr[t]=new Mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new Mr(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new Mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function xE(e,t,n,r){var i=cr.hasOwnProperty(t)?cr[t]:null,o=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(P9(t,n,i,r)&&(n=null),r||i===null?O9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pu=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qf=60103,iu=60106,Va=60107,bE=60108,nh=60114,SE=60109,wE=60110,wg=60112,rh=60113,lv=60120,Eg=60115,EE=60116,TE=60121,CE=60128,bM=60129,OE=60130,l1=60131;if(typeof Symbol=="function"&&Symbol.for){var zn=Symbol.for;qf=zn("react.element"),iu=zn("react.portal"),Va=zn("react.fragment"),bE=zn("react.strict_mode"),nh=zn("react.profiler"),SE=zn("react.provider"),wE=zn("react.context"),wg=zn("react.forward_ref"),rh=zn("react.suspense"),lv=zn("react.suspense_list"),Eg=zn("react.memo"),EE=zn("react.lazy"),TE=zn("react.block"),zn("react.scope"),CE=zn("react.opaque.id"),bM=zn("react.debug_trace_mode"),OE=zn("react.offscreen"),l1=zn("react.legacy_hidden")}var WP=typeof Symbol=="function"&&Symbol.iterator;function mf(e){return e===null||typeof e!="object"?null:(e=WP&&e[WP]||e["@@iterator"],typeof e=="function"?e:null)}var H0;function Kf(e){if(H0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H0=t&&t[1]||""}return`
`+H0+e}var V0=!1;function Dp(e,t){if(!e||V0)return"";V0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{V0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kf(e):""}function I9(e){switch(e.tag){case 5:return Kf(e.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return e=Dp(e.type,!1),e;case 11:return e=Dp(e.type.render,!1),e;case 22:return e=Dp(e.type._render,!1),e;case 1:return e=Dp(e.type,!0),e;default:return""}}function Dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case iu:return"Portal";case nh:return"Profiler";case bE:return"StrictMode";case rh:return"Suspense";case lv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wE:return(e.displayName||"Context")+".Consumer";case SE:return(e._context.displayName||"Context")+".Provider";case wg:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Eg:return Dl(e.type);case TE:return Dl(e._render);case EE:t=e._payload,e=e._init;try{return Dl(e(t))}catch{}}return null}function ms(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function SM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R9(e){var t=SM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bp(e){e._valueTracker||(e._valueTracker=R9(e))}function wM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=SM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function c1(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function XP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ms(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EM(e,t){t=t.checked,t!=null&&xE(e,"checked",t,!1)}function f1(e,t){EM(e,t);var n=ms(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h1(e,t.type,n):t.hasOwnProperty("defaultValue")&&h1(e,t.type,ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function h1(e,t,n){(t!=="number"||cv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function k9(e){var t="";return Sg.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function d1(e,t){return e=rn({children:void 0},t),(t=k9(t.children))&&(e.children=t),e}function Bl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ms(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function p1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ms(n)}}function TM(e,t){var n=ms(t.value),r=ms(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function YP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var m1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function CM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?CM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jp,OM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==m1.svg||"innerHTML"in e)e.innerHTML=t;else{for(jp=jp||document.createElement("div"),jp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ih={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N9=["Webkit","ms","Moz","O"];Object.keys(ih).forEach(function(e){N9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ih[t]=ih[e]})});function AM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ih.hasOwnProperty(e)&&ih[e]?(""+t).trim():t+"px"}function PM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AM(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var L9=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g1(e,t){if(t){if(L9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function AE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _1=null,jl=null,$l=null;function JP(e){if(e=md(e)){if(typeof _1!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=Ig(t),_1(e.stateNode,e.type,t))}}function IM(e){jl?$l?$l.push(e):$l=[e]:jl=e}function RM(){if(jl){var e=jl,t=$l;if($l=jl=null,JP(e),t)for(e=0;e<t.length;e++)JP(t[e])}}function PE(e,t){return e(t)}function kM(e,t,n,r,i){return e(t,n,r,i)}function IE(){}var NM=PE,ou=!1,W0=!1;function RE(){(jl!==null||$l!==null)&&(IE(),RM())}function M9(e,t,n){if(W0)return e(t,n);W0=!0;try{return NM(e,t,n)}finally{W0=!1,RE()}}function Th(e,t){var n=e.stateNode;if(n===null)return null;var r=Ig(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var x1=!1;if(_a)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){x1=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{x1=!1}function F9(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(f){this.onError(f)}}var oh=!1,fv=null,hv=!1,b1=null,D9={onError:function(e){oh=!0,fv=e}};function B9(e,t,n,r,i,o,a,s,u){oh=!1,fv=null,F9.apply(D9,arguments)}function j9(e,t,n,r,i,o,a,s,u){if(B9.apply(this,arguments),oh){if(oh){var l=fv;oh=!1,fv=null}else throw Error(Ee(198));hv||(hv=!0,b1=l)}}function Iu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function LM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ZP(e){if(Iu(e)!==e)throw Error(Ee(188))}function $9(e){var t=e.alternate;if(!t){if(t=Iu(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ZP(i),e;if(o===r)return ZP(i),t;o=o.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function MM(e){if(e=$9(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function QP(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var FM,kE,DM,BM,S1=!1,Ao=[],ns=null,rs=null,is=null,Ch=new Map,Oh=new Map,gf=[],e2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function t2(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ch.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(t.pointerId)}}function yf(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e=w1(t,n,r,i,o),t!==null&&(t=md(t),t!==null&&kE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function U9(e,t,n,r,i){switch(t){case"focusin":return ns=yf(ns,e,t,n,r,i),!0;case"dragenter":return rs=yf(rs,e,t,n,r,i),!0;case"mouseover":return is=yf(is,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ch.set(o,yf(Ch.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oh.set(o,yf(Oh.get(o)||null,e,t,n,r,i)),!0}return!1}function G9(e){var t=au(e.target);if(t!==null){var n=Iu(t);if(n!==null){if(t=n.tag,t===13){if(t=LM(n),t!==null){e.blockedOn=t,BM(e.lanePriority,function(){Zn.unstable_runWithPriority(e.priority,function(){DM(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function km(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=FE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=md(n),t!==null&&kE(t),e.blockedOn=n,!1;t.shift()}return!0}function n2(e,t,n){km(e)&&n.delete(t)}function z9(){for(S1=!1;0<Ao.length;){var e=Ao[0];if(e.blockedOn!==null){e=md(e.blockedOn),e!==null&&FM(e);break}for(var t=e.targetContainers;0<t.length;){var n=FE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Ao.shift()}ns!==null&&km(ns)&&(ns=null),rs!==null&&km(rs)&&(rs=null),is!==null&&km(is)&&(is=null),Ch.forEach(n2),Oh.forEach(n2)}function _f(e,t){e.blockedOn===t&&(e.blockedOn=null,S1||(S1=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,z9)))}function jM(e){function t(i){return _f(i,e)}if(0<Ao.length){_f(Ao[0],e);for(var n=1;n<Ao.length;n++){var r=Ao[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ns!==null&&_f(ns,e),rs!==null&&_f(rs,e),is!==null&&_f(is,e),Ch.forEach(t),Oh.forEach(t),n=0;n<gf.length;n++)r=gf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gf.length&&(n=gf[0],n.blockedOn===null);)G9(n),n.blockedOn===null&&gf.shift()}function $p(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ol={animationend:$p("Animation","AnimationEnd"),animationiteration:$p("Animation","AnimationIteration"),animationstart:$p("Animation","AnimationStart"),transitionend:$p("Transition","TransitionEnd")},X0={},$M={};_a&&($M=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Tg(e){if(X0[e])return X0[e];if(!Ol[e])return e;var t=Ol[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $M)return X0[e]=t[n];return e}var UM=Tg("animationend"),GM=Tg("animationiteration"),zM=Tg("animationstart"),HM=Tg("transitionend"),VM=new Map,NE=new Map,H9=["abort","abort",UM,"animationEnd",GM,"animationIteration",zM,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",HM,"transitionEnd","waiting","waiting"];function LE(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),NE.set(r,t),VM.set(r,i),Au(i,[r])}}var V9=Zn.unstable_now;V9();var Ht=8;function Sl(e){if(1&e)return Ht=15,1;if(2&e)return Ht=14,2;if(4&e)return Ht=13,4;var t=24&e;return t!==0?(Ht=12,t):e&32?(Ht=11,32):(t=192&e,t!==0?(Ht=10,t):e&256?(Ht=9,256):(t=3584&e,t!==0?(Ht=8,t):e&4096?(Ht=7,4096):(t=4186112&e,t!==0?(Ht=6,t):(t=62914560&e,t!==0?(Ht=5,t):e&67108864?(Ht=4,67108864):e&134217728?(Ht=3,134217728):(t=805306368&e,t!==0?(Ht=2,t):1073741824&e?(Ht=1,1073741824):(Ht=8,e))))))}function W9(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function X9(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Ee(358,e))}}function Ah(e,t){var n=e.pendingLanes;if(n===0)return Ht=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(o!==0)r=o,i=Ht=15;else if(o=n&134217727,o!==0){var u=o&~a;u!==0?(r=Sl(u),i=Ht):(s&=o,s!==0&&(r=Sl(s),i=Ht))}else o=n&~a,o!==0?(r=Sl(o),i=Ht):s!==0&&(r=Sl(s),i=Ht);if(r===0)return 0;if(r=31-vs(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&!(t&a)){if(Sl(t),i<=Ht)return t;Ht=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vs(t),i=1<<n,r|=e[n],t&=~i;return r}function WM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dv(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=wl(24&~t),e===0?dv(10,t):e;case 10:return e=wl(192&~t),e===0?dv(8,t):e;case 8:return e=wl(3584&~t),e===0&&(e=wl(4186112&~t),e===0&&(e=512)),e;case 2:return t=wl(805306368&~t),t===0&&(t=268435456),t}throw Error(Ee(358,e))}function wl(e){return e&-e}function q0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cg(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-vs(t),e[t]=n}var vs=Math.clz32?Math.clz32:Y9,q9=Math.log,K9=Math.LN2;function Y9(e){return e===0?32:31-(q9(e)/K9|0)|0}var J9=Zn.unstable_UserBlockingPriority,Z9=Zn.unstable_runWithPriority,Nm=!0;function Q9(e,t,n,r){ou||IE();var i=ME,o=ou;ou=!0;try{kM(i,e,t,n,r)}finally{(ou=o)||RE()}}function eV(e,t,n,r){Z9(J9,ME.bind(null,e,t,n,r))}function ME(e,t,n,r){if(Nm){var i;if((i=(t&4)===0)&&0<Ao.length&&-1<e2.indexOf(e))e=w1(null,e,t,n,r),Ao.push(e);else{var o=FE(e,t,n,r);if(o===null)i&&t2(e,r);else{if(i){if(-1<e2.indexOf(e)){e=w1(o,e,t,n,r),Ao.push(e);return}if(U9(o,e,t,n,r))return;t2(e,r)}oF(e,t,r,null,n)}}}}function FE(e,t,n,r){var i=AE(r);if(i=au(i),i!==null){var o=Iu(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=LM(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return oF(e,t,r,i,n),null}var Ka=null,DE=null,Lm=null;function XM(){if(Lm)return Lm;var e,t=DE,n=t.length,r,i="value"in Ka?Ka.value:Ka.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Lm=i.slice(e,1<r?1-r:void 0)}function Mm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Up(){return!0}function r2(){return!1}function di(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Up:r2,this.isPropagationStopped=r2,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Up)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Up)},persist:function(){},isPersistent:Up}),t}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BE=di(Sc),pd=rn({},Sc,{view:0,detail:0}),tV=di(pd),K0,Y0,xf,Og=rn({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xf&&(xf&&e.type==="mousemove"?(K0=e.screenX-xf.screenX,Y0=e.screenY-xf.screenY):Y0=K0=0,xf=e),K0)},movementY:function(e){return"movementY"in e?e.movementY:Y0}}),i2=di(Og),nV=rn({},Og,{dataTransfer:0}),rV=di(nV),iV=rn({},pd,{relatedTarget:0}),J0=di(iV),oV=rn({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),aV=di(oV),sV=rn({},Sc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uV=di(sV),lV=rn({},Sc,{data:0}),o2=di(lV),cV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hV[e])?!!t[e]:!1}function jE(){return dV}var pV=rn({},pd,{key:function(e){if(e.key){var t=cV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jE,charCode:function(e){return e.type==="keypress"?Mm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mV=di(pV),vV=rn({},Og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a2=di(vV),gV=rn({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jE}),yV=di(gV),_V=rn({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),xV=di(_V),bV=rn({},Og,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SV=di(bV),wV=[9,13,27,32],$E=_a&&"CompositionEvent"in window,ah=null;_a&&"documentMode"in document&&(ah=document.documentMode);var EV=_a&&"TextEvent"in window&&!ah,qM=_a&&(!$E||ah&&8<ah&&11>=ah),s2=String.fromCharCode(32),u2=!1;function KM(e,t){switch(e){case"keyup":return wV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Al=!1;function TV(e,t){switch(e){case"compositionend":return YM(t);case"keypress":return t.which!==32?null:(u2=!0,s2);case"textInput":return e=t.data,e===s2&&u2?null:e;default:return null}}function CV(e,t){if(Al)return e==="compositionend"||!$E&&KM(e,t)?(e=XM(),Lm=DE=Ka=null,Al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qM&&t.locale!=="ko"?null:t.data;default:return null}}var OV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OV[e.type]:t==="textarea"}function JM(e,t,n,r){IM(r),t=pv(t,"onChange"),0<t.length&&(n=new BE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sh=null,Ph=null;function AV(e){nF(e,0)}function Ag(e){var t=Il(e);if(wM(t))return e}function PV(e,t){if(e==="change")return t}var ZM=!1;if(_a){var Z0;if(_a){var Q0="oninput"in document;if(!Q0){var c2=document.createElement("div");c2.setAttribute("oninput","return;"),Q0=typeof c2.oninput=="function"}Z0=Q0}else Z0=!1;ZM=Z0&&(!document.documentMode||9<document.documentMode)}function f2(){sh&&(sh.detachEvent("onpropertychange",QM),Ph=sh=null)}function QM(e){if(e.propertyName==="value"&&Ag(Ph)){var t=[];if(JM(t,Ph,e,AE(e)),e=AV,ou)e(t);else{ou=!0;try{PE(e,t)}finally{ou=!1,RE()}}}}function IV(e,t,n){e==="focusin"?(f2(),sh=t,Ph=n,sh.attachEvent("onpropertychange",QM)):e==="focusout"&&f2()}function RV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ag(Ph)}function kV(e,t){if(e==="click")return Ag(t)}function NV(e,t){if(e==="input"||e==="change")return Ag(t)}function LV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oi=typeof Object.is=="function"?Object.is:LV,MV=Object.prototype.hasOwnProperty;function Ih(e,t){if(Oi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!MV.call(t,n[r])||!Oi(e[n[r]],t[n[r]]))return!1;return!0}function h2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d2(e,t){var n=h2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h2(n)}}function eF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p2(){for(var e=window,t=cv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cv(e.document)}return t}function E1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var FV=_a&&"documentMode"in document&&11>=document.documentMode,Pl=null,T1=null,uh=null,C1=!1;function m2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C1||Pl==null||Pl!==cv(r)||(r=Pl,"selectionStart"in r&&E1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&Ih(uh,r)||(uh=r,r=pv(T1,"onSelect"),0<r.length&&(t=new BE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pl)))}LE("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);LE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);LE(H9,2);for(var v2="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ex=0;ex<v2.length;ex++)NE.set(v2[ex],0);ec("onMouseEnter",["mouseout","mouseover"]);ec("onMouseLeave",["mouseout","mouseover"]);ec("onPointerEnter",["pointerout","pointerover"]);ec("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yf));function g2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,j9(r,t,void 0,e),e.currentTarget=null}function nF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;g2(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;g2(i,s,l),o=u}}}if(hv)throw e=b1,hv=!1,b1=null,e}function Xt(e,t){var n=sF(t),r=e+"__bubble";n.has(r)||(iF(t,e,2,!1),n.add(r))}var y2="_reactListening"+Math.random().toString(36).slice(2);function rF(e){e[y2]||(e[y2]=!0,xM.forEach(function(t){tF.has(t)||_2(t,!1,e,null),_2(t,!0,e,null)}))}function _2(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;if(e==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument),r!==null&&!t&&tF.has(e)){if(e!=="scroll")return;i|=2,o=r}var a=sF(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),iF(o,e,i,t),a.add(s))}function iF(e,t,n,r){var i=NE.get(t);switch(i===void 0?2:i){case 0:i=Q9;break;case 1:i=eV;break;default:i=ME}n=i.bind(null,t,n,e),i=void 0,!x1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function oF(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=au(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}M9(function(){var l=o,f=AE(n),d=[];e:{var p=VM.get(e);if(p!==void 0){var m=BE,v=e;switch(e){case"keypress":if(Mm(n)===0)break e;case"keydown":case"keyup":m=mV;break;case"focusin":v="focus",m=J0;break;case"focusout":v="blur",m=J0;break;case"beforeblur":case"afterblur":m=J0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=i2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yV;break;case UM:case GM:case zM:m=aV;break;case HM:m=xV;break;case"scroll":m=tV;break;case"wheel":m=SV;break;case"copy":case"cut":case"paste":m=uV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=a2}var _=(t&4)!==0,y=!_&&e==="scroll",x=_?p!==null?p+"Capture":null:p;_=[];for(var b=l,w;b!==null;){w=b;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,x!==null&&(T=Th(b,x),T!=null&&_.push(Rh(b,T,w)))),y)break;b=b.return}0<_.length&&(p=new m(p,v,null,n,f),d.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&!(t&16)&&(v=n.relatedTarget||n.fromElement)&&(au(v)||v[wc]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=l,v=v?au(v):null,v!==null&&(y=Iu(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=l),m!==v)){if(_=i2,T="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(_=a2,T="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Il(m),w=v==null?p:Il(v),p=new _(T,b+"leave",m,n,f),p.target=y,p.relatedTarget=w,T=null,au(f)===l&&(_=new _(x,b+"enter",v,n,f),_.target=w,_.relatedTarget=y,T=_),y=T,m&&v)t:{for(_=m,x=v,b=0,w=_;w;w=sl(w))b++;for(w=0,T=x;T;T=sl(T))w++;for(;0<b-w;)_=sl(_),b--;for(;0<w-b;)x=sl(x),w--;for(;b--;){if(_===x||x!==null&&_===x.alternate)break t;_=sl(_),x=sl(x)}_=null}else _=null;m!==null&&x2(d,p,m,_,!1),v!==null&&y!==null&&x2(d,y,v,_,!0)}}e:{if(p=l?Il(l):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=PV;else if(l2(p))if(ZM)C=NV;else{C=RV;var O=IV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=kV);if(C&&(C=C(e,l))){JM(d,C,n,f);break e}O&&O(e,p,l),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&h1(p,"number",p.value)}switch(O=l?Il(l):window,e){case"focusin":(l2(O)||O.contentEditable==="true")&&(Pl=O,T1=l,uh=null);break;case"focusout":uh=T1=Pl=null;break;case"mousedown":C1=!0;break;case"contextmenu":case"mouseup":case"dragend":C1=!1,m2(d,n,f);break;case"selectionchange":if(FV)break;case"keydown":case"keyup":m2(d,n,f)}var A;if($E)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Al?KM(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(qM&&n.locale!=="ko"&&(Al||M!=="onCompositionStart"?M==="onCompositionEnd"&&Al&&(A=XM()):(Ka=f,DE="value"in Ka?Ka.value:Ka.textContent,Al=!0)),O=pv(l,M),0<O.length&&(M=new o2(M,e,null,n,f),d.push({event:M,listeners:O}),A?M.data=A:(A=YM(n),A!==null&&(M.data=A)))),(A=EV?TV(e,n):CV(e,n))&&(l=pv(l,"onBeforeInput"),0<l.length&&(f=new o2("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:l}),f.data=A))}nF(d,t)})}function Rh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Th(e,n),o!=null&&r.unshift(Rh(e,o,i)),o=Th(e,t),o!=null&&r.push(Rh(e,o,i))),e=e.return}return r}function sl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function x2(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=Th(n,o),u!=null&&a.unshift(Rh(n,u,s))):i||(u=Th(n,o),u!=null&&a.push(Rh(n,u,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}function mv(){}var tx=null,nx=null;function aF(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function O1(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var b2=typeof setTimeout=="function"?setTimeout:void 0,DV=typeof clearTimeout=="function"?clearTimeout:void 0;function UE(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Ul(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function S2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rx=0;function BV(e){return{$$typeof:CE,toString:e,valueOf:e}}var Pg=Math.random().toString(36).slice(2),Ya="__reactFiber$"+Pg,vv="__reactProps$"+Pg,wc="__reactContainer$"+Pg,w2="__reactEvents$"+Pg;function au(e){var t=e[Ya];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wc]||n[Ya]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=S2(e);e!==null;){if(n=e[Ya])return n;e=S2(e)}return t}e=n,n=e.parentNode}return null}function md(e){return e=e[Ya]||e[wc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Il(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function Ig(e){return e[vv]||null}function sF(e){var t=e[w2];return t===void 0&&(t=e[w2]=new Set),t}var A1=[],Rl=-1;function Ts(e){return{current:e}}function Jt(e){0>Rl||(e.current=A1[Rl],A1[Rl]=null,Rl--)}function vn(e,t){Rl++,A1[Rl]=e.current,e.current=t}var gs={},xr=Ts(gs),Xr=Ts(!1),xu=gs;function tc(e,t){var n=e.type.contextTypes;if(!n)return gs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qr(e){return e=e.childContextTypes,e!=null}function gv(){Jt(Xr),Jt(xr)}function E2(e,t,n){if(xr.current!==gs)throw Error(Ee(168));vn(xr,t),vn(Xr,n)}function uF(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ee(108,Dl(t)||"Unknown",i));return rn({},n,r)}function Fm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,xu=xr.current,vn(xr,e),vn(Xr,Xr.current),!0}function T2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=uF(e,t,xu),r.__reactInternalMemoizedMergedChildContext=e,Jt(Xr),Jt(xr),vn(xr,e)):Jt(Xr),vn(Xr,n)}var GE=null,hu=null,jV=Zn.unstable_runWithPriority,zE=Zn.unstable_scheduleCallback,P1=Zn.unstable_cancelCallback,$V=Zn.unstable_shouldYield,C2=Zn.unstable_requestPaint,I1=Zn.unstable_now,UV=Zn.unstable_getCurrentPriorityLevel,Rg=Zn.unstable_ImmediatePriority,lF=Zn.unstable_UserBlockingPriority,cF=Zn.unstable_NormalPriority,fF=Zn.unstable_LowPriority,hF=Zn.unstable_IdlePriority,ix={},GV=C2!==void 0?C2:function(){},ua=null,Dm=null,ox=!1,O2=I1(),yr=1e4>O2?I1:function(){return I1()-O2};function nc(){switch(UV()){case Rg:return 99;case lF:return 98;case cF:return 97;case fF:return 96;case hF:return 95;default:throw Error(Ee(332))}}function dF(e){switch(e){case 99:return Rg;case 98:return lF;case 97:return cF;case 96:return fF;case 95:return hF;default:throw Error(Ee(332))}}function bu(e,t){return e=dF(e),jV(e,t)}function kh(e,t,n){return e=dF(e),zE(e,t,n)}function Go(){if(Dm!==null){var e=Dm;Dm=null,P1(e)}pF()}function pF(){if(!ox&&ua!==null){ox=!0;var e=0;try{var t=ua;bu(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),ua=null}catch(n){throw ua!==null&&(ua=ua.slice(e+1)),zE(Rg,Go),n}finally{ox=!1}}}var zV=Pu.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var yv=Ts(null),_v=null,kl=null,xv=null;function HE(){xv=kl=_v=null}function VE(e){var t=yv.current;Jt(yv),e.type._context._currentValue=t}function mF(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Gl(e,t){_v=e,xv=kl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(eo=!0),e.firstContext=null)}function Li(e,t){if(xv!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(xv=e,t=1073741823),t={context:e,observedBits:t,next:null},kl===null){if(_v===null)throw Error(Ee(308));kl=t,_v.dependencies={lanes:0,firstContext:t,responders:null}}else kl=kl.next=t;return e._currentValue}var $a=!1;function WE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function vF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function as(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function A2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nh(e,t,n,r){var i=e.updateQueue;$a=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var f=e.alternate;if(f!==null){f=f.updateQueue;var d=f.lastBaseUpdate;d!==a&&(d===null?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=u)}}if(o!==null){d=i.baseState,a=0,f=l=u=null;do{s=o.lane;var p=o.eventTime;if((r&s)===s){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(s=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,s);break e}d=m;break e;case 3:m.flags=m.flags&-4097|64;case 0:if(m=v.payload,s=typeof m=="function"?m.call(p,d,s):m,s==null)break e;d=rn({},d,s);break e;case 2:$a=!0}}o.callback!==null&&(e.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else p={eventTime:p,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(l=f=p,u=d):f=f.next=p,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);f===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=f,gd|=a,e.lanes=a,e.memoizedState=d}}function P2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var gF=new Sg.Component().refs;function bv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kg={isMounted:function(e){return(e=e._reactInternals)?Iu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ci(),i=ss(e),o=os(r,i);o.payload=t,n!=null&&(o.callback=n),as(e,o),us(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ci(),i=ss(e),o=os(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),as(e,o),us(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ci(),r=ss(e),i=os(n,r);i.tag=2,t!=null&&(i.callback=t),as(e,i),us(e,r,n)}};function I2(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ih(n,r)||!Ih(i,o):!0}function yF(e,t,n){var r=!1,i=gs,o=t.contextType;return typeof o=="object"&&o!==null?o=Li(o):(i=qr(t)?xu:xr.current,r=t.contextTypes,o=(r=r!=null)?tc(e,i):gs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function R2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kg.enqueueReplaceState(t,t.state,null)}function R1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gF,WE(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Li(o):(o=qr(t)?xu:xr.current,i.context=tc(e,o)),Nh(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bv(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&kg.enqueueReplaceState(i,i.state,null),Nh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Gp=Array.isArray;function bf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=r.refs;a===gF&&(a=r.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function zp(e,t){if(e.type!=="textarea")throw Error(Ee(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _F(e){function t(y,x){if(e){var b=y.lastEffect;b!==null?(b.nextEffect=x,y.lastEffect=x):y.firstEffect=y.lastEffect=x,x.nextEffect=null,x.flags=8}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=_s(y,x),y.index=0,y.sibling=null,y}function o(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags=2,x):b):(y.flags=2,x)):x}function a(y){return e&&y.alternate===null&&(y.flags=2),y}function s(y,x,b,w){return x===null||x.tag!==6?(x=cx(b,y.mode,w),x.return=y,x):(x=i(x,b),x.return=y,x)}function u(y,x,b,w){return x!==null&&x.elementType===b.type?(w=i(x,b.props),w.ref=bf(y,x,b),w.return=y,w):(w=Um(b.type,b.key,b.props,null,y.mode,w),w.ref=bf(y,x,b),w.return=y,w)}function l(y,x,b,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=fx(b,y.mode,w),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function f(y,x,b,w,T){return x===null||x.tag!==7?(x=Wl(b,y.mode,w,T),x.return=y,x):(x=i(x,b),x.return=y,x)}function d(y,x,b){if(typeof x=="string"||typeof x=="number")return x=cx(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qf:return b=Um(x.type,x.key,x.props,null,y.mode,b),b.ref=bf(y,null,x),b.return=y,b;case iu:return x=fx(x,y.mode,b),x.return=y,x}if(Gp(x)||mf(x))return x=Wl(x,y.mode,b,null),x.return=y,x;zp(y,x)}return null}function p(y,x,b,w){var T=x!==null?x.key:null;if(typeof b=="string"||typeof b=="number")return T!==null?null:s(y,x,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qf:return b.key===T?b.type===Va?f(y,x,b.props.children,w,T):u(y,x,b,w):null;case iu:return b.key===T?l(y,x,b,w):null}if(Gp(b)||mf(b))return T!==null?null:f(y,x,b,w,null);zp(y,b)}return null}function m(y,x,b,w,T){if(typeof w=="string"||typeof w=="number")return y=y.get(b)||null,s(x,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qf:return y=y.get(w.key===null?b:w.key)||null,w.type===Va?f(x,y,w.props.children,T,w.key):u(x,y,w,T);case iu:return y=y.get(w.key===null?b:w.key)||null,l(x,y,w,T)}if(Gp(w)||mf(w))return y=y.get(b)||null,f(x,y,w,T,null);zp(x,w)}return null}function v(y,x,b,w){for(var T=null,C=null,O=x,A=x=0,M=null;O!==null&&A<b.length;A++){O.index>A?(M=O,O=null):M=O.sibling;var D=p(y,O,b[A],w);if(D===null){O===null&&(O=M);break}e&&O&&D.alternate===null&&t(y,O),x=o(D,x,A),C===null?T=D:C.sibling=D,C=D,O=M}if(A===b.length)return n(y,O),T;if(O===null){for(;A<b.length;A++)O=d(y,b[A],w),O!==null&&(x=o(O,x,A),C===null?T=O:C.sibling=O,C=O);return T}for(O=r(y,O);A<b.length;A++)M=m(O,y,A,b[A],w),M!==null&&(e&&M.alternate!==null&&O.delete(M.key===null?A:M.key),x=o(M,x,A),C===null?T=M:C.sibling=M,C=M);return e&&O.forEach(function(B){return t(y,B)}),T}function _(y,x,b,w){var T=mf(b);if(typeof T!="function")throw Error(Ee(150));if(b=T.call(b),b==null)throw Error(Ee(151));for(var C=T=null,O=x,A=x=0,M=null,D=b.next();O!==null&&!D.done;A++,D=b.next()){O.index>A?(M=O,O=null):M=O.sibling;var B=p(y,O,D.value,w);if(B===null){O===null&&(O=M);break}e&&O&&B.alternate===null&&t(y,O),x=o(B,x,A),C===null?T=B:C.sibling=B,C=B,O=M}if(D.done)return n(y,O),T;if(O===null){for(;!D.done;A++,D=b.next())D=d(y,D.value,w),D!==null&&(x=o(D,x,A),C===null?T=D:C.sibling=D,C=D);return T}for(O=r(y,O);!D.done;A++,D=b.next())D=m(O,y,A,D.value,w),D!==null&&(e&&D.alternate!==null&&O.delete(D.key===null?A:D.key),x=o(D,x,A),C===null?T=D:C.sibling=D,C=D);return e&&O.forEach(function(G){return t(y,G)}),T}return function(y,x,b,w){var T=typeof b=="object"&&b!==null&&b.type===Va&&b.key===null;T&&(b=b.props.children);var C=typeof b=="object"&&b!==null;if(C)switch(b.$$typeof){case qf:e:{for(C=b.key,T=x;T!==null;){if(T.key===C){switch(T.tag){case 7:if(b.type===Va){n(y,T.sibling),x=i(T,b.props.children),x.return=y,y=x;break e}break;default:if(T.elementType===b.type){n(y,T.sibling),x=i(T,b.props),x.ref=bf(y,T,b),x.return=y,y=x;break e}}n(y,T);break}else t(y,T);T=T.sibling}b.type===Va?(x=Wl(b.props.children,y.mode,w,b.key),x.return=y,y=x):(w=Um(b.type,b.key,b.props,null,y.mode,w),w.ref=bf(y,x,b),w.return=y,y=w)}return a(y);case iu:e:{for(T=b.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=fx(b,y.mode,w),x.return=y,y=x}return a(y)}if(typeof b=="string"||typeof b=="number")return b=""+b,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,b),x.return=y,y=x):(n(y,x),x=cx(b,y.mode,w),x.return=y,y=x),a(y);if(Gp(b))return v(y,x,b,w);if(mf(b))return _(y,x,b,w);if(C&&zp(y,b),typeof b>"u"&&!T)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Ee(152,Dl(y.type)||"Component"))}return n(y,x)}}var Sv=_F(!0),xF=_F(!1),vd={},ko=Ts(vd),Lh=Ts(vd),Mh=Ts(vd);function su(e){if(e===vd)throw Error(Ee(174));return e}function k1(e,t){switch(vn(Mh,t),vn(Lh,e),vn(ko,vd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:v1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=v1(t,e)}Jt(ko),vn(ko,t)}function rc(){Jt(ko),Jt(Lh),Jt(Mh)}function k2(e){su(Mh.current);var t=su(ko.current),n=v1(t,e.type);t!==n&&(vn(Lh,e),vn(ko,n))}function XE(e){Lh.current===e&&(Jt(ko),Jt(Lh))}var mn=Ts(0);function wv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=null,Ja=null,No=!1;function bF(e,t){var n=Ai(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function N2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function N1(e){if(No){var t=Ja;if(t){var n=t;if(!N2(e,t)){if(t=Ul(n.nextSibling),!t||!N2(e,t)){e.flags=e.flags&-1025|2,No=!1,ha=e;return}bF(ha,n)}ha=e,Ja=Ul(t.firstChild)}else e.flags=e.flags&-1025|2,No=!1,ha=e}}function L2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ha=e}function Hp(e){if(e!==ha)return!1;if(!No)return L2(e),No=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!O1(t,e.memoizedProps))for(t=Ja;t;)bF(e,t),t=Ul(t.nextSibling);if(L2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ja=Ul(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ja=null}}else Ja=ha?Ul(e.stateNode.nextSibling):null;return!0}function ax(){Ja=ha=null,No=!1}var zl=[];function qE(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var lh=Pu.ReactCurrentDispatcher,ki=Pu.ReactCurrentBatchConfig,Fh=0,Tn=null,vr=null,or=null,Ev=!1,ch=!1;function $r(){throw Error(Ee(321))}function KE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oi(e[n],t[n]))return!1;return!0}function YE(e,t,n,r,i,o){if(Fh=o,Tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lh.current=e===null||e.memoizedState===null?VV:WV,e=n(r,i),ch){o=0;do{if(ch=!1,!(25>o))throw Error(Ee(301));o+=1,or=vr=null,t.updateQueue=null,lh.current=XV,e=n(r,i)}while(ch)}if(lh.current=Av,t=vr!==null&&vr.next!==null,Fh=0,or=vr=Tn=null,Ev=!1,t)throw Error(Ee(300));return e}function uu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Tn.memoizedState=or=e:or=or.next=e,or}function Ru(){if(vr===null){var e=Tn.alternate;e=e!==null?e.memoizedState:null}else e=vr.next;var t=or===null?Tn.memoizedState:or.next;if(t!==null)or=t,vr=e;else{if(e===null)throw Error(Ee(310));vr=e,e={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},or===null?Tn.memoizedState=or=e:or=or.next=e}return or}function Po(e,t){return typeof t=="function"?t(e):t}function Sf(e){var t=Ru(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=vr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var s=a=o=null,u=i;do{var l=u.lane;if((Fh&l)===l)s!==null&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var f={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};s===null?(a=s=f,o=r):s=s.next=f,Tn.lanes|=l,gd|=l}u=u.next}while(u!==null&&u!==i);s===null?o=r:s.next=a,Oi(r,t.memoizedState)||(eo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function wf(e){var t=Ru(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Oi(o,t.memoizedState)||(eo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function M2(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Fh&e)===e)&&(t._workInProgressVersionPrimary=r,zl.push(t))),e)return n(t._source);throw zl.push(t),Error(Ee(350))}function SF(e,t,n,r){var i=Rr;if(i===null)throw Error(Ee(349));var o=t._getVersion,a=o(t._source),s=lh.current,u=s.useState(function(){return M2(i,t,n)}),l=u[1],f=u[0];u=or;var d=e.memoizedState,p=d.refs,m=p.getSnapshot,v=d.source;d=d.subscribe;var _=Tn;return e.memoizedState={refs:p,source:t,subscribe:r},s.useEffect(function(){p.getSnapshot=n,p.setSnapshot=l;var y=o(t._source);if(!Oi(a,y)){y=n(t._source),Oi(f,y)||(l(y),y=ss(_),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var x=i.entanglements,b=y;0<b;){var w=31-vs(b),T=1<<w;x[w]|=y,b&=~T}}},[n,t,r]),s.useEffect(function(){return r(t._source,function(){var y=p.getSnapshot,x=p.setSnapshot;try{x(y(t._source));var b=ss(_);i.mutableReadLanes|=b&i.pendingLanes}catch(w){x(function(){throw w})}})},[t,r]),Oi(m,n)&&Oi(v,t)&&Oi(d,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Po,lastRenderedState:f},e.dispatch=l=QE.bind(null,Tn,e),u.queue=e,u.baseQueue=null,f=M2(i,t,n),u.memoizedState=u.baseState=f),f}function wF(e,t,n){var r=Ru();return SF(r,e,t,n)}function Ef(e){var t=uu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},e=e.dispatch=QE.bind(null,Tn,e),[t.memoizedState,e]}function Tv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tn.updateQueue,t===null?(t={lastEffect:null},Tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function F2(e){var t=uu();return e={current:e},t.memoizedState=e}function Cv(){return Ru().memoizedState}function L1(e,t,n,r){var i=uu();Tn.flags|=e,i.memoizedState=Tv(1|t,n,void 0,r===void 0?null:r)}function JE(e,t,n,r){var i=Ru();r=r===void 0?null:r;var o=void 0;if(vr!==null){var a=vr.memoizedState;if(o=a.destroy,r!==null&&KE(r,a.deps)){Tv(t,n,o,r);return}}Tn.flags|=e,i.memoizedState=Tv(1|t,n,o,r)}function D2(e,t){return L1(516,4,e,t)}function Ov(e,t){return JE(516,4,e,t)}function EF(e,t){return JE(4,2,e,t)}function TF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CF(e,t,n){return n=n!=null?n.concat([e]):null,JE(4,2,TF.bind(null,t,e),n)}function ZE(){}function OF(e,t){var n=Ru();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&KE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function AF(e,t){var n=Ru();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&KE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HV(e,t){var n=nc();bu(98>n?98:n,function(){e(!0)}),bu(97<n?97:n,function(){var r=ki.transition;ki.transition=1;try{e(!1),t()}finally{ki.transition=r}})}function QE(e,t,n){var r=ci(),i=ss(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Tn||a!==null&&a===Tn)ch=Ev=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,Oi(u,s))return}catch{}finally{}us(e,i,r)}}var Av={readContext:Li,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useOpaqueIdentifier:$r,unstable_isNewReconciler:!1},VV={readContext:Li,useCallback:function(e,t){return uu().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:D2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,L1(4,2,TF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return L1(4,2,e,t)},useMemo:function(e,t){var n=uu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=QE.bind(null,Tn,e),[r.memoizedState,e]},useRef:F2,useState:Ef,useDebugValue:ZE,useDeferredValue:function(e){var t=Ef(e),n=t[0],r=t[1];return D2(function(){var i=ki.transition;ki.transition=1;try{r(e)}finally{ki.transition=i}},[e]),n},useTransition:function(){var e=Ef(!1),t=e[0];return e=HV.bind(null,e[1]),F2(e),[e,t]},useMutableSource:function(e,t,n){var r=uu();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},SF(r,e,t,n)},useOpaqueIdentifier:function(){if(No){var e=!1,t=BV(function(){throw e||(e=!0,n("r:"+(rx++).toString(36))),Error(Ee(355))}),n=Ef(t)[1];return!(Tn.mode&2)&&(Tn.flags|=516,Tv(5,function(){n("r:"+(rx++).toString(36))},void 0,null)),t}return t="r:"+(rx++).toString(36),Ef(t),t},unstable_isNewReconciler:!1},WV={readContext:Li,useCallback:OF,useContext:Li,useEffect:Ov,useImperativeHandle:CF,useLayoutEffect:EF,useMemo:AF,useReducer:Sf,useRef:Cv,useState:function(){return Sf(Po)},useDebugValue:ZE,useDeferredValue:function(e){var t=Sf(Po),n=t[0],r=t[1];return Ov(function(){var i=ki.transition;ki.transition=1;try{r(e)}finally{ki.transition=i}},[e]),n},useTransition:function(){var e=Sf(Po)[0];return[Cv().current,e]},useMutableSource:wF,useOpaqueIdentifier:function(){return Sf(Po)[0]},unstable_isNewReconciler:!1},XV={readContext:Li,useCallback:OF,useContext:Li,useEffect:Ov,useImperativeHandle:CF,useLayoutEffect:EF,useMemo:AF,useReducer:wf,useRef:Cv,useState:function(){return wf(Po)},useDebugValue:ZE,useDeferredValue:function(e){var t=wf(Po),n=t[0],r=t[1];return Ov(function(){var i=ki.transition;ki.transition=1;try{r(e)}finally{ki.transition=i}},[e]),n},useTransition:function(){var e=wf(Po)[0];return[Cv().current,e]},useMutableSource:wF,useOpaqueIdentifier:function(){return wf(Po)[0]},unstable_isNewReconciler:!1},qV=Pu.ReactCurrentOwner,eo=!1;function zr(e,t,n,r){t.child=e===null?xF(t,null,n,r):Sv(t,e.child,n,r)}function B2(e,t,n,r,i){n=n.render;var o=t.ref;return Gl(t,i),r=YE(e,t,n,r,o,i),e!==null&&!eo?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,da(e,t,i)):(t.flags|=1,zr(e,t,r,i),t.child)}function j2(e,t,n,r,i,o){if(e===null){var a=n.type;return typeof a=="function"&&!oT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,PF(e,t,a,r,i,o)):(e=Um(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,!(i&o)&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:Ih,n(i,r)&&e.ref===t.ref)?da(e,t,o):(t.flags|=1,e=_s(a,r),e.ref=t.ref,e.return=t,t.child=e)}function PF(e,t,n,r,i,o){if(e!==null&&Ih(e.memoizedProps,r)&&e.ref===t.ref)if(eo=!1,(o&i)!==0)e.flags&16384&&(eo=!0);else return t.lanes=e.lanes,da(e,t,o);return M1(e,t,n,r,o)}function sx(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},Wp(t,n);else if(n&1073741824)t.memoizedState={baseLanes:0},Wp(t,o!==null?o.baseLanes:n);else return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Wp(t,e),null;else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Wp(t,r);return zr(e,t,i,n),t.child}function IF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function M1(e,t,n,r,i){var o=qr(n)?xu:xr.current;return o=tc(t,o),Gl(t,i),n=YE(e,t,n,r,o,i),e!==null&&!eo?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,da(e,t,i)):(t.flags|=1,zr(e,t,n,i),t.child)}function $2(e,t,n,r,i){if(qr(n)){var o=!0;Fm(t)}else o=!1;if(Gl(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),yF(t,n,r),R1(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Li(l):(l=qr(n)?xu:xr.current,l=tc(t,l));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&R2(t,a,r,l),$a=!1;var p=t.memoizedState;a.state=p,Nh(t,r,a,i),u=t.memoizedState,s!==r||p!==u||Xr.current||$a?(typeof f=="function"&&(bv(t,n,f,r),u=t.memoizedState),(s=$a||I2(t,n,s,r,p,u,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,vF(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Zi(t.type,s),a.props=l,d=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Li(u):(u=qr(n)?xu:xr.current,u=tc(t,u));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==u)&&R2(t,a,r,u),$a=!1,p=t.memoizedState,a.state=p,Nh(t,r,a,i);var v=t.memoizedState;s!==d||p!==v||Xr.current||$a?(typeof m=="function"&&(bv(t,n,m,r),v=t.memoizedState),(l=$a||I2(t,n,l,r,p,v,u))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return F1(e,t,n,r,o,i)}function F1(e,t,n,r,i,o){IF(e,t);var a=(t.flags&64)!==0;if(!r&&!a)return i&&T2(t,n,!1),da(e,t,o);r=t.stateNode,qV.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Sv(t,e.child,null,o),t.child=Sv(t,null,s,o)):zr(e,t,s,o),t.memoizedState=r.state,i&&T2(t,n,!0),t.child}function U2(e){var t=e.stateNode;t.pendingContext?E2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&E2(e,t.context,!1),k1(e,t.containerInfo)}var Vp={dehydrated:null,retryLane:0};function G2(e,t,n){var r=t.pendingProps,i=mn.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),vn(mn,i&1),e===null?(r.fallback!==void 0&&N1(t),e=r.children,i=r.fallback,o?(e=z2(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Vp,e):typeof r.unstable_expectedLoadTime=="number"?(e=z2(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Vp,t.lanes=33554432,e):(n=aT({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?o?(r=V2(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Vp,r):(n=H2(e,t,r.children,n),t.memoizedState=null,n):o?(r=V2(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Vp,r):(n=H2(e,t,r.children,n),t.memoizedState=null,n)}function z2(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=aT(t,i,0,null),n=Wl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function H2(e,t,n,r){var i=e.child;return e=i.sibling,n=_s(i,{mode:"visible",children:n}),!(t.mode&2)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function V2(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return!(o&2)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,a=n.lastEffect,a!==null?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=_s(a,s),e!==null?r=_s(e,r):(r=Wl(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function W2(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mF(e.return,t)}function ux(e,t,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function X2(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(zr(e,t,r.children,n),r=mn.current,r&2)r=r&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W2(e,n);else if(e.tag===19)W2(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vn(mn,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ux(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ux(t,!0,n,null,o,t.lastEffect);break;case"together":ux(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function da(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gd|=t.lanes,n&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=_s(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_s(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var RF,D1,kF,NF;RF=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D1=function(){};kF=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,su(ko.current);var o=null;switch(n){case"input":i=c1(e,i),r=c1(e,r),o=[];break;case"option":i=d1(e,i),r=d1(e,r),o=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),o=[];break;case"textarea":i=p1(e,i),r=p1(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mv)}g1(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wh.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(wh.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Xt("scroll",e),o||s===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===CE?u.toString():(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};NF=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tf(e,t){if(!No)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function KV(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return qr(t.type)&&gv(),null;case 3:return rc(),Jt(Xr),Jt(xr),qE(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hp(t)?t.flags|=4:r.hydrate||(t.flags|=256)),D1(t),null;case 5:XE(t);var i=su(Mh.current);if(n=t.type,e!==null&&t.stateNode!=null)kF(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return null}if(e=su(ko.current),Hp(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ya]=t,r[vv]=o,n){case"dialog":Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":case"embed":Xt("load",r);break;case"video":case"audio":for(e=0;e<Yf.length;e++)Xt(Yf[e],r);break;case"source":Xt("error",r);break;case"img":case"image":case"link":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"input":XP(r,o),Xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xt("invalid",r);break;case"textarea":KP(r,o),Xt("invalid",r)}g1(n,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):wh.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Xt("scroll",r));switch(n){case"input":Bp(r),qP(r,o,!0);break;case"textarea":Bp(r),YP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=mv)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===m1.html&&(e=CM(n)),e===m1.html?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ya]=t,e[vv]=r,RF(e,t,!1,!1),t.stateNode=e,a=y1(n,r),n){case"dialog":Xt("cancel",e),Xt("close",e),i=r;break;case"iframe":case"object":case"embed":Xt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Yf.length;i++)Xt(Yf[i],e);i=r;break;case"source":Xt("error",e),i=r;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),i=r;break;case"details":Xt("toggle",e),i=r;break;case"input":XP(e,r),i=c1(e,r),Xt("invalid",e);break;case"option":i=d1(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Xt("invalid",e);break;case"textarea":KP(e,r),i=p1(e,r),Xt("invalid",e);break;default:i=r}g1(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?PM(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&OM(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Eh(e,u):typeof u=="number"&&Eh(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wh.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Xt("scroll",e):u!=null&&xE(e,o,u,a))}switch(n){case"input":Bp(e),qP(e,r,!1);break;case"textarea":Bp(e),YP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ms(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Bl(e,!!r.multiple,o,!1):r.defaultValue!=null&&Bl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mv)}aF(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)NF(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));n=su(Mh.current),su(ko.current),Hp(t)?(r=t.stateNode,n=t.memoizedProps,r[Ya]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ya]=t,t.stateNode=r)}return null;case 13:return Jt(mn),r=t.memoizedState,t.flags&64?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&Hp(t):n=e.memoizedState!==null,r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||mn.current&1?sr===0&&(sr=3):((sr===0||sr===3)&&(sr=4),Rr===null||!(gd&134217727)&&!(Tc&134217727)||Hl(Rr,_r))),(r||n)&&(t.flags|=4),null);case 4:return rc(),D1(t),e===null&&rF(t.stateNode.containerInfo),null;case 10:return VE(t),null;case 17:return qr(t.type)&&gv(),null;case 19:if(Jt(mn),r=t.memoizedState,r===null)return null;if(o=(t.flags&64)!==0,a=r.rendering,a===null)if(o)Tf(r,!1);else{if(sr!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(a=wv(e),a!==null){for(t.flags|=64,Tf(r,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return vn(mn,mn.current&1|2),t.child}e=e.sibling}r.tail!==null&&yr()>z1&&(t.flags|=64,o=!0,Tf(r,!1),t.lanes=33554432)}else{if(!o)if(e=wv(a),e!==null){if(t.flags|=64,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!No)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*yr()-r.renderingStartTime>z1&&n!==1073741824&&(t.flags|=64,o=!0,Tf(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=yr(),n.sibling=null,t=mn.current,vn(mn,o?t&1|2:t&1),n):null;case 23:case 24:return iT(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Ee(156,t.tag))}function YV(e){switch(e.tag){case 1:qr(e.type)&&gv();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(rc(),Jt(Xr),Jt(xr),qE(),t=e.flags,t&64)throw Error(Ee(285));return e.flags=t&-4097|64,e;case 5:return XE(e),null;case 13:return Jt(mn),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Jt(mn),null;case 4:return rc(),null;case 10:return VE(e),null;case 23:case 24:return iT(),null;default:return null}}function eT(e,t){try{var n="",r=t;do n+=I9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function B1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var JV=typeof WeakMap=="function"?WeakMap:Map;function LF(e,t,n){n=os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Iv||(Iv=!0,H1=r),B1(e,t)},n}function MF(e,t,n){n=os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return B1(e,t),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Io===null?Io=new Set([this]):Io.add(this),B1(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}var ZV=typeof WeakSet=="function"?WeakSet:Set;function q2(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){ls(e,n)}else t.current=null}function QV(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&UE(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Ee(163))}function eW(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&(HF(n,e),uW(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&P2(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}P2(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&aF(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&jM(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Ee(163))}function K2(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=AM("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Y2(e,t){if(hu&&typeof hu.onCommitFiberUnmount=="function")try{hu.onCommitFiberUnmount(GE,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)HF(t,n);else{r=t;try{i()}catch(o){ls(r,o)}}n=n.next}while(n!==e)}break;case 1:if(q2(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ls(t,o)}break;case 5:q2(t);break;case 4:FF(e,t)}}function J2(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Z2(e){return e.tag===5||e.tag===3||e.tag===4}function Q2(e){e:{for(var t=e.return;t!==null;){if(Z2(t))break e;t=t.return}throw Error(Ee(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(Ee(161))}n.flags&16&&(Eh(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||Z2(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?j1(e,n,t):$1(e,n,t)}function j1(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mv));else if(r!==4&&(e=e.child,e!==null))for(j1(e,t,n),e=e.sibling;e!==null;)j1(e,t,n),e=e.sibling}function $1(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($1(e,t,n),e=e.sibling;e!==null;)$1(e,t,n),e=e.sibling}function FF(e,t){for(var n=t,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Ee(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=e,s=n,u=s;;)if(Y2(a,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(a=i,s=n.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Y2(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function lx(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(n[vv]=r,e==="input"&&r.type==="radio"&&r.name!=null&&EM(n,r),y1(e,i),t=y1(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?PM(n,s):a==="dangerouslySetInnerHTML"?OM(n,s):a==="children"?Eh(n,s):xE(n,a,s,t)}switch(e){case"input":f1(n,r);break;case"textarea":TM(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?Bl(n,!!r.multiple,o,!1):e!==!!r.multiple&&(r.defaultValue!=null?Bl(n,!!r.multiple,r.defaultValue,!0):Bl(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Ee(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,jM(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(rT=yr(),K2(t.child,!0)),eI(t);return;case 19:eI(t);return;case 17:return;case 23:case 24:K2(t,t.memoizedState!==null);return}throw Error(Ee(163))}function eI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ZV),t.forEach(function(r){var i=fW.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tW(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var nW=Math.ceil,Pv=Pu.ReactCurrentDispatcher,tT=Pu.ReactCurrentOwner,et=0,Rr=null,jn=null,_r=0,Su=0,U1=Ts(0),sr=0,Ng=null,Ec=0,gd=0,Tc=0,nT=0,G1=null,rT=0,z1=1/0;function Cc(){z1=yr()+500}var Fe=null,Iv=!1,H1=null,Io=null,ys=!1,fh=null,Jf=90,V1=[],W1=[],ga=null,hh=0,X1=null,Bm=-1,ca=0,jm=0,dh=null,$m=!1;function ci(){return et&48?yr():Bm!==-1?Bm:Bm=yr()}function ss(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return nc()===99?1:2;if(ca===0&&(ca=Ec),zV.transition!==0){jm!==0&&(jm=G1!==null?G1.pendingLanes:0),e=ca;var t=4186112&~jm;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=nc(),et&4&&e===98?e=dv(12,ca):(e=W9(e),e=dv(e,ca)),e}function us(e,t,n){if(50<hh)throw hh=0,X1=null,Error(Ee(185));if(e=Lg(e,t),e===null)return null;Cg(e,t,n),e===Rr&&(Tc|=t,sr===4&&Hl(e,_r));var r=nc();t===1?et&8&&!(et&48)?q1(e):(Mi(e,n),et===0&&(Cc(),Go())):(!(et&4)||r!==98&&r!==99||(ga===null?ga=new Set([e]):ga.add(e)),Mi(e,n)),G1=e}function Lg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function Mi(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-vs(a),u=1<<s,l=o[s];if(l===-1){if(!(u&r)||u&i){l=t,Sl(u);var f=Ht;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ah(e,e===Rr?_r:0),t=Ht,r===0)n!==null&&(n!==ix&&P1(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==ix&&P1(n)}t===15?(n=q1.bind(null,e),ua===null?(ua=[n],Dm=zE(Rg,pF)):ua.push(n),n=ix):t===14?n=kh(99,q1.bind(null,e)):(n=X9(t),n=kh(n,DF.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function DF(e){if(Bm=-1,jm=ca=0,et&48)throw Error(Ee(327));var t=e.callbackNode;if(Cs()&&e.callbackNode!==t)return null;var n=Ah(e,e===Rr?_r:0);if(n===0)return null;var r=n,i=et;et|=16;var o=UF();(Rr!==e||_r!==r)&&(Cc(),Vl(e,r));do try{oW();break}catch(s){$F(e,s)}while(1);if(HE(),Pv.current=o,et=i,jn!==null?r=0:(Rr=null,_r=0,r=sr),Ec&Tc)Vl(e,0);else if(r!==0){if(r===2&&(et|=64,e.hydrate&&(e.hydrate=!1,UE(e.containerInfo)),n=WM(e),n!==0&&(r=Zf(e,n))),r===1)throw t=Ng,Vl(e,0),Hl(e,n),Mi(e,yr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(Ee(345));case 2:Ys(e);break;case 3:if(Hl(e,n),(n&62914560)===n&&(r=rT+500-yr(),10<r)){if(Ah(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ci(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=b2(Ys.bind(null,e),r);break}Ys(e);break;case 4:if(Hl(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-vs(n);o=1<<a,a=r[a],a>i&&(i=a),n&=~o}if(n=i,n=yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nW(n/1960))-n,10<n){e.timeoutHandle=b2(Ys.bind(null,e),n);break}Ys(e);break;case 5:Ys(e);break;default:throw Error(Ee(329))}}return Mi(e,yr()),e.callbackNode===t?DF.bind(null,e):null}function Hl(e,t){for(t&=~nT,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vs(t),r=1<<n;e[n]=-1,t&=~r}}function q1(e){if(et&48)throw Error(Ee(327));if(Cs(),e===Rr&&e.expiredLanes&_r){var t=_r,n=Zf(e,t);Ec&Tc&&(t=Ah(e,t),n=Zf(e,t))}else t=Ah(e,0),n=Zf(e,t);if(e.tag!==0&&n===2&&(et|=64,e.hydrate&&(e.hydrate=!1,UE(e.containerInfo)),t=WM(e),t!==0&&(n=Zf(e,t))),n===1)throw n=Ng,Vl(e,0),Hl(e,t),Mi(e,yr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e),Mi(e,yr()),null}function rW(){if(ga!==null){var e=ga;ga=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Mi(t,yr())})}Go()}function BF(e,t){var n=et;et|=1;try{return e(t)}finally{et=n,et===0&&(Cc(),Go())}}function jF(e,t){var n=et;et&=-2,et|=8;try{return e(t)}finally{et=n,et===0&&(Cc(),Go())}}function Wp(e,t){vn(U1,Su),Su|=t,Ec|=t}function iT(){Su=U1.current,Jt(U1)}function Vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,DV(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&gv();break;case 3:rc(),Jt(Xr),Jt(xr),qE();break;case 5:XE(r);break;case 4:rc();break;case 13:Jt(mn);break;case 19:Jt(mn);break;case 10:VE(r);break;case 23:case 24:iT()}n=n.return}Rr=e,jn=_s(e.current,null),_r=Su=Ec=t,sr=0,Ng=null,nT=Tc=gd=0}function $F(e,t){do{var n=jn;try{if(HE(),lh.current=Av,Ev){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ev=!1}if(Fh=0,or=vr=Tn=null,ch=!1,tT.current=null,n===null||n.return===null){sr=1,Ng=t,jn=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=_r,s.flags|=2048,s.firstEffect=s.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if(!(s.mode&2)){var f=s.alternate;f?(s.updateQueue=f.updateQueue,s.memoizedState=f.memoizedState,s.lanes=f.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=(mn.current&1)!==0,p=a;do{var m;if(m=p.tag===13){var v=p.memoizedState;if(v!==null)m=v.dehydrated!==null;else{var _=p.memoizedProps;m=_.fallback===void 0?!1:_.unstable_avoidThisFallback!==!0?!0:!d}}if(m){var y=p.updateQueue;if(y===null){var x=new Set;x.add(l),p.updateQueue=x}else y.add(l);if(!(p.mode&2)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var b=os(-1,1);b.tag=2,as(s,b)}s.lanes|=1;break e}u=void 0,s=t;var w=o.pingCache;if(w===null?(w=o.pingCache=new JV,u=new Set,w.set(l,u)):(u=w.get(l),u===void 0&&(u=new Set,w.set(l,u))),!u.has(s)){u.add(s);var T=cW.bind(null,o,l,s);l.then(T,T)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(p!==null);u=Error((Dl(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}sr!==5&&(sr=2),u=eT(u,s),p=a;do{switch(p.tag){case 3:o=u,p.flags|=4096,t&=-t,p.lanes|=t;var C=LF(p,o,t);A2(p,C);break e;case 1:o=u;var O=p.type,A=p.stateNode;if(!(p.flags&64)&&(typeof O.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Io===null||!Io.has(A)))){p.flags|=4096,t&=-t,p.lanes|=t;var M=MF(p,o,t);A2(p,M);break e}}p=p.return}while(p!==null)}zF(n)}catch(D){t=D,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(1)}function UF(){var e=Pv.current;return Pv.current=Av,e===null?Av:e}function Zf(e,t){var n=et;et|=16;var r=UF();Rr===e&&_r===t||Vl(e,t);do try{iW();break}catch(i){$F(e,i)}while(1);if(HE(),et=n,Pv.current=r,jn!==null)throw Error(Ee(261));return Rr=null,_r=0,sr}function iW(){for(;jn!==null;)GF(jn)}function oW(){for(;jn!==null&&!$V();)GF(jn)}function GF(e){var t=VF(e.alternate,e,Su);e.memoizedProps=e.pendingProps,t===null?zF(e):jn=t,tT.current=null}function zF(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&2048){if(n=YV(t),n!==null){n.flags&=2047,jn=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(n=KV(n,t,Su),n!==null){jn=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||Su&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){jn=t;return}jn=t=e}while(t!==null);sr===0&&(sr=5)}function Ys(e){var t=nc();return bu(99,aW.bind(null,e,t)),null}function aW(e,t){do Cs();while(fh!==null);if(et&48)throw Error(Ee(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-vs(o),l=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~l}if(ga!==null&&!(r&24)&&ga.has(e)&&ga.delete(e),e===Rr&&(jn=Rr=null,_r=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=et,et|=32,tT.current=null,tx=Nm,a=p2(),E1(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var f=0,d=-1,p=-1,m=0,v=0,_=a,y=null;t:for(;;){for(var x;_!==s||o!==0&&_.nodeType!==3||(d=f+o),_!==u||l!==0&&_.nodeType!==3||(p=f+l),_.nodeType===3&&(f+=_.nodeValue.length),(x=_.firstChild)!==null;)y=_,_=x;for(;;){if(_===a)break t;if(y===s&&++m===o&&(d=f),y===u&&++v===l&&(p=f),(x=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=x}s=d===-1||p===-1?null:{start:d,end:p}}else s=null;s=s||{start:0,end:0}}else s=null;nx={focusedElem:a,selectionRange:s},Nm=!1,dh=null,$m=!1,Fe=r;do try{sW()}catch(D){if(Fe===null)throw Error(Ee(330));ls(Fe,D),Fe=Fe.nextEffect}while(Fe!==null);dh=null,Fe=r;do try{for(a=e;Fe!==null;){var b=Fe.flags;if(b&16&&Eh(Fe.stateNode,""),b&128){var w=Fe.alternate;if(w!==null){var T=w.ref;T!==null&&(typeof T=="function"?T(null):T.current=null)}}switch(b&1038){case 2:Q2(Fe),Fe.flags&=-3;break;case 6:Q2(Fe),Fe.flags&=-3,lx(Fe.alternate,Fe);break;case 1024:Fe.flags&=-1025;break;case 1028:Fe.flags&=-1025,lx(Fe.alternate,Fe);break;case 4:lx(Fe.alternate,Fe);break;case 8:s=Fe,FF(a,s);var C=s.alternate;J2(s),C!==null&&J2(C)}Fe=Fe.nextEffect}}catch(D){if(Fe===null)throw Error(Ee(330));ls(Fe,D),Fe=Fe.nextEffect}while(Fe!==null);if(T=nx,w=p2(),b=T.focusedElem,a=T.selectionRange,w!==b&&b&&b.ownerDocument&&eF(b.ownerDocument.documentElement,b)){for(a!==null&&E1(b)&&(w=a.start,T=a.end,T===void 0&&(T=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(T,b.value.length)):(T=(w=b.ownerDocument||document)&&w.defaultView||window,T.getSelection&&(T=T.getSelection(),s=b.textContent.length,C=Math.min(a.start,s),a=a.end===void 0?C:Math.min(a.end,s),!T.extend&&C>a&&(s=a,a=C,C=s),s=d2(b,C),o=d2(b,a),s&&o&&(T.rangeCount!==1||T.anchorNode!==s.node||T.anchorOffset!==s.offset||T.focusNode!==o.node||T.focusOffset!==o.offset)&&(w=w.createRange(),w.setStart(s.node,s.offset),T.removeAllRanges(),C>a?(T.addRange(w),T.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),T.addRange(w)))))),w=[],T=b;T=T.parentNode;)T.nodeType===1&&w.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<w.length;b++)T=w[b],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}Nm=!!tx,nx=tx=null,e.current=n,Fe=r;do try{for(b=e;Fe!==null;){var O=Fe.flags;if(O&36&&eW(b,Fe.alternate,Fe),O&128){w=void 0;var A=Fe.ref;if(A!==null){var M=Fe.stateNode;switch(Fe.tag){case 5:w=M;break;default:w=M}typeof A=="function"?A(w):A.current=w}}Fe=Fe.nextEffect}}catch(D){if(Fe===null)throw Error(Ee(330));ls(Fe,D),Fe=Fe.nextEffect}while(Fe!==null);Fe=null,GV(),et=i}else e.current=n;if(ys)ys=!1,fh=e,Jf=t;else for(Fe=r;Fe!==null;)t=Fe.nextEffect,Fe.nextEffect=null,Fe.flags&8&&(O=Fe,O.sibling=null,O.stateNode=null),Fe=t;if(r=e.pendingLanes,r===0&&(Io=null),r===1?e===X1?hh++:(hh=0,X1=e):hh=0,n=n.stateNode,hu&&typeof hu.onCommitFiberRoot=="function")try{hu.onCommitFiberRoot(GE,n,void 0,(n.current.flags&64)===64)}catch{}if(Mi(e,yr()),Iv)throw Iv=!1,e=H1,H1=null,e;return et&8||Go(),null}function sW(){for(;Fe!==null;){var e=Fe.alternate;$m||dh===null||(Fe.flags&8?QP(Fe,dh)&&($m=!0):Fe.tag===13&&tW(e,Fe)&&QP(Fe,dh)&&($m=!0));var t=Fe.flags;t&256&&QV(e,Fe),!(t&512)||ys||(ys=!0,kh(97,function(){return Cs(),null})),Fe=Fe.nextEffect}}function Cs(){if(Jf!==90){var e=97<Jf?97:Jf;return Jf=90,bu(e,lW)}return!1}function uW(e,t){V1.push(t,e),ys||(ys=!0,kh(97,function(){return Cs(),null}))}function HF(e,t){W1.push(t,e),ys||(ys=!0,kh(97,function(){return Cs(),null}))}function lW(){if(fh===null)return!1;var e=fh;if(fh=null,et&48)throw Error(Ee(331));var t=et;et|=32;var n=W1;W1=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(u){if(o===null)throw Error(Ee(330));ls(o,u)}}for(n=V1,V1=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(u){if(o===null)throw Error(Ee(330));ls(o,u)}}for(s=e.current.firstEffect;s!==null;)e=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=e;return et=t,Go(),!0}function tI(e,t,n){t=eT(n,t),t=LF(e,t,1),as(e,t),t=ci(),e=Lg(e,1),e!==null&&(Cg(e,1,t),Mi(e,t))}function ls(e,t){if(e.tag===3)tI(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){tI(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Io===null||!Io.has(r))){e=eT(t,e);var i=MF(n,e,1);if(as(n,i),i=ci(),n=Lg(n,1),n!==null)Cg(n,1,i),Mi(n,i);else if(typeof r.componentDidCatch=="function"&&(Io===null||!Io.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function cW(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ci(),e.pingedLanes|=e.suspendedLanes&n,Rr===e&&(_r&n)===n&&(sr===4||sr===3&&(_r&62914560)===_r&&500>yr()-rT?Vl(e,0):nT|=n),Mi(e,t)}function fW(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(ca===0&&(ca=Ec),t=wl(62914560&~ca),t===0&&(t=4194304)):t=nc()===99?1:2:t=1),n=ci(),e=Lg(e,t),e!==null&&(Cg(e,t,n),Mi(e,n))}var VF;VF=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Xr.current)eo=!0;else if(n&r)eo=!!(e.flags&16384);else{switch(eo=!1,t.tag){case 3:U2(t),ax();break;case 5:k2(t);break;case 1:qr(t.type)&&Fm(t);break;case 4:k1(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;vn(yv,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return n&t.child.childLanes?G2(e,t,n):(vn(mn,mn.current&1),t=da(e,t,n),t!==null?t.sibling:null);vn(mn,mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&64){if(r)return X2(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(mn,mn.current),r)break;return null;case 23:case 24:return t.lanes=0,sx(e,t,n)}return da(e,t,n)}else eo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=tc(t,xr.current),Gl(t,n),i=YE(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,qr(r)){var o=!0;Fm(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,WE(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&bv(t,r,a,e),i.updater=kg,t.stateNode=i,i._reactInternals=t,R1(t,r,e,n),t=F1(null,t,r,!0,o,n)}else t.tag=0,zr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=dW(i),e=Zi(i,e),o){case 0:t=M1(null,t,i,e,n);break e;case 1:t=$2(null,t,i,e,n);break e;case 11:t=B2(null,t,i,e,n);break e;case 14:t=j2(null,t,i,Zi(i.type,e),r,n);break e}throw Error(Ee(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),M1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),$2(e,t,r,i,n);case 3:if(U2(t),r=t.updateQueue,e===null||r===null)throw Error(Ee(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,vF(e,t),Nh(t,r,null,n),r=t.memoizedState.element,r===i)ax(),t=da(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(Ja=Ul(t.stateNode.containerInfo.firstChild),ha=t,o=No=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],zl.push(o);for(n=xF(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else zr(e,t,r,n),ax();t=t.child}return t;case 5:return k2(t),e===null&&N1(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,O1(r,i)?a=null:o!==null&&O1(r,o)&&(t.flags|=16),IF(e,t),zr(e,t,a,n),t.child;case 6:return e===null&&N1(t),null;case 13:return G2(e,t,n);case 4:return k1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sv(t,null,r,n):zr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),B2(e,t,r,i,n);case 7:return zr(e,t,t.pendingProps,n),t.child;case 8:return zr(e,t,t.pendingProps.children,n),t.child;case 12:return zr(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(vn(yv,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Oi(s,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!Xr.current){t=da(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var l=u.firstContext;l!==null;){if(l.context===r&&l.observedBits&o){s.tag===1&&(l=os(-1,n&-n),l.tag=2,as(s,l)),s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),mF(s.return,n),u.lanes|=n;break}l=l.next}}else a=s.tag===10&&s.type===t.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}zr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,Gl(t,n),i=Li(i,o.unstable_observedBits),r=r(i),t.flags|=1,zr(e,t,r,n),t.child;case 14:return i=t.type,o=Zi(i,t.pendingProps),o=Zi(i.type,o),j2(e,t,i,o,r,n);case 15:return PF(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,qr(r)?(e=!0,Fm(t)):e=!1,Gl(t,n),yF(t,r,i),R1(t,r,i,n),F1(null,t,r,!0,e,n);case 19:return X2(e,t,n);case 23:return sx(e,t,n);case 24:return sx(e,t,n)}throw Error(Ee(156,t.tag))};function hW(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(e,t,n,r){return new hW(e,t,n,r)}function oT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dW(e){if(typeof e=="function")return oT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wg)return 11;if(e===Eg)return 14}return 2}function _s(e,t){var n=e.alternate;return n===null?(n=Ai(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Um(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")oT(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Va:return Wl(n.children,i,o,t);case bM:a=8,i|=16;break;case bE:a=8,i|=1;break;case nh:return e=Ai(12,n,t,i|8),e.elementType=nh,e.type=nh,e.lanes=o,e;case rh:return e=Ai(13,n,t,i),e.type=rh,e.elementType=rh,e.lanes=o,e;case lv:return e=Ai(19,n,t,i),e.elementType=lv,e.lanes=o,e;case OE:return aT(n,i,o,t);case l1:return e=Ai(24,n,t,i),e.elementType=l1,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SE:a=10;break e;case wE:a=9;break e;case wg:a=11;break e;case Eg:a=14;break e;case EE:a=16,r=null;break e;case TE:a=22;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=Ai(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Wl(e,t,n,r){return e=Ai(7,e,r,t),e.lanes=n,e}function aT(e,t,n,r){return e=Ai(23,e,r,t),e.elementType=OE,e.lanes=n,e}function cx(e,t,n){return e=Ai(6,e,null,t),e.lanes=n,e}function fx(e,t,n){return t=Ai(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pW(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=q0(0),this.expirationTimes=q0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q0(0),this.mutableSourceEagerHydrationData=null}function mW(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rv(e,t,n,r){var i=t.current,o=ci(),a=ss(i);e:if(n){n=n._reactInternals;t:{if(Iu(n)!==n||n.tag!==1)throw Error(Ee(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(qr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Ee(171))}if(n.tag===1){var u=n.type;if(qr(u)){n=uF(n,u,s);break e}}n=s}else n=gs;return t.context===null?t.context=n:t.pendingContext=n,t=os(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),as(i,t),us(i,a,o),a}function hx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sT(e,t){nI(e,t),(e=e.alternate)&&nI(e,t)}function vW(){return null}function uT(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new pW(e,t,n!=null&&n.hydrate===!0),t=Ai(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,WE(t),e[wc]=n.current,rF(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}uT.prototype.render=function(e){Rv(e,this._internalRoot,null,null)};uT.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Rv(null,e,null,function(){t[wc]=null})};function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gW(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new uT(e,0,t?{hydrate:!0}:void 0)}function Mg(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=hx(a);s.call(l)}}Rv(t,a,e,i)}else{if(o=n._reactRootContainer=gW(n,r),a=o._internalRoot,typeof i=="function"){var u=i;i=function(){var l=hx(a);u.call(l)}}jF(function(){Rv(t,a,e,i)})}return hx(a)}FM=function(e){if(e.tag===13){var t=ci();us(e,4,t),sT(e,4)}};kE=function(e){if(e.tag===13){var t=ci();us(e,67108864,t),sT(e,67108864)}};DM=function(e){if(e.tag===13){var t=ci(),n=ss(e);us(e,n,t),sT(e,n)}};BM=function(e,t){return t()};_1=function(e,t,n){switch(t){case"input":if(f1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ig(r);if(!i)throw Error(Ee(90));wM(r),f1(r,i)}}}break;case"textarea":TM(e,n);break;case"select":t=n.value,t!=null&&Bl(e,!!n.multiple,t,!1)}};PE=BF;kM=function(e,t,n,r,i){var o=et;et|=4;try{return bu(98,e.bind(null,t,n,r,i))}finally{et=o,et===0&&(Cc(),Go())}};IE=function(){!(et&49)&&(rW(),Cs())};NM=function(e,t){var n=et;et|=2;try{return e(t)}finally{et=n,et===0&&(Cc(),Go())}};function WF(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(t))throw Error(Ee(200));return mW(e,t,null,n)}var yW={Events:[md,Il,Ig,IM,RM,Cs,{current:!1}]},Cf={findFiberByHostInstance:au,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},_W={bundleType:Cf.bundleType,version:Cf.version,rendererPackageName:Cf.rendererPackageName,rendererConfig:Cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=MM(e),e===null?null:e.stateNode},findFiberByHostInstance:Cf.findFiberByHostInstance||vW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{GE=Xp.inject(_W),hu=Xp}catch{}}Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yW;Di.createPortal=WF;Di.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):Error(Ee(268,Object.keys(e)));return e=MM(t),e=e===null?null:e.stateNode,e};Di.flushSync=function(e,t){var n=et;if(n&48)return e(t);et|=1;try{if(e)return bu(99,e.bind(null,t))}finally{et=n,Go()}};Di.hydrate=function(e,t,n){if(!yd(t))throw Error(Ee(200));return Mg(null,e,t,!0,n)};Di.render=function(e,t,n){if(!yd(t))throw Error(Ee(200));return Mg(null,e,t,!1,n)};Di.unmountComponentAtNode=function(e){if(!yd(e))throw Error(Ee(40));return e._reactRootContainer?(jF(function(){Mg(null,null,e,!1,function(){e._reactRootContainer=null,e[wc]=null})}),!0):!1};Di.unstable_batchedUpdates=BF;Di.unstable_createPortal=function(e,t){return WF(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Di.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yd(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Mg(e,t,n,!1,r)};Di.version="17.0.2";function XF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XF)}catch(e){console.error(e)}}XF(),gM.exports=Di;var qF=gM.exports;const Kr=Qn(qF);const xW="_MainStage_main_6zqov_1",bW="_MainStage_main_container_6zqov_10",SW="_MainStage_bgContainer_6zqov_17",wW="_MainStage_showBgSoftly_6zqov_1",EW="_MainStage_bgContainer_Settled_6zqov_27",TW="_MainStage_oldBgContainer_6zqov_37",CW="_MainStage_oldBgFadeout_6zqov_1",OW="_MainStage_oldBgContainer_Settled_6zqov_47",AW="_pixiContainer_6zqov_72",PW="_itemContainer_6zqov_77",IW="_chooseContainer_6zqov_91",RW="_thinkingContainer_6zqov_101",kW="_refuteContainer_6zqov_111",ul={MainStage_main:xW,MainStage_main_container:bW,MainStage_bgContainer:SW,MainStage_showBgSoftly:wW,MainStage_bgContainer_Settled:EW,MainStage_oldBgContainer:TW,MainStage_oldBgFadeout:CW,MainStage_oldBgContainer_Settled:OW,pixiContainer:AW,itemContainer:PW,chooseContainer:IW,thinkingContainer:RW,refuteContainer:kW};var KF={exports:{}},YF={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=q;function NW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LW=typeof Object.is=="function"?Object.is:NW,MW=ic.useState,FW=ic.useEffect,DW=ic.useLayoutEffect,BW=ic.useDebugValue;function jW(e,t){var n=t(),r=MW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return DW(function(){i.value=n,i.getSnapshot=t,dx(i)&&o({inst:i})},[e,n,t]),FW(function(){return dx(i)&&o({inst:i}),e(function(){dx(i)&&o({inst:i})})},[e]),BW(n),n}function dx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!LW(e,n)}catch{return!0}}function $W(e,t){return t()}var UW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$W:jW;YF.useSyncExternalStore=ic.useSyncExternalStore!==void 0?ic.useSyncExternalStore:UW;KF.exports=YF;var GW=KF.exports,JF={exports:{}},ZF={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=q,zW=GW;function HW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VW=typeof Object.is=="function"?Object.is:HW,WW=zW.useSyncExternalStore,XW=Fg.useRef,qW=Fg.useEffect,KW=Fg.useMemo,YW=Fg.useDebugValue;ZF.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=XW(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=KW(function(){function u(m){if(!l){if(l=!0,f=m,m=r(m),i!==void 0&&a.hasValue){var v=a.value;if(i(v,m))return d=v}return d=m}if(v=d,VW(f,m))return v;var _=r(m);return i!==void 0&&i(v,_)?v:(f=m,d=_)}var l=!1,f,d,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,i]);var s=WW(e,o[0],o[1]);return qW(function(){a.hasValue=!0,a.value=s},[s]),YW(s),s};JF.exports=ZF;var JW=JF.exports;function ZW(e){e()}let QF=ZW;const QW=e=>QF=e,e7=()=>QF,rI=Symbol.for("react-redux-context"),iI=typeof globalThis<"u"?globalThis:{};function t7(){var e;if(!q.createContext)return{};const t=(e=iI[rI])!=null?e:iI[rI]=new Map;let n=t.get(q.createContext);return n||(n=q.createContext(null),t.set(q.createContext,n)),n}const xs=t7();function lT(e=xs){return function(){return q.useContext(e)}}const eD=lT(),n7=()=>{throw new Error("uSES not initialized!")};let tD=n7;const r7=e=>{tD=e},i7=(e,t)=>e===t;function o7(e=xs){const t=e===xs?eD:lT(e);return function(r,i={}){const{equalityFn:o=i7,stabilityCheck:a=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:f,stabilityCheck:d,noopCheck:p}=t();q.useRef(!0);const m=q.useCallback({[r.name](_){return r(_)}}[r.name],[r,d,a]),v=tD(l.addNestedSub,u.getState,f||u.getState,m,o);return q.useDebugValue(v),v}}const Le=o7();function a7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var nD={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=typeof Symbol=="function"&&Symbol.for,cT=er?Symbol.for("react.element"):60103,fT=er?Symbol.for("react.portal"):60106,Dg=er?Symbol.for("react.fragment"):60107,Bg=er?Symbol.for("react.strict_mode"):60108,jg=er?Symbol.for("react.profiler"):60114,$g=er?Symbol.for("react.provider"):60109,Ug=er?Symbol.for("react.context"):60110,hT=er?Symbol.for("react.async_mode"):60111,Gg=er?Symbol.for("react.concurrent_mode"):60111,zg=er?Symbol.for("react.forward_ref"):60112,Hg=er?Symbol.for("react.suspense"):60113,s7=er?Symbol.for("react.suspense_list"):60120,Vg=er?Symbol.for("react.memo"):60115,Wg=er?Symbol.for("react.lazy"):60116,u7=er?Symbol.for("react.block"):60121,l7=er?Symbol.for("react.fundamental"):60117,c7=er?Symbol.for("react.responder"):60118,f7=er?Symbol.for("react.scope"):60119;function pi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cT:switch(e=e.type,e){case hT:case Gg:case Dg:case jg:case Bg:case Hg:return e;default:switch(e=e&&e.$$typeof,e){case Ug:case zg:case Wg:case Vg:case $g:return e;default:return t}}case fT:return t}}}function rD(e){return pi(e)===Gg}Lt.AsyncMode=hT;Lt.ConcurrentMode=Gg;Lt.ContextConsumer=Ug;Lt.ContextProvider=$g;Lt.Element=cT;Lt.ForwardRef=zg;Lt.Fragment=Dg;Lt.Lazy=Wg;Lt.Memo=Vg;Lt.Portal=fT;Lt.Profiler=jg;Lt.StrictMode=Bg;Lt.Suspense=Hg;Lt.isAsyncMode=function(e){return rD(e)||pi(e)===hT};Lt.isConcurrentMode=rD;Lt.isContextConsumer=function(e){return pi(e)===Ug};Lt.isContextProvider=function(e){return pi(e)===$g};Lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cT};Lt.isForwardRef=function(e){return pi(e)===zg};Lt.isFragment=function(e){return pi(e)===Dg};Lt.isLazy=function(e){return pi(e)===Wg};Lt.isMemo=function(e){return pi(e)===Vg};Lt.isPortal=function(e){return pi(e)===fT};Lt.isProfiler=function(e){return pi(e)===jg};Lt.isStrictMode=function(e){return pi(e)===Bg};Lt.isSuspense=function(e){return pi(e)===Hg};Lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dg||e===Gg||e===jg||e===Bg||e===Hg||e===s7||typeof e=="object"&&e!==null&&(e.$$typeof===Wg||e.$$typeof===Vg||e.$$typeof===$g||e.$$typeof===Ug||e.$$typeof===zg||e.$$typeof===l7||e.$$typeof===c7||e.$$typeof===f7||e.$$typeof===u7)};Lt.typeOf=pi;nD.exports=Lt;var h7=nD.exports,iD=h7,d7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oD={};oD[iD.ForwardRef]=d7;oD[iD.Memo]=p7;var Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=Symbol.for("react.element"),pT=Symbol.for("react.portal"),Xg=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),Jg=Symbol.for("react.context"),m7=Symbol.for("react.server_context"),Zg=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),ny=Symbol.for("react.lazy"),v7=Symbol.for("react.offscreen"),aD;aD=Symbol.for("react.module.reference");function Bi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dT:switch(e=e.type,e){case Xg:case Kg:case qg:case Qg:case ey:return e;default:switch(e=e&&e.$$typeof,e){case m7:case Jg:case Zg:case ny:case ty:case Yg:return e;default:return t}}case pT:return t}}}Bt.ContextConsumer=Jg;Bt.ContextProvider=Yg;Bt.Element=dT;Bt.ForwardRef=Zg;Bt.Fragment=Xg;Bt.Lazy=ny;Bt.Memo=ty;Bt.Portal=pT;Bt.Profiler=Kg;Bt.StrictMode=qg;Bt.Suspense=Qg;Bt.SuspenseList=ey;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(e){return Bi(e)===Jg};Bt.isContextProvider=function(e){return Bi(e)===Yg};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dT};Bt.isForwardRef=function(e){return Bi(e)===Zg};Bt.isFragment=function(e){return Bi(e)===Xg};Bt.isLazy=function(e){return Bi(e)===ny};Bt.isMemo=function(e){return Bi(e)===ty};Bt.isPortal=function(e){return Bi(e)===pT};Bt.isProfiler=function(e){return Bi(e)===Kg};Bt.isStrictMode=function(e){return Bi(e)===qg};Bt.isSuspense=function(e){return Bi(e)===Qg};Bt.isSuspenseList=function(e){return Bi(e)===ey};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xg||e===Kg||e===qg||e===Qg||e===ey||e===v7||typeof e=="object"&&e!==null&&(e.$$typeof===ny||e.$$typeof===ty||e.$$typeof===Yg||e.$$typeof===Jg||e.$$typeof===Zg||e.$$typeof===aD||e.getModuleId!==void 0)};Bt.typeOf=Bi;function g7(){const e=e7();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const oI={notify(){},get:()=>[]};function y7(e,t){let n,r=oI,i=0,o=!1;function a(_){f();const y=r.subscribe(_);let x=!1;return()=>{x||(x=!0,y(),d())}}function s(){r.notify()}function u(){v.onStateChange&&v.onStateChange()}function l(){return o}function f(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=g7())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oI)}function p(){o||(o=!0,f())}function m(){o&&(o=!1,d())}const v={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:l,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return v}const _7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x7=_7?q.useLayoutEffect:q.useEffect;function mT({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=q.useMemo(()=>{const l=y7(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),s=q.useMemo(()=>e.getState(),[e]);x7(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const u=t||xs;return q.createElement(u.Provider,{value:a},n)}function sD(e=xs){const t=e===xs?eD:lT(e);return function(){const{store:r}=t();return r}}const b7=sD();function S7(e=xs){const t=e===xs?b7:sD(e);return function(){return t().dispatch}}const on=S7();r7(JW.useSyncExternalStoreWithSelector);QW(qF.unstable_batchedUpdates);var Ni=(e=>(e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e))(Ni||{}),to=(e=>(e[e.song=0]="song",e[e.hei=1]="hei",e[e.lxgw=2]="lxgw",e))(to||{}),Dh=(e=>(e[e.yes=0]="yes",e[e.no=1]="no",e))(Dh||{}),vT=(e=>(e[e.on=0]="on",e[e.off=1]="off",e))(vT||{});class w7{constructor(t){ye(this,"subject");ye(this,"result");ye(this,"isEnd",!1);this.subject=t}with(t,n){return!this.isEnd&&this.subject===t&&(this.result=n(),this.isEnd=!0),this}endsWith(t,n){return!this.isEnd&&this.subject===t&&(this.result=n(),this.isEnd=!0),this.evaluate()}default(t){return this.isEnd||(this.result=t()),this.evaluate()}evaluate(){return this.result}}function gT(e){return new w7(e)}function uD(){const e=Le(n=>n.userData.optionData.textboxFont);function t(){return gT(e).with(to.song,()=>'"", serif').with(to.lxgw,()=>'"LXGW", serif').with(to.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return t()}function ry(e){return 3+(100-e)*1.5}function iy(e){return 200+(100-e)*15}function K1(e){switch(e){case 0:return 155;case 1:return 205;case 2:return 230;default:return 205}}const E7="_TextBox_EventHandler_1p4l8_2",T7="_TextBox_Container_1p4l8_10",C7="_showSoftly_1p4l8_1",O7="_TextBox_main_1p4l8_18",A7="_TextBox_main_miniavatarOff_1p4l8_39",P7="_TextBox_Background_1p4l8_43",I7="_TextBox_textElement_start_1p4l8_56",R7="_TextDelayShow_1p4l8_1",k7="_outer_1p4l8_64",N7="_inner_1p4l8_80",L7="_zhanwei_1p4l8_93",M7="_TextBox_textElement_Settled_1p4l8_104",F7="_TextBox_showName_1p4l8_111",D7="_TextBox_ShowName_Background_1p4l8_143",B7="_miniAvatarContainer_1p4l8_158",j7="_miniAvatarImg_1p4l8_168",$7="_nameContainer_1p4l8_176",U7="_outerName_1p4l8_182",G7="_innerName_1p4l8_193",z7="_text_1p4l8_200",H7="_textBoxCursor_1p4l8_209",V7="_cursorBlink_1p4l8_1",On={TextBox_EventHandler:E7,TextBox_Container:T7,showSoftly:C7,TextBox_main:O7,TextBox_main_miniavatarOff:A7,TextBox_Background:P7,TextBox_textElement_start:I7,TextDelayShow:R7,outer:k7,inner:N7,zhanwei:L7,TextBox_textElement_Settled:M7,TextBox_showName:F7,TextBox_ShowName_Background:D7,miniAvatarContainer:B7,miniAvatarImg:j7,nameContainer:$7,outerName:U7,innerName:G7,text:z7,textBoxCursor:H7,cursorBlink:V7};function Qi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function bs(e){return!!e&&!!e[tn]}function xa(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===eX}(e)||Array.isArray(e)||!!e[hI]||!!(!((t=e.constructor)===null||t===void 0)&&t[hI])||yT(e)||_T(e))}function wu(e,t,n){n===void 0&&(n=!1),Oc(e)===0?(n?Object.keys:ql)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Oc(e){var t=e[tn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:yT(e)?2:_T(e)?3:0}function Xl(e,t){return Oc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function W7(e,t){return Oc(e)===2?e.get(t):e[t]}function lD(e,t,n){var r=Oc(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function cD(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function yT(e){return Z7&&e instanceof Map}function _T(e){return Q7&&e instanceof Set}function Js(e){return e.o||e.t}function xT(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hD(e);delete t[tn];for(var n=ql(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function bT(e,t){return t===void 0&&(t=!1),ST(e)||bs(e)||!xa(e)||(Oc(e)>1&&(e.set=e.add=e.clear=e.delete=X7),Object.freeze(e),t&&wu(e,function(n,r){return bT(r,!0)},!0)),e}function X7(){Qi(2)}function ST(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Lo(e){var t=Q1[e];return t||Qi(18,e),t}function q7(e,t){Q1[e]||(Q1[e]=t)}function Y1(){return Bh}function px(e,t){t&&(Lo("Patches"),e.u=[],e.s=[],e.v=t)}function kv(e){J1(e),e.p.forEach(K7),e.p=null}function J1(e){e===Bh&&(Bh=e.l)}function aI(e){return Bh={p:[],l:Bh,h:e,m:!0,_:0}}function K7(e){var t=e[tn];t.i===0||t.i===1?t.j():t.g=!0}function mx(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Lo("ES5").S(t,e,r),r?(n[tn].P&&(kv(t),Qi(4)),xa(e)&&(e=Nv(t,e),t.l||Lv(t,e)),t.u&&Lo("Patches").M(n[tn].t,e,t.u,t.s)):e=Nv(t,n,[]),kv(t),t.u&&t.v(t.u,t.s),e!==fD?e:void 0}function Nv(e,t,n){if(ST(t))return t;var r=t[tn];if(!r)return wu(t,function(s,u){return sI(e,r,t,s,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Lv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=xT(r.k):r.o,o=i,a=!1;r.i===3&&(o=new Set(i),i.clear(),a=!0),wu(o,function(s,u){return sI(e,r,i,s,u,n,a)}),Lv(e,i,!1),n&&e.u&&Lo("Patches").N(r,n,e.u,e.s)}return r.o}function sI(e,t,n,r,i,o,a){if(bs(i)){var s=Nv(e,i,o&&t&&t.i!==3&&!Xl(t.R,r)?o.concat(r):void 0);if(lD(n,r,s),!bs(s))return;e.m=!1}else a&&n.add(i);if(xa(i)&&!ST(i)){if(!e.h.D&&e._<1)return;Nv(e,i),t&&t.A.l||Lv(e,i)}}function Lv(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&bT(t,n)}function vx(e,t){var n=e[tn];return(n?Js(n):e)[t]}function uI(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Wa(e){e.P||(e.P=!0,e.l&&Wa(e.l))}function gx(e){e.o||(e.o=xT(e.t))}function Z1(e,t,n){var r=yT(t)?Lo("MapSet").F(t,n):_T(t)?Lo("MapSet").T(t,n):e.O?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:Y1(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},u=s,l=jh;a&&(u=[s],l=Qf);var f=Proxy.revocable(u,l),d=f.revoke,p=f.proxy;return s.k=p,s.j=d,p}(t,n):Lo("ES5").J(t,n);return(n?n.A:Y1()).p.push(r),r}function Y7(e){return bs(e)||Qi(22,e),function t(n){if(!xa(n))return n;var r,i=n[tn],o=Oc(n);if(i){if(!i.P&&(i.i<4||!Lo("ES5").K(i)))return i.t;i.I=!0,r=lI(n,o),i.I=!1}else r=lI(n,o);return wu(r,function(a,s){i&&W7(i.t,a)===s||lD(r,a,t(s))}),o===3?new Set(r):r}(e)}function lI(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return xT(e)}function J7(){function e(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var u=this[tn];return jh.get(u,o)},set:function(u){var l=this[tn];jh.set(l,o,u)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][tn];if(!s.P)switch(s.i){case 5:r(s)&&Wa(s);break;case 4:n(s)&&Wa(s)}}}function n(o){for(var a=o.t,s=o.k,u=ql(s),l=u.length-1;l>=0;l--){var f=u[l];if(f!==tn){var d=a[f];if(d===void 0&&!Xl(a,f))return!0;var p=s[f],m=p&&p[tn];if(m?m.t!==d:!cD(p,d))return!0}}var v=!!a[tn];return u.length!==ql(a).length+(v?0:1)}function r(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var u=0;u<a.length;u++)if(!a.hasOwnProperty(u))return!0;return!1}var i={};q7("ES5",{J:function(o,a){var s=Array.isArray(o),u=function(f,d){if(f){for(var p=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(p,""+m,e(m,!0));return p}var v=hD(d);delete v[tn];for(var _=ql(v),y=0;y<_.length;y++){var x=_[y];v[x]=e(x,f||!!v[x].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(s,o),l={i:s?5:4,A:a?a.A:Y1(),P:!1,I:!1,R:{},l:a,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,tn,{value:l,writable:!0}),u},S:function(o,a,s){s?bs(a)&&a[tn].A===o&&t(o.p):(o.u&&function u(l){if(l&&typeof l=="object"){var f=l[tn];if(f){var d=f.t,p=f.k,m=f.R,v=f.i;if(v===4)wu(p,function(w){w!==tn&&(d[w]!==void 0||Xl(d,w)?m[w]||u(p[w]):(m[w]=!0,Wa(f)))}),wu(d,function(w){p[w]!==void 0||Xl(p,w)||(m[w]=!1,Wa(f))});else if(v===5){if(r(f)&&(Wa(f),m.length=!0),p.length<d.length)for(var _=p.length;_<d.length;_++)m[_]=!1;else for(var y=d.length;y<p.length;y++)m[y]=!0;for(var x=Math.min(p.length,d.length),b=0;b<x;b++)p.hasOwnProperty(b)||(m[b]=!0),m[b]===void 0&&u(p[b])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var cI,Bh,wT=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Z7=typeof Map<"u",Q7=typeof Set<"u",fI=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",fD=wT?Symbol.for("immer-nothing"):((cI={})["immer-nothing"]=!0,cI),hI=wT?Symbol.for("immer-draftable"):"__$immer_draftable",tn=wT?Symbol.for("immer-state"):"__$immer_state",eX=""+Object.prototype.constructor,ql=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hD=Object.getOwnPropertyDescriptors||function(e){var t={};return ql(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Q1={},jh={get:function(e,t){if(t===tn)return e;var n=Js(e);if(!Xl(n,t))return function(i,o,a){var s,u=uI(o,a);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!xa(r)?r:r===vx(e.t,t)?(gx(e),e.o[t]=Z1(e.A.h,r,e)):r},has:function(e,t){return t in Js(e)},ownKeys:function(e){return Reflect.ownKeys(Js(e))},set:function(e,t,n){var r=uI(Js(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=vx(Js(e),t),o=i==null?void 0:i[tn];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(cD(n,i)&&(n!==void 0||Xl(e.t,t)))return!0;gx(e),Wa(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return vx(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,gx(e),Wa(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Js(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Qi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Qi(12)}},Qf={};wu(jh,function(e,t){Qf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Qf.deleteProperty=function(e,t){return Qf.set.call(this,e,t,void 0)},Qf.set=function(e,t,n){return jh.set.call(this,e[0],t,n,e[0])};var tX=function(){function e(n){var r=this;this.O=fI,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var u=r;return function(_){var y=this;_===void 0&&(_=s);for(var x=arguments.length,b=Array(x>1?x-1:0),w=1;w<x;w++)b[w-1]=arguments[w];return u.produce(_,function(T){var C;return(C=o).call.apply(C,[y,T].concat(b))})}}var l;if(typeof o!="function"&&Qi(6),a!==void 0&&typeof a!="function"&&Qi(7),xa(i)){var f=aI(r),d=Z1(r,i,void 0),p=!0;try{l=o(d),p=!1}finally{p?kv(f):J1(f)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(_){return px(f,a),mx(_,f)},function(_){throw kv(f),_}):(px(f,a),mx(l,f))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===fD&&(l=void 0),r.D&&bT(l,!0),a){var m=[],v=[];Lo("Patches").M(i,l,m,v),a(m,v)}return l}Qi(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return r.produceWithPatches(l,function(m){return i.apply(void 0,[m].concat(d))})};var a,s,u=r.produce(i,o,function(l,f){a=l,s=f});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,a,s]}):[u,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){xa(n)||Qi(8),bs(n)&&(n=Y7(n));var r=aI(this),i=Z1(this,n,void 0);return i[tn].C=!0,J1(r),i},t.finishDraft=function(n,r){var i=n&&n[tn],o=i.A;return px(o,r),mx(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!fI&&Qi(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var a=Lo("Patches").$;return bs(n)?a(n,r):this.produce(n,function(s){return a(s,r)})},e}(),hi=new tX,dD=hi.produce;hi.produceWithPatches.bind(hi);hi.setAutoFreeze.bind(hi);hi.setUseProxies.bind(hi);hi.applyPatches.bind(hi);hi.createDraft.bind(hi);hi.finishDraft.bind(hi);function Jn(e){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}function nX(e,t){if(Jn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pD(e){var t=nX(e,"string");return Jn(t)=="symbol"?t:t+""}function mi(e,t,n){return t=pD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yx=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mv={INIT:"@@redux/INIT"+yx(),REPLACE:"@@redux/REPLACE"+yx(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yx()}};function rX(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function mD(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mr(1));return n(mD)(e,t)}if(typeof e!="function")throw new Error(mr(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function f(){if(u)throw new Error(mr(3));return o}function d(_){if(typeof _!="function")throw new Error(mr(4));if(u)throw new Error(mr(5));var y=!0;return l(),s.push(_),function(){if(y){if(u)throw new Error(mr(6));y=!1,l();var b=s.indexOf(_);s.splice(b,1),a=null}}}function p(_){if(!rX(_))throw new Error(mr(7));if(typeof _.type>"u")throw new Error(mr(8));if(u)throw new Error(mr(9));try{u=!0,o=i(o,_)}finally{u=!1}for(var y=a=s,x=0;x<y.length;x++){var b=y[x];b()}return _}function m(_){if(typeof _!="function")throw new Error(mr(10));i=_,p({type:Mv.REPLACE})}function v(){var _,y=d;return _={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(mr(11));function w(){b.next&&b.next(f())}w();var T=y(w);return{unsubscribe:T}}},_[mI]=function(){return this},_}return p({type:Mv.INIT}),r={dispatch:p,subscribe:d,getState:f,replaceReducer:m},r[mI]=v,r}function iX(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Mv.INIT});if(typeof r>"u")throw new Error(mr(12));if(typeof n(void 0,{type:Mv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function oX(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),a;try{iX(n)}catch(s){a=s}return function(u,l){if(u===void 0&&(u={}),a)throw a;for(var f=!1,d={},p=0;p<o.length;p++){var m=o[p],v=n[m],_=u[m],y=v(_,l);if(typeof y>"u")throw l&&l.type,new Error(mr(14));d[m]=y,f=f||y!==_}return f=f||o.length!==Object.keys(u).length,f?d:u}}function Fv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function aX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(mr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(u){return u(a)});return o=Fv.apply(void 0,s)(i.dispatch),pI(pI({},i),{},{dispatch:o})}}}function vD(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,e):a(s)}}};return t}var gD=vD();gD.withExtraArgument=vD;const vI=gD;var yD=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sX=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(f){l=[6,f],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},oc=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},uX=Object.defineProperty,lX=Object.defineProperties,cX=Object.getOwnPropertyDescriptors,gI=Object.getOwnPropertySymbols,fX=Object.prototype.hasOwnProperty,hX=Object.prototype.propertyIsEnumerable,yI=function(e,t,n){return t in e?uX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},cs=function(e,t){for(var n in t||(t={}))fX.call(t,n)&&yI(e,n,t[n]);if(gI)for(var r=0,i=gI(t);r<i.length;r++){var n=i[r];hX.call(t,n)&&yI(e,n,t[n])}return e},_x=function(e,t){return lX(e,cX(t))},dX=function(e,t,n){return new Promise(function(r,i){var o=function(u){try{s(n.next(u))}catch(l){i(l)}},a=function(u){try{s(n.throw(u))}catch(l){i(l)}},s=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(o,a)};s((n=n.apply(e,t)).next())})},pX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fv:Fv.apply(null,arguments)};function mX(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function fs(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return cs(cs({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var vX=function(e){yD(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,oc([void 0],n[0].concat(this)))):new(t.bind.apply(t,oc([void 0],n.concat(this))))},t}(Array),gX=function(e){yD(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,oc([void 0],n[0].concat(this)))):new(t.bind.apply(t,oc([void 0],n.concat(this))))},t}(Array);function eS(e){return xa(e)?dD(e,function(){}):e}function yX(e){return typeof e=="boolean"}function _X(){return function(t){return _D(t)}}function _D(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new vX;return n&&(yX(n)?r.push(vI):r.push(vI.withExtraArgument(n.extraArgument))),r}var xX=!0;function bX(e){var t=_X(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,a=o===void 0?t():o,s=n.devTools,u=s===void 0?!0:s,l=n.preloadedState,f=l===void 0?void 0:l,d=n.enhancers,p=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(mX(i))m=oX(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=a;typeof v=="function"&&(v=v(t));var _=aX.apply(void 0,v),y=Fv;u&&(y=pX(cs({trace:!xX},typeof u=="object"&&u)));var x=new gX(_),b=x;Array.isArray(p)?b=oc([_],p):typeof p=="function"&&(b=p(x));var w=y.apply(void 0,b);return mD(m,f,w)}function xD(e){var t={},n=[],r,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=a,i},addMatcher:function(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function SX(e){return typeof e=="function"}function wX(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?xD(t):[t,n,r],o=i[0],a=i[1],s=i[2],u;if(SX(e))u=function(){return eS(e())};else{var l=eS(e);u=function(){return l}}function f(d,p){d===void 0&&(d=u());var m=oc([o[p.type]],a.filter(function(v){var _=v.matcher;return _(p)}).map(function(v){var _=v.reducer;return _}));return m.filter(function(v){return!!v}).length===0&&(m=[s]),m.reduce(function(v,_){if(_)if(bs(v)){var y=v,x=_(y,p);return x===void 0?v:x}else{if(xa(v))return dD(v,function(b){return _(b,p)});var x=_(v,p);if(x===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return v},d)}return f.getInitialState=u,f}function EX(e,t){return e+"/"+t}function oy(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:eS(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},a={},s={};i.forEach(function(f){var d=r[f],p=EX(t,f),m,v;"reducer"in d?(m=d.reducer,v=d.prepare):m=d,o[f]=m,a[p]=m,s[f]=v?fs(p,v):fs(p)});function u(){var f=typeof e.extraReducers=="function"?xD(e.extraReducers):[e.extraReducers],d=f[0],p=d===void 0?{}:d,m=f[1],v=m===void 0?[]:m,_=f[2],y=_===void 0?void 0:_,x=cs(cs({},p),a);return wX(n,function(b){for(var w in x)b.addCase(w,x[w]);for(var T=0,C=v;T<C.length;T++){var O=C[T];b.addMatcher(O.matcher,O.reducer)}y&&b.addDefaultCase(y)})}var l;return{name:t,reducer:function(f,d){return l||(l=u()),l(f,d)},actions:s,caseReducers:o,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var TX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CX=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=TX[Math.random()*64|0];return t},OX=["name","message","stack","code"],xx=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),_I=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),AX=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=OX;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=fs(t+"/fulfilled",function(l,f,d,p){return{payload:l,meta:_x(cs({},p||{}),{arg:d,requestId:f,requestStatus:"fulfilled"})}}),o=fs(t+"/pending",function(l,f,d){return{payload:void 0,meta:_x(cs({},d||{}),{arg:f,requestId:l,requestStatus:"pending"})}}),a=fs(t+"/rejected",function(l,f,d,p,m){return{payload:p,error:(r&&r.serializeError||AX)(l||"Rejected"),meta:_x(cs({},m||{}),{arg:d,requestId:f,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(f,d,p){var m=r!=null&&r.idGenerator?r.idGenerator(l):CX(),v=new s,_;function y(b){_=b,v.abort()}var x=function(){return dX(this,null,function(){var b,w,T,C,O,A,M;return sX(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),C=(b=r==null?void 0:r.condition)==null?void 0:b.call(r,l,{getState:d,extra:p}),IX(C)?[4,C]:[3,2];case 1:C=D.sent(),D.label=2;case 2:if(C===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return O=new Promise(function(B,G){return v.signal.addEventListener("abort",function(){return G({name:"AbortError",message:_||"Aborted"})})}),f(o(m,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:m,arg:l},{getState:d,extra:p}))),[4,Promise.race([O,Promise.resolve(n(l,{dispatch:f,getState:d,extra:p,requestId:m,signal:v.signal,abort:y,rejectWithValue:function(B,G){return new xx(B,G)},fulfillWithValue:function(B,G){return new _I(B,G)}})).then(function(B){if(B instanceof xx)throw B;return B instanceof _I?i(B.payload,m,l,B.meta):i(B,m,l)})])];case 3:return T=D.sent(),[3,5];case 4:return A=D.sent(),T=A instanceof xx?a(null,m,l,A.payload,A.meta):a(A,m,l),[3,5];case 5:return M=r&&!r.dispatchConditionRejection&&a.match(T)&&T.meta.condition,M||f(T),[2,T]}})})}();return Object.assign(x,{abort:y,requestId:m,arg:l,unwrap:function(){return x.then(PX)}})}}return Object.assign(u,{pending:o,rejected:a,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function PX(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function IX(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ET="listenerMiddleware";fs(ET+"/add");fs(ET+"/removeAll");fs(ET+"/remove");var xI;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);J7();const TT={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0,brightness:1,contrast:1,saturation:1,gamma:1,colorRed:255,colorGreen:255,colorBlue:255,bevel:0,bevelThickness:0,bevelRotation:0,bevelSoftness:0,bevelRed:255,bevelGreen:255,bevelBlue:255,bloom:0,bloomBrightness:1,bloomBlur:0,bloomThreshold:0,shockwaveFilter:0,radiusAlphaFilter:0};function RX(){this.__data__=[],this.size=0}var kX=RX;function NX(e,t){return e===t||e!==e&&t!==t}var ay=NX,LX=ay;function MX(e,t){for(var n=e.length;n--;)if(LX(e[n][0],t))return n;return-1}var sy=MX,FX=sy,DX=Array.prototype,BX=DX.splice;function jX(e){var t=this.__data__,n=FX(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():BX.call(t,n,1),--this.size,!0}var $X=jX,UX=sy;function GX(e){var t=this.__data__,n=UX(t,e);return n<0?void 0:t[n][1]}var zX=GX,HX=sy;function VX(e){return HX(this.__data__,e)>-1}var WX=VX,XX=sy;function qX(e,t){var n=this.__data__,r=XX(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var KX=qX,YX=kX,JX=$X,ZX=zX,QX=WX,eq=KX;function Ac(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ac.prototype.clear=YX;Ac.prototype.delete=JX;Ac.prototype.get=ZX;Ac.prototype.has=QX;Ac.prototype.set=eq;var uy=Ac,tq=uy;function nq(){this.__data__=new tq,this.size=0}var rq=nq;function iq(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var oq=iq;function aq(e){return this.__data__.get(e)}var sq=aq;function uq(e){return this.__data__.has(e)}var lq=uq,cq=typeof Yn=="object"&&Yn&&Yn.Object===Object&&Yn,bD=cq,fq=bD,hq=typeof self=="object"&&self&&self.Object===Object&&self,dq=fq||hq||Function("return this")(),uo=dq,pq=uo,mq=pq.Symbol,_d=mq,bI=_d,SD=Object.prototype,vq=SD.hasOwnProperty,gq=SD.toString,Of=bI?bI.toStringTag:void 0;function yq(e){var t=vq.call(e,Of),n=e[Of];try{e[Of]=void 0;var r=!0}catch{}var i=gq.call(e);return r&&(t?e[Of]=n:delete e[Of]),i}var _q=yq,xq=Object.prototype,bq=xq.toString;function Sq(e){return bq.call(e)}var wq=Sq,SI=_d,Eq=_q,Tq=wq,Cq="[object Null]",Oq="[object Undefined]",wI=SI?SI.toStringTag:void 0;function Aq(e){return e==null?e===void 0?Oq:Cq:wI&&wI in Object(e)?Eq(e):Tq(e)}var xd=Aq;function Pq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lo=Pq,Iq=xd,Rq=lo,kq="[object AsyncFunction]",Nq="[object Function]",Lq="[object GeneratorFunction]",Mq="[object Proxy]";function Fq(e){if(!Rq(e))return!1;var t=Iq(e);return t==Nq||t==Lq||t==kq||t==Mq}var wD=Fq,Dq=uo,Bq=Dq["__core-js_shared__"],jq=Bq,bx=jq,EI=function(){var e=/[^.]+$/.exec(bx&&bx.keys&&bx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $q(e){return!!EI&&EI in e}var Uq=$q,Gq=Function.prototype,zq=Gq.toString;function Hq(e){if(e!=null){try{return zq.call(e)}catch{}try{return e+""}catch{}}return""}var ED=Hq,Vq=wD,Wq=Uq,Xq=lo,qq=ED,Kq=/[\\^$.*+?()[\]{}|]/g,Yq=/^\[object .+?Constructor\]$/,Jq=Function.prototype,Zq=Object.prototype,Qq=Jq.toString,eK=Zq.hasOwnProperty,tK=RegExp("^"+Qq.call(eK).replace(Kq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nK(e){if(!Xq(e)||Wq(e))return!1;var t=Vq(e)?tK:Yq;return t.test(qq(e))}var rK=nK;function iK(e,t){return e==null?void 0:e[t]}var oK=iK,aK=rK,sK=oK;function uK(e,t){var n=sK(e,t);return aK(n)?n:void 0}var ku=uK,lK=ku,cK=uo,fK=lK(cK,"Map"),CT=fK,hK=ku,dK=hK(Object,"create"),ly=dK,TI=ly;function pK(){this.__data__=TI?TI(null):{},this.size=0}var mK=pK;function vK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gK=vK,yK=ly,_K="__lodash_hash_undefined__",xK=Object.prototype,bK=xK.hasOwnProperty;function SK(e){var t=this.__data__;if(yK){var n=t[e];return n===_K?void 0:n}return bK.call(t,e)?t[e]:void 0}var wK=SK,EK=ly,TK=Object.prototype,CK=TK.hasOwnProperty;function OK(e){var t=this.__data__;return EK?t[e]!==void 0:CK.call(t,e)}var AK=OK,PK=ly,IK="__lodash_hash_undefined__";function RK(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=PK&&t===void 0?IK:t,this}var kK=RK,NK=mK,LK=gK,MK=wK,FK=AK,DK=kK;function Pc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pc.prototype.clear=NK;Pc.prototype.delete=LK;Pc.prototype.get=MK;Pc.prototype.has=FK;Pc.prototype.set=DK;var BK=Pc,CI=BK,jK=uy,$K=CT;function UK(){this.size=0,this.__data__={hash:new CI,map:new($K||jK),string:new CI}}var GK=UK;function zK(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HK=zK,VK=HK;function WK(e,t){var n=e.__data__;return VK(t)?n[typeof t=="string"?"string":"hash"]:n.map}var cy=WK,XK=cy;function qK(e){var t=XK(this,e).delete(e);return this.size-=t?1:0,t}var KK=qK,YK=cy;function JK(e){return YK(this,e).get(e)}var ZK=JK,QK=cy;function eY(e){return QK(this,e).has(e)}var tY=eY,nY=cy;function rY(e,t){var n=nY(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var iY=rY,oY=GK,aY=KK,sY=ZK,uY=tY,lY=iY;function Ic(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ic.prototype.clear=oY;Ic.prototype.delete=aY;Ic.prototype.get=sY;Ic.prototype.has=uY;Ic.prototype.set=lY;var OT=Ic,cY=uy,fY=CT,hY=OT,dY=200;function pY(e,t){var n=this.__data__;if(n instanceof cY){var r=n.__data__;if(!fY||r.length<dY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hY(r)}return n.set(e,t),this.size=n.size,this}var mY=pY,vY=uy,gY=rq,yY=oq,_Y=sq,xY=lq,bY=mY;function Rc(e){var t=this.__data__=new vY(e);this.size=t.size}Rc.prototype.clear=gY;Rc.prototype.delete=yY;Rc.prototype.get=_Y;Rc.prototype.has=xY;Rc.prototype.set=bY;var AT=Rc;function SY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var wY=SY,EY=ku,TY=function(){try{var e=EY(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CY=TY,OI=CY;function OY(e,t,n){t=="__proto__"&&OI?OI(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var TD=OY,AY=TD,PY=ay,IY=Object.prototype,RY=IY.hasOwnProperty;function kY(e,t,n){var r=e[t];(!(RY.call(e,t)&&PY(r,n))||n===void 0&&!(t in e))&&AY(e,t,n)}var PT=kY,NY=PT,LY=TD;function MY(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;u===void 0&&(u=e[s]),i?LY(n,s,u):NY(n,s,u)}return n}var fy=MY;function FY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var DY=FY;function BY(e){return e!=null&&typeof e=="object"}var Nu=BY,jY=xd,$Y=Nu,UY="[object Arguments]";function GY(e){return $Y(e)&&jY(e)==UY}var zY=GY,AI=zY,HY=Nu,CD=Object.prototype,VY=CD.hasOwnProperty,WY=CD.propertyIsEnumerable,XY=AI(function(){return arguments}())?AI:function(e){return HY(e)&&VY.call(e,"callee")&&!WY.call(e,"callee")},OD=XY,qY=Array.isArray,wa=qY,Dv={exports:{}};function KY(){return!1}var YY=KY;Dv.exports;(function(e,t){var n=uo,r=YY,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;e.exports=l})(Dv,Dv.exports);var IT=Dv.exports,JY=9007199254740991,ZY=/^(?:0|[1-9]\d*)$/;function QY(e,t){var n=typeof e;return t=t??JY,!!t&&(n=="number"||n!="symbol"&&ZY.test(e))&&e>-1&&e%1==0&&e<t}var hy=QY,eJ=9007199254740991;function tJ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eJ}var RT=tJ,nJ=xd,rJ=RT,iJ=Nu,oJ="[object Arguments]",aJ="[object Array]",sJ="[object Boolean]",uJ="[object Date]",lJ="[object Error]",cJ="[object Function]",fJ="[object Map]",hJ="[object Number]",dJ="[object Object]",pJ="[object RegExp]",mJ="[object Set]",vJ="[object String]",gJ="[object WeakMap]",yJ="[object ArrayBuffer]",_J="[object DataView]",xJ="[object Float32Array]",bJ="[object Float64Array]",SJ="[object Int8Array]",wJ="[object Int16Array]",EJ="[object Int32Array]",TJ="[object Uint8Array]",CJ="[object Uint8ClampedArray]",OJ="[object Uint16Array]",AJ="[object Uint32Array]",qt={};qt[xJ]=qt[bJ]=qt[SJ]=qt[wJ]=qt[EJ]=qt[TJ]=qt[CJ]=qt[OJ]=qt[AJ]=!0;qt[oJ]=qt[aJ]=qt[yJ]=qt[sJ]=qt[_J]=qt[uJ]=qt[lJ]=qt[cJ]=qt[fJ]=qt[hJ]=qt[dJ]=qt[pJ]=qt[mJ]=qt[vJ]=qt[gJ]=!1;function PJ(e){return iJ(e)&&rJ(e.length)&&!!qt[nJ(e)]}var IJ=PJ;function RJ(e){return function(t){return e(t)}}var kT=RJ,Bv={exports:{}};Bv.exports;(function(e,t){var n=bD,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(Bv,Bv.exports);var NT=Bv.exports,kJ=IJ,NJ=kT,PI=NT,II=PI&&PI.isTypedArray,LJ=II?NJ(II):kJ,AD=LJ,MJ=DY,FJ=OD,DJ=wa,BJ=IT,jJ=hy,$J=AD,UJ=Object.prototype,GJ=UJ.hasOwnProperty;function zJ(e,t){var n=DJ(e),r=!n&&FJ(e),i=!n&&!r&&BJ(e),o=!n&&!r&&!i&&$J(e),a=n||r||i||o,s=a?MJ(e.length,String):[],u=s.length;for(var l in e)(t||GJ.call(e,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||jJ(l,u)))&&s.push(l);return s}var PD=zJ,HJ=Object.prototype;function VJ(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||HJ;return e===n}var LT=VJ;function WJ(e,t){return function(n){return e(t(n))}}var ID=WJ,XJ=ID,qJ=XJ(Object.keys,Object),KJ=qJ,YJ=LT,JJ=KJ,ZJ=Object.prototype,QJ=ZJ.hasOwnProperty;function eZ(e){if(!YJ(e))return JJ(e);var t=[];for(var n in Object(e))QJ.call(e,n)&&n!="constructor"&&t.push(n);return t}var tZ=eZ,nZ=wD,rZ=RT;function iZ(e){return e!=null&&rZ(e.length)&&!nZ(e)}var MT=iZ,oZ=PD,aZ=tZ,sZ=MT;function uZ(e){return sZ(e)?oZ(e):aZ(e)}var dy=uZ,lZ=fy,cZ=dy;function fZ(e,t){return e&&lZ(t,cZ(t),e)}var hZ=fZ;function dZ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var pZ=dZ,mZ=lo,vZ=LT,gZ=pZ,yZ=Object.prototype,_Z=yZ.hasOwnProperty;function xZ(e){if(!mZ(e))return gZ(e);var t=vZ(e),n=[];for(var r in e)r=="constructor"&&(t||!_Z.call(e,r))||n.push(r);return n}var bZ=xZ,SZ=PD,wZ=bZ,EZ=MT;function TZ(e){return EZ(e)?SZ(e,!0):wZ(e)}var FT=TZ,CZ=fy,OZ=FT;function AZ(e,t){return e&&CZ(t,OZ(t),e)}var PZ=AZ,jv={exports:{}};jv.exports;(function(e,t){var n=uo,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,f){if(f)return l.slice();var d=l.length,p=s?s(d):new l.constructor(d);return l.copy(p),p}e.exports=u})(jv,jv.exports);var IZ=jv.exports;function RZ(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var kZ=RZ;function NZ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var LZ=NZ;function MZ(){return[]}var RD=MZ,FZ=LZ,DZ=RD,BZ=Object.prototype,jZ=BZ.propertyIsEnumerable,RI=Object.getOwnPropertySymbols,$Z=RI?function(e){return e==null?[]:(e=Object(e),FZ(RI(e),function(t){return jZ.call(e,t)}))}:DZ,DT=$Z,UZ=fy,GZ=DT;function zZ(e,t){return UZ(e,GZ(e),t)}var HZ=zZ;function VZ(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var kD=VZ,WZ=ID,XZ=WZ(Object.getPrototypeOf,Object),ND=XZ,qZ=kD,KZ=ND,YZ=DT,JZ=RD,ZZ=Object.getOwnPropertySymbols,QZ=ZZ?function(e){for(var t=[];e;)qZ(t,YZ(e)),e=KZ(e);return t}:JZ,LD=QZ,eQ=fy,tQ=LD;function nQ(e,t){return eQ(e,tQ(e),t)}var rQ=nQ,iQ=kD,oQ=wa;function aQ(e,t,n){var r=t(e);return oQ(e)?r:iQ(r,n(e))}var MD=aQ,sQ=MD,uQ=DT,lQ=dy;function cQ(e){return sQ(e,lQ,uQ)}var FD=cQ,fQ=MD,hQ=LD,dQ=FT;function pQ(e){return fQ(e,dQ,hQ)}var DD=pQ,mQ=ku,vQ=uo,gQ=mQ(vQ,"DataView"),yQ=gQ,_Q=ku,xQ=uo,bQ=_Q(xQ,"Promise"),SQ=bQ,wQ=ku,EQ=uo,TQ=wQ(EQ,"Set"),BD=TQ,CQ=ku,OQ=uo,AQ=CQ(OQ,"WeakMap"),PQ=AQ,tS=yQ,nS=CT,rS=SQ,iS=BD,oS=PQ,jD=xd,kc=ED,kI="[object Map]",IQ="[object Object]",NI="[object Promise]",LI="[object Set]",MI="[object WeakMap]",FI="[object DataView]",RQ=kc(tS),kQ=kc(nS),NQ=kc(rS),LQ=kc(iS),MQ=kc(oS),Zs=jD;(tS&&Zs(new tS(new ArrayBuffer(1)))!=FI||nS&&Zs(new nS)!=kI||rS&&Zs(rS.resolve())!=NI||iS&&Zs(new iS)!=LI||oS&&Zs(new oS)!=MI)&&(Zs=function(e){var t=jD(e),n=t==IQ?e.constructor:void 0,r=n?kc(n):"";if(r)switch(r){case RQ:return FI;case kQ:return kI;case NQ:return NI;case LQ:return LI;case MQ:return MI}return t});var py=Zs,FQ=Object.prototype,DQ=FQ.hasOwnProperty;function BQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&DQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var jQ=BQ,$Q=uo,UQ=$Q.Uint8Array,$D=UQ,DI=$D;function GQ(e){var t=new e.constructor(e.byteLength);return new DI(t).set(new DI(e)),t}var BT=GQ,zQ=BT;function HQ(e,t){var n=t?zQ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var VQ=HQ,WQ=/\w*$/;function XQ(e){var t=new e.constructor(e.source,WQ.exec(e));return t.lastIndex=e.lastIndex,t}var qQ=XQ,BI=_d,jI=BI?BI.prototype:void 0,$I=jI?jI.valueOf:void 0;function KQ(e){return $I?Object($I.call(e)):{}}var YQ=KQ,JQ=BT;function ZQ(e,t){var n=t?JQ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var QQ=ZQ,eee=BT,tee=VQ,nee=qQ,ree=YQ,iee=QQ,oee="[object Boolean]",aee="[object Date]",see="[object Map]",uee="[object Number]",lee="[object RegExp]",cee="[object Set]",fee="[object String]",hee="[object Symbol]",dee="[object ArrayBuffer]",pee="[object DataView]",mee="[object Float32Array]",vee="[object Float64Array]",gee="[object Int8Array]",yee="[object Int16Array]",_ee="[object Int32Array]",xee="[object Uint8Array]",bee="[object Uint8ClampedArray]",See="[object Uint16Array]",wee="[object Uint32Array]";function Eee(e,t,n){var r=e.constructor;switch(t){case dee:return eee(e);case oee:case aee:return new r(+e);case pee:return tee(e,n);case mee:case vee:case gee:case yee:case _ee:case xee:case bee:case See:case wee:return iee(e,n);case see:return new r;case uee:case fee:return new r(e);case lee:return nee(e);case cee:return new r;case hee:return ree(e)}}var Tee=Eee,Cee=lo,UI=Object.create,Oee=function(){function e(){}return function(t){if(!Cee(t))return{};if(UI)return UI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Aee=Oee,Pee=Aee,Iee=ND,Ree=LT;function kee(e){return typeof e.constructor=="function"&&!Ree(e)?Pee(Iee(e)):{}}var Nee=kee,Lee=py,Mee=Nu,Fee="[object Map]";function Dee(e){return Mee(e)&&Lee(e)==Fee}var Bee=Dee,jee=Bee,$ee=kT,GI=NT,zI=GI&&GI.isMap,Uee=zI?$ee(zI):jee,Gee=Uee,zee=py,Hee=Nu,Vee="[object Set]";function Wee(e){return Hee(e)&&zee(e)==Vee}var Xee=Wee,qee=Xee,Kee=kT,HI=NT,VI=HI&&HI.isSet,Yee=VI?Kee(VI):qee,Jee=Yee,Zee=AT,Qee=wY,ete=PT,tte=hZ,nte=PZ,rte=IZ,ite=kZ,ote=HZ,ate=rQ,ste=FD,ute=DD,lte=py,cte=jQ,fte=Tee,hte=Nee,dte=wa,pte=IT,mte=Gee,vte=lo,gte=Jee,yte=dy,_te=FT,xte=1,bte=2,Ste=4,UD="[object Arguments]",wte="[object Array]",Ete="[object Boolean]",Tte="[object Date]",Cte="[object Error]",GD="[object Function]",Ote="[object GeneratorFunction]",Ate="[object Map]",Pte="[object Number]",zD="[object Object]",Ite="[object RegExp]",Rte="[object Set]",kte="[object String]",Nte="[object Symbol]",Lte="[object WeakMap]",Mte="[object ArrayBuffer]",Fte="[object DataView]",Dte="[object Float32Array]",Bte="[object Float64Array]",jte="[object Int8Array]",$te="[object Int16Array]",Ute="[object Int32Array]",Gte="[object Uint8Array]",zte="[object Uint8ClampedArray]",Hte="[object Uint16Array]",Vte="[object Uint32Array]",Gt={};Gt[UD]=Gt[wte]=Gt[Mte]=Gt[Fte]=Gt[Ete]=Gt[Tte]=Gt[Dte]=Gt[Bte]=Gt[jte]=Gt[$te]=Gt[Ute]=Gt[Ate]=Gt[Pte]=Gt[zD]=Gt[Ite]=Gt[Rte]=Gt[kte]=Gt[Nte]=Gt[Gte]=Gt[zte]=Gt[Hte]=Gt[Vte]=!0;Gt[Cte]=Gt[GD]=Gt[Lte]=!1;function Gm(e,t,n,r,i,o){var a,s=t&xte,u=t&bte,l=t&Ste;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!vte(e))return e;var f=dte(e);if(f){if(a=cte(e),!s)return ite(e,a)}else{var d=lte(e),p=d==GD||d==Ote;if(pte(e))return rte(e,s);if(d==zD||d==UD||p&&!i){if(a=u||p?{}:hte(e),!s)return u?ate(e,nte(a,e)):ote(e,tte(a,e))}else{if(!Gt[d])return i?e:{};a=fte(e,d,s)}}o||(o=new Zee);var m=o.get(e);if(m)return m;o.set(e,a),gte(e)?e.forEach(function(y){a.add(Gm(y,t,n,y,e,o))}):mte(e)&&e.forEach(function(y,x){a.set(x,Gm(y,t,n,x,e,o))});var v=l?u?ute:ste:u?_te:yte,_=f?void 0:v(e);return Qee(_||e,function(y,x){_&&(x=y,y=e[x]),ete(a,x,Gm(y,t,n,x,e,o))}),a}var Wte=Gm,Xte=Wte,qte=1,Kte=4;function Yte(e){return Xte(e,qte|Kte)}var Jte=Yte;const Pt=Qn(Jte);var Ye=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setComplexAnimation=12]="setComplexAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e[e.setAnimation=25]="setAnimation",e[e.playEffect=26]="playEffect",e[e.setTempAnimation=27]="setTempAnimation",e[e.comment=28]="comment",e[e.setTransform=29]="setTransform",e[e.setTransition=30]="setTransition",e[e.getUserInput=31]="getUserInput",e[e.applyStyle=32]="applyStyle",e[e.wait=33]="wait",e[e.manopedia=34]="manopedia",e[e.addItem=35]="addItem",e[e.Item=36]="Item",e[e.clearItem=37]="clearItem",e[e.showItem=38]="showItem",e[e.pediaUpdate=39]="pediaUpdate",e[e.presentTheEvidence=40]="presentTheEvidence",e[e.thinking=41]="thinking",e[e.judgment=42]="judgment",e[e.refute=43]="refute",e[e.testimony=44]="testimony",e[e.clearTestimony=45]="clearTestimony",e))(Ye||{});const Af={STAGE_MAIN:"stage-main",BGMAIN:"bg-main",FIG_C:"fig-center",FIG_L:"fig-left",FIG_R:"fig-right"},ac="none",HD={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",miniAvatar:"",GameVar:{},effects:[{target:"stage-main",transform:TT}],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",live2dMotion:[],live2dExpression:[],live2dBlink:[],live2dFocus:[],currentConcatDialogPrev:"",enableFilm:"",judgment:"",judgmentTimer:0,judgmentTimeout:"",isJudgmentFastForward:!1,isDisableTextbox:!1,replacedUIlable:{},figureMetaData:{},enableManopedia:!1,inventory:{items:{}},viewingItemId:null,viewingItemCount:1,isEvidenceMode:!1,evidenceTarget:"",evidenceJumpScenes:[],showManopedia:!1,testimonyData:[],inlineThinking:null},jT=oy({name:"stage",initialState:Pt(HD),reducers:{resetStageState:(e,t)=>{Object.assign(e,t.payload)},setStage:(e,t)=>{e[t.payload.key]=t.payload.value},setStageVar:(e,t)=>{e.GameVar[t.payload.key]=t.payload.value},updateEffect:(e,t)=>{const{target:n,transform:r}=t.payload,i=[Af.STAGE_MAIN,Af.BGMAIN,Af.FIG_C,Af.FIG_L,Af.FIG_R,...e.freeFigure.map(s=>s.key)],o=n.startsWith("item-");if(!i.includes(n)&&!o)return;const a=e.effects.findIndex(s=>s.target===n);a>=0?e.effects[a].transform=r:e.effects.push({target:n,transform:r})},removeEffectByTargetId:(e,t)=>{const n=e.effects.findIndex(r=>r.target===t.payload);n>=0&&e.effects.splice(n,1)},addPerform:(e,t)=>{if(e.PerformList.findIndex(r=>r.id===t.payload.id)>-1){const r=t.payload.id;for(let i=0;i<e.PerformList.length;i++)e.PerformList[i].id===r&&(e.PerformList.splice(i,1),i--)}e.PerformList.push(t.payload)},removePerformByName:(e,t)=>{for(let n=0;n<e.PerformList.length;n++)e.PerformList[n].id===t.payload&&(e.PerformList.splice(n,1),n--)},removeAllPerform:e=>{e.PerformList.splice(0,e.PerformList.length)},removeAllPixiPerforms:(e,t)=>{for(let n=0;n<e.PerformList.length;n++)e.PerformList[n].script.command===Ye.pixi&&(e.PerformList.splice(n,1),n--)},setFreeFigureByKey:(e,t)=>{const n=e.freeFigure,r=t.payload,i=n.findIndex(o=>o.key===r.key);if(i>=0)if(r.name===""){n.splice(i,1);const o=e.figureAssociatedAnimation.findIndex(a=>a.targetId===r.key);e.figureAssociatedAnimation.splice(o,1)}else n[i].basePosition=r.basePosition,n[i].name=r.name;else r.name!==""&&n.push(r)},setFreeFigure:(e,t)=>{e.freeFigure=t.payload},setLive2dMotion:(e,t)=>{const{target:n,motion:r,overrideBounds:i}=t.payload,o=e.live2dMotion.findIndex(a=>a.target===n);o<0?e.live2dMotion.push({target:n,motion:r,overrideBounds:i}):(e.live2dMotion[o].motion=r,e.live2dMotion[o].overrideBounds=i)},setLive2dExpression:(e,t)=>{const{target:n,expression:r}=t.payload,i=e.live2dExpression.findIndex(o=>o.target===n);i<0?e.live2dExpression.push({target:n,expression:r}):e.live2dExpression[i].expression=r},setLive2dBlink:(e,t)=>{const{target:n,blink:r}=t.payload,i=e.live2dBlink.findIndex(o=>o.target===n);i<0?e.live2dBlink.push({target:n,blink:r}):e.live2dBlink[i].blink=r},setLive2dFocus:(e,t)=>{const{target:n,focus:r}=t.payload,i=e.live2dFocus.findIndex(o=>o.target===n);i<0?e.live2dFocus.push({target:n,focus:r}):e.live2dFocus[i].focus=r},replaceUIlable:(e,t)=>{e.replacedUIlable[t.payload[0]]=t.payload[1]},setFigureMetaData:(e,t)=>{t.payload[3]?e.figureMetaData[t.payload[0]]&&delete e.figureMetaData[t.payload[0]]:(e.figureMetaData[t.payload[0]]||(e.figureMetaData[t.payload[0]]={}),e.figureMetaData[t.payload[0]][t.payload[1]]=t.payload[2])},addInventoryItem:(e,t)=>{const{itemId:n,count:r,name:i}=t.payload;if(!e.inventory.items[n]){if(!i)return;e.inventory.items[n]={id:n,name:i,count:0}}e.inventory.items[n].count=Math.max(0,e.inventory.items[n].count+r),e.inventory.items[n].count===0&&delete e.inventory.items[n]},setViewingItemId:(e,t)=>{e.viewingItemId=t.payload.itemId,t.payload.count!==void 0?e.viewingItemCount=t.payload.count:t.payload.itemId===null&&(e.viewingItemCount=1)},clearAllItems:e=>{e.inventory.items={},e.viewingItemId=null,e.viewingItemCount=1}}}),{resetStageState:my,setStage:we,setStageVar:VD,setFreeFigure:KFe,addInventoryItem:$v,clearAllItems:Zte}=jT.actions,Ft=jT.actions,Qte=jT.reducer;function qp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WD={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function a(l,f){if(!i[l]){if(!r[l]){var d=typeof qp=="function"&&qp;if(!f&&d)return d(l,!0);if(s)return s(l,!0);var p=new Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[l]={exports:{}};r[l][0].call(m.exports,function(v){var _=r[l][1][v];return a(_||v)},m,m.exports,n,r,i,o)}return i[l].exports}for(var s=typeof qp=="function"&&qp,u=0;u<o.length;u++)a(o[u]);return a}({1:[function(n,r,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,s;if(a){var u=0,l=new a(v),f=o.document.createTextNode("");l.observe(f,{characterData:!0}),s=function(){f.data=u=++u%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=v,s=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?s=function(){var y=o.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:s=function(){setTimeout(v,0)};var p,m=[];function v(){p=!0;for(var y,x,b=m.length;b;){for(x=m,m=[],y=-1;++y<b;)x[y]();b=m.length}p=!1}r.exports=_;function _(y){m.push(y)===1&&!p&&s()}}).call(this,typeof Yn<"u"?Yn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function a(){}var s={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];r.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,C!==a&&_(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,O){if(typeof C!="function"&&this.state===l||typeof O!="function"&&this.state===u)return this;var A=new this.constructor(a);if(this.state!==f){var M=this.state===l?C:O;m(A,M,this.outcome)}else this.queue.push(new p(A,C,O));return A};function p(C,O,A){this.promise=C,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(C){s.resolve(this.promise,C)},p.prototype.otherCallFulfilled=function(C){m(this.promise,this.onFulfilled,C)},p.prototype.callRejected=function(C){s.reject(this.promise,C)},p.prototype.otherCallRejected=function(C){m(this.promise,this.onRejected,C)};function m(C,O,A){o(function(){var M;try{M=O(A)}catch(D){return s.reject(C,D)}M===C?s.reject(C,new TypeError("Cannot resolve promise with itself")):s.resolve(C,M)})}s.resolve=function(C,O){var A=y(v,O);if(A.status==="error")return s.reject(C,A.value);var M=A.value;if(M)_(C,M);else{C.state=l,C.outcome=O;for(var D=-1,B=C.queue.length;++D<B;)C.queue[D].callFulfilled(O)}return C},s.reject=function(C,O){C.state=u,C.outcome=O;for(var A=-1,M=C.queue.length;++A<M;)C.queue[A].callRejected(O);return C};function v(C){var O=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof O=="function")return function(){O.apply(C,arguments)}}function _(C,O){var A=!1;function M(U){A||(A=!0,s.reject(C,U))}function D(U){A||(A=!0,s.resolve(C,U))}function B(){O(D,M)}var G=y(B);G.status==="error"&&M(G.value)}function y(C,O){var A={};try{A.value=C(O),A.status="success"}catch(M){A.status="error",A.value=M}return A}d.resolve=x;function x(C){return C instanceof this?C:s.resolve(new this(a),C)}d.reject=b;function b(C){var O=new this(a);return s.reject(O,C)}d.all=w;function w(C){var O=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=C.length,M=!1;if(!A)return this.resolve([]);for(var D=new Array(A),B=0,G=-1,U=new this(a);++G<A;)H(C[G],G);return U;function H(Q,ee){O.resolve(Q).then(ne,function(ce){M||(M=!0,s.reject(U,ce))});function ne(ce){D[ee]=ce,++B===A&&!M&&(M=!0,s.resolve(U,D))}}}d.race=T;function T(C){var O=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=C.length,M=!1;if(!A)return this.resolve([]);for(var D=-1,B=new this(a);++D<A;)G(C[D]);return B;function G(U){O.resolve(U).then(function(H){M||(M=!0,s.resolve(B,H))},function(H){M||(M=!0,s.reject(B,H))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof Yn<"u"?Yn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function a(k,$){if(!(k instanceof $))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=s();function l(){try{if(!u||!u.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||$)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(k,$){k=k||[],$=$||{};try{return new Blob(k,$)}catch(V){if(V.name!=="TypeError")throw V;for(var F=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,X=new F,J=0;J<k.length;J+=1)X.append(k[J]);return X.getBlob($.type)}}typeof Promise>"u"&&n(3);var d=Promise;function p(k,$){$&&k.then(function(F){$(null,F)},function(F){$(F)})}function m(k,$,F){typeof $=="function"&&k.then($),typeof F=="function"&&k.catch(F)}function v(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",x=void 0,b={},w=Object.prototype.toString,T="readonly",C="readwrite";function O(k){for(var $=k.length,F=new ArrayBuffer($),X=new Uint8Array(F),J=0;J<$;J++)X[J]=k.charCodeAt(J);return F}function A(k){return new d(function($){var F=k.transaction(y,C),X=f([""]);F.objectStore(y).put(X,"key"),F.onabort=function(J){J.preventDefault(),J.stopPropagation(),$(!1)},F.oncomplete=function(){var J=navigator.userAgent.match(/Chrome\/(\d+)/),V=navigator.userAgent.match(/Edge\//);$(V||!J||parseInt(J[1],10)>=43)}}).catch(function(){return!1})}function M(k){return typeof x=="boolean"?d.resolve(x):A(k).then(function($){return x=$,x})}function D(k){var $=b[k.name],F={};F.promise=new d(function(X,J){F.resolve=X,F.reject=J}),$.deferredOperations.push(F),$.dbReady?$.dbReady=$.dbReady.then(function(){return F.promise}):$.dbReady=F.promise}function B(k){var $=b[k.name],F=$.deferredOperations.pop();if(F)return F.resolve(),F.promise}function G(k,$){var F=b[k.name],X=F.deferredOperations.pop();if(X)return X.reject($),X.promise}function U(k,$){return new d(function(F,X){if(b[k.name]=b[k.name]||Z(),k.db)if($)D(k),k.db.close();else return F(k.db);var J=[k.name];$&&J.push(k.version);var V=u.open.apply(u,J);$&&(V.onupgradeneeded=function(oe){var ve=V.result;try{ve.createObjectStore(k.storeName),oe.oldVersion<=1&&ve.createObjectStore(y)}catch(xe){if(xe.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+oe.oldVersion+" to version "+oe.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw xe}}),V.onerror=function(oe){oe.preventDefault(),X(V.error)},V.onsuccess=function(){var oe=V.result;oe.onversionchange=function(ve){ve.target.close()},F(oe),B(k)}})}function H(k){return U(k,!1)}function Q(k){return U(k,!0)}function ee(k,$){if(!k.db)return!0;var F=!k.db.objectStoreNames.contains(k.storeName),X=k.version<k.db.version,J=k.version>k.db.version;if(X&&(k.version!==$&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),J||F){if(F){var V=k.db.version+1;V>k.version&&(k.version=V)}return!0}return!1}function ne(k){return new d(function($,F){var X=new FileReader;X.onerror=F,X.onloadend=function(J){var V=btoa(J.target.result||"");$({__local_forage_encoded_blob:!0,data:V,type:k.type})},X.readAsBinaryString(k)})}function ce(k){var $=O(atob(k.data));return f([$],{type:k.type})}function Ae(k){return k&&k.__local_forage_encoded_blob}function pe(k){var $=this,F=$._initReady().then(function(){var X=b[$._dbInfo.name];if(X&&X.dbReady)return X.dbReady});return m(F,k,k),F}function fe(k){D(k);for(var $=b[k.name],F=$.forages,X=0;X<F.length;X++){var J=F[X];J._dbInfo.db&&(J._dbInfo.db.close(),J._dbInfo.db=null)}return k.db=null,H(k).then(function(V){return k.db=V,ee(k)?Q(k):V}).then(function(V){k.db=$.db=V;for(var oe=0;oe<F.length;oe++)F[oe]._dbInfo.db=V}).catch(function(V){throw G(k,V),V})}function L(k,$,F,X){X===void 0&&(X=1);try{var J=k.db.transaction(k.storeName,$);F(null,J)}catch(V){if(X>0&&(!k.db||V.name==="InvalidStateError"||V.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||V.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),Q(k)}).then(function(){return fe(k).then(function(){L(k,$,F,X-1)})}).catch(F);F(V)}}function Z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function re(k){var $=this,F={db:null};if(k)for(var X in k)F[X]=k[X];var J=b[F.name];J||(J=Z(),b[F.name]=J),J.forages.push($),$._initReady||($._initReady=$.ready,$.ready=pe);var V=[];function oe(){return d.resolve()}for(var ve=0;ve<J.forages.length;ve++){var xe=J.forages[ve];xe!==$&&V.push(xe._initReady().catch(oe))}var be=J.forages.slice(0);return d.all(V).then(function(){return F.db=J.db,H(F)}).then(function(Te){return F.db=Te,ee(F,$._defaultConfig.version)?Q(F):Te}).then(function(Te){F.db=J.db=Te,$._dbInfo=F;for(var De=0;De<be.length;De++){var st=be[De];st!==$&&(st._dbInfo.db=F.db,st._dbInfo.version=F.version)}})}function ae(k,$){var F=this;k=v(k);var X=new d(function(J,V){F.ready().then(function(){L(F._dbInfo,T,function(oe,ve){if(oe)return V(oe);try{var xe=ve.objectStore(F._dbInfo.storeName),be=xe.get(k);be.onsuccess=function(){var Te=be.result;Te===void 0&&(Te=null),Ae(Te)&&(Te=ce(Te)),J(Te)},be.onerror=function(){V(be.error)}}catch(Te){V(Te)}})}).catch(V)});return p(X,$),X}function le(k,$){var F=this,X=new d(function(J,V){F.ready().then(function(){L(F._dbInfo,T,function(oe,ve){if(oe)return V(oe);try{var xe=ve.objectStore(F._dbInfo.storeName),be=xe.openCursor(),Te=1;be.onsuccess=function(){var De=be.result;if(De){var st=De.value;Ae(st)&&(st=ce(st));var _t=k(st,De.key,Te++);_t!==void 0?J(_t):De.continue()}else J()},be.onerror=function(){V(be.error)}}catch(De){V(De)}})}).catch(V)});return p(X,$),X}function de(k,$,F){var X=this;k=v(k);var J=new d(function(V,oe){var ve;X.ready().then(function(){return ve=X._dbInfo,w.call($)==="[object Blob]"?M(ve.db).then(function(xe){return xe?$:ne($)}):$}).then(function(xe){L(X._dbInfo,C,function(be,Te){if(be)return oe(be);try{var De=Te.objectStore(X._dbInfo.storeName);xe===null&&(xe=void 0);var st=De.put(xe,k);Te.oncomplete=function(){xe===void 0&&(xe=null),V(xe)},Te.onabort=Te.onerror=function(){var _t=st.error?st.error:st.transaction.error;oe(_t)}}catch(_t){oe(_t)}})}).catch(oe)});return p(J,F),J}function ge(k,$){var F=this;k=v(k);var X=new d(function(J,V){F.ready().then(function(){L(F._dbInfo,C,function(oe,ve){if(oe)return V(oe);try{var xe=ve.objectStore(F._dbInfo.storeName),be=xe.delete(k);ve.oncomplete=function(){J()},ve.onerror=function(){V(be.error)},ve.onabort=function(){var Te=be.error?be.error:be.transaction.error;V(Te)}}catch(Te){V(Te)}})}).catch(V)});return p(X,$),X}function Ie(k){var $=this,F=new d(function(X,J){$.ready().then(function(){L($._dbInfo,C,function(V,oe){if(V)return J(V);try{var ve=oe.objectStore($._dbInfo.storeName),xe=ve.clear();oe.oncomplete=function(){X()},oe.onabort=oe.onerror=function(){var be=xe.error?xe.error:xe.transaction.error;J(be)}}catch(be){J(be)}})}).catch(J)});return p(F,k),F}function ke(k){var $=this,F=new d(function(X,J){$.ready().then(function(){L($._dbInfo,T,function(V,oe){if(V)return J(V);try{var ve=oe.objectStore($._dbInfo.storeName),xe=ve.count();xe.onsuccess=function(){X(xe.result)},xe.onerror=function(){J(xe.error)}}catch(be){J(be)}})}).catch(J)});return p(F,k),F}function Ze(k,$){var F=this,X=new d(function(J,V){if(k<0){J(null);return}F.ready().then(function(){L(F._dbInfo,T,function(oe,ve){if(oe)return V(oe);try{var xe=ve.objectStore(F._dbInfo.storeName),be=!1,Te=xe.openKeyCursor();Te.onsuccess=function(){var De=Te.result;if(!De){J(null);return}k===0||be?J(De.key):(be=!0,De.advance(k))},Te.onerror=function(){V(Te.error)}}catch(De){V(De)}})}).catch(V)});return p(X,$),X}function Be(k){var $=this,F=new d(function(X,J){$.ready().then(function(){L($._dbInfo,T,function(V,oe){if(V)return J(V);try{var ve=oe.objectStore($._dbInfo.storeName),xe=ve.openKeyCursor(),be=[];xe.onsuccess=function(){var Te=xe.result;if(!Te){X(be);return}be.push(Te.key),Te.continue()},xe.onerror=function(){J(xe.error)}}catch(Te){J(Te)}})}).catch(J)});return p(F,k),F}function Ue(k,$){$=_.apply(this,arguments);var F=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||F.name,k.storeName=k.storeName||F.storeName);var X=this,J;if(!k.name)J=d.reject("Invalid arguments");else{var V=k.name===F.name&&X._dbInfo.db,oe=V?d.resolve(X._dbInfo.db):H(k).then(function(ve){var xe=b[k.name],be=xe.forages;xe.db=ve;for(var Te=0;Te<be.length;Te++)be[Te]._dbInfo.db=ve;return ve});k.storeName?J=oe.then(function(ve){if(ve.objectStoreNames.contains(k.storeName)){var xe=ve.version+1;D(k);var be=b[k.name],Te=be.forages;ve.close();for(var De=0;De<Te.length;De++){var st=Te[De];st._dbInfo.db=null,st._dbInfo.version=xe}var _t=new d(function(xt,Zt){var Mt=u.open(k.name,xe);Mt.onerror=function(Tr){var Oa=Mt.result;Oa.close(),Zt(Tr)},Mt.onupgradeneeded=function(){var Tr=Mt.result;Tr.deleteObjectStore(k.storeName)},Mt.onsuccess=function(){var Tr=Mt.result;Tr.close(),xt(Tr)}});return _t.then(function(xt){be.db=xt;for(var Zt=0;Zt<Te.length;Zt++){var Mt=Te[Zt];Mt._dbInfo.db=xt,B(Mt._dbInfo)}}).catch(function(xt){throw(G(k,xt)||d.resolve()).catch(function(){}),xt})}}):J=oe.then(function(ve){D(k);var xe=b[k.name],be=xe.forages;ve.close();for(var Te=0;Te<be.length;Te++){var De=be[Te];De._dbInfo.db=null}var st=new d(function(_t,xt){var Zt=u.deleteDatabase(k.name);Zt.onerror=function(){var Mt=Zt.result;Mt&&Mt.close(),xt(Zt.error)},Zt.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},Zt.onsuccess=function(){var Mt=Zt.result;Mt&&Mt.close(),_t(Mt)}});return st.then(function(_t){xe.db=_t;for(var xt=0;xt<be.length;xt++){var Zt=be[xt];B(Zt._dbInfo)}}).catch(function(_t){throw(G(k,_t)||d.resolve()).catch(function(){}),_t})})}return p(J,$),J}var je={_driver:"asyncStorage",_initStorage:re,_support:l(),iterate:le,getItem:ae,setItem:de,removeItem:ge,clear:Ie,length:ke,key:Ze,keys:Be,dropInstance:Ue};function Se(){return typeof openDatabase=="function"}var Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yt="~~local_forage_type~",Je=/^~~local_forage_type~([^~]+)~/,It="__lfsc__:",Cn=It.length,kn="arbf",Un="blob",ji="si08",mo="ui08",Rs="uic8",Ea="si16",Dd="si32",Ta="ur16",Wo="ui32",$u="fl32",Uu="fl64",Gu=Cn+kn.length,zu=Object.prototype.toString;function Hu(k){var $=k.length*.75,F=k.length,X,J=0,V,oe,ve,xe;k[k.length-1]==="="&&($--,k[k.length-2]==="="&&$--);var be=new ArrayBuffer($),Te=new Uint8Array(be);for(X=0;X<F;X+=4)V=Ge.indexOf(k[X]),oe=Ge.indexOf(k[X+1]),ve=Ge.indexOf(k[X+2]),xe=Ge.indexOf(k[X+3]),Te[J++]=V<<2|oe>>4,Te[J++]=(oe&15)<<4|ve>>2,Te[J++]=(ve&3)<<6|xe&63;return be}function ks(k){var $=new Uint8Array(k),F="",X;for(X=0;X<$.length;X+=3)F+=Ge[$[X]>>2],F+=Ge[($[X]&3)<<4|$[X+1]>>4],F+=Ge[($[X+1]&15)<<2|$[X+2]>>6],F+=Ge[$[X+2]&63];return $.length%3===2?F=F.substring(0,F.length-1)+"=":$.length%3===1&&(F=F.substring(0,F.length-2)+"=="),F}function Xc(k,$){var F="";if(k&&(F=zu.call(k)),k&&(F==="[object ArrayBuffer]"||k.buffer&&zu.call(k.buffer)==="[object ArrayBuffer]")){var X,J=It;k instanceof ArrayBuffer?(X=k,J+=kn):(X=k.buffer,F==="[object Int8Array]"?J+=ji:F==="[object Uint8Array]"?J+=mo:F==="[object Uint8ClampedArray]"?J+=Rs:F==="[object Int16Array]"?J+=Ea:F==="[object Uint16Array]"?J+=Ta:F==="[object Int32Array]"?J+=Dd:F==="[object Uint32Array]"?J+=Wo:F==="[object Float32Array]"?J+=$u:F==="[object Float64Array]"?J+=Uu:$(new Error("Failed to get type for BinaryArray"))),$(J+ks(X))}else if(F==="[object Blob]"){var V=new FileReader;V.onload=function(){var oe=yt+k.type+"~"+ks(this.result);$(It+Un+oe)},V.readAsArrayBuffer(k)}else try{$(JSON.stringify(k))}catch(oe){console.error("Couldn't convert value into a JSON string: ",k),$(null,oe)}}function qc(k){if(k.substring(0,Cn)!==It)return JSON.parse(k);var $=k.substring(Gu),F=k.substring(Cn,Gu),X;if(F===Un&&Je.test($)){var J=$.match(Je);X=J[1],$=$.substring(J[0].length)}var V=Hu($);switch(F){case kn:return V;case Un:return f([V],{type:X});case ji:return new Int8Array(V);case mo:return new Uint8Array(V);case Rs:return new Uint8ClampedArray(V);case Ea:return new Int16Array(V);case Ta:return new Uint16Array(V);case Dd:return new Int32Array(V);case Wo:return new Uint32Array(V);case $u:return new Float32Array(V);case Uu:return new Float64Array(V);default:throw new Error("Unkown type: "+F)}}var Ns={serialize:Xc,deserialize:qc,stringToBuffer:Hu,bufferToString:ks};function Bd(k,$,F,X){k.executeSql("CREATE TABLE IF NOT EXISTS "+$.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,X)}function c_(k){var $=this,F={db:null};if(k)for(var X in k)F[X]=typeof k[X]!="string"?k[X].toString():k[X];var J=new d(function(V,oe){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(ve){return oe(ve)}F.db.transaction(function(ve){Bd(ve,F,function(){$._dbInfo=F,V()},function(xe,be){oe(be)})},oe)});return F.serializer=Ns,J}function vo(k,$,F,X,J,V){k.executeSql(F,X,J,function(oe,ve){ve.code===ve.SYNTAX_ERR?oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$.storeName],function(xe,be){be.rows.length?V(xe,ve):Bd(xe,$,function(){xe.executeSql(F,X,J,V)},V)},V):V(oe,ve)},V)}function jd(k,$){var F=this;k=v(k);var X=new d(function(J,V){F.ready().then(function(){var oe=F._dbInfo;oe.db.transaction(function(ve){vo(ve,oe,"SELECT * FROM "+oe.storeName+" WHERE key = ? LIMIT 1",[k],function(xe,be){var Te=be.rows.length?be.rows.item(0).value:null;Te&&(Te=oe.serializer.deserialize(Te)),J(Te)},function(xe,be){V(be)})})}).catch(V)});return p(X,$),X}function $d(k,$){var F=this,X=new d(function(J,V){F.ready().then(function(){var oe=F._dbInfo;oe.db.transaction(function(ve){vo(ve,oe,"SELECT * FROM "+oe.storeName,[],function(xe,be){for(var Te=be.rows,De=Te.length,st=0;st<De;st++){var _t=Te.item(st),xt=_t.value;if(xt&&(xt=oe.serializer.deserialize(xt)),xt=k(xt,_t.key,st+1),xt!==void 0){J(xt);return}}J()},function(xe,be){V(be)})})}).catch(V)});return p(X,$),X}function Ud(k,$,F,X){var J=this;k=v(k);var V=new d(function(oe,ve){J.ready().then(function(){$===void 0&&($=null);var xe=$,be=J._dbInfo;be.serializer.serialize($,function(Te,De){De?ve(De):be.db.transaction(function(st){vo(st,be,"INSERT OR REPLACE INTO "+be.storeName+" (key, value) VALUES (?, ?)",[k,Te],function(){oe(xe)},function(_t,xt){ve(xt)})},function(st){if(st.code===st.QUOTA_ERR){if(X>0){oe(Ud.apply(J,[k,xe,F,X-1]));return}ve(st)}})})}).catch(ve)});return p(V,F),V}function f_(k,$,F){return Ud.apply(this,[k,$,F,1])}function h_(k,$){var F=this;k=v(k);var X=new d(function(J,V){F.ready().then(function(){var oe=F._dbInfo;oe.db.transaction(function(ve){vo(ve,oe,"DELETE FROM "+oe.storeName+" WHERE key = ?",[k],function(){J()},function(xe,be){V(be)})})}).catch(V)});return p(X,$),X}function d_(k){var $=this,F=new d(function(X,J){$.ready().then(function(){var V=$._dbInfo;V.db.transaction(function(oe){vo(oe,V,"DELETE FROM "+V.storeName,[],function(){X()},function(ve,xe){J(xe)})})}).catch(J)});return p(F,k),F}function Gd(k){var $=this,F=new d(function(X,J){$.ready().then(function(){var V=$._dbInfo;V.db.transaction(function(oe){vo(oe,V,"SELECT COUNT(key) as c FROM "+V.storeName,[],function(ve,xe){var be=xe.rows.item(0).c;X(be)},function(ve,xe){J(xe)})})}).catch(J)});return p(F,k),F}function p_(k,$){var F=this,X=new d(function(J,V){F.ready().then(function(){var oe=F._dbInfo;oe.db.transaction(function(ve){vo(ve,oe,"SELECT key FROM "+oe.storeName+" WHERE id = ? LIMIT 1",[k+1],function(xe,be){var Te=be.rows.length?be.rows.item(0).key:null;J(Te)},function(xe,be){V(be)})})}).catch(V)});return p(X,$),X}function m_(k){var $=this,F=new d(function(X,J){$.ready().then(function(){var V=$._dbInfo;V.db.transaction(function(oe){vo(oe,V,"SELECT key FROM "+V.storeName,[],function(ve,xe){for(var be=[],Te=0;Te<xe.rows.length;Te++)be.push(xe.rows.item(Te).key);X(be)},function(ve,xe){J(xe)})})}).catch(J)});return p(F,k),F}function v_(k){return new d(function($,F){k.transaction(function(X){X.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(J,V){for(var oe=[],ve=0;ve<V.rows.length;ve++)oe.push(V.rows.item(ve).name);$({db:k,storeNames:oe})},function(J,V){F(V)})},function(X){F(X)})})}function Kc(k,$){$=_.apply(this,arguments);var F=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||F.name,k.storeName=k.storeName||F.storeName);var X=this,J;return k.name?J=new d(function(V){var oe;k.name===F.name?oe=X._dbInfo.db:oe=openDatabase(k.name,"","",0),k.storeName?V({db:oe,storeNames:[k.storeName]}):V(v_(oe))}).then(function(V){return new d(function(oe,ve){V.db.transaction(function(xe){function be(_t){return new d(function(xt,Zt){xe.executeSql("DROP TABLE IF EXISTS "+_t,[],function(){xt()},function(Mt,Tr){Zt(Tr)})})}for(var Te=[],De=0,st=V.storeNames.length;De<st;De++)Te.push(be(V.storeNames[De]));d.all(Te).then(function(){oe()}).catch(function(_t){ve(_t)})},function(xe){ve(xe)})})}):J=d.reject("Invalid arguments"),p(J,$),J}var g_={_driver:"webSQLStorage",_initStorage:c_,_support:Se(),iterate:$d,getItem:jd,setItem:f_,removeItem:h_,clear:d_,length:Gd,key:p_,keys:m_,dropInstance:Kc};function Yc(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function zd(k,$){var F=k.name+"/";return k.storeName!==$.storeName&&(F+=k.storeName+"/"),F}function y_(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function __(){return!y_()||localStorage.length>0}function x_(k){var $=this,F={};if(k)for(var X in k)F[X]=k[X];return F.keyPrefix=zd(k,$._defaultConfig),__()?($._dbInfo=F,F.serializer=Ns,d.resolve()):d.reject()}function b_(k){var $=this,F=$.ready().then(function(){for(var X=$._dbInfo.keyPrefix,J=localStorage.length-1;J>=0;J--){var V=localStorage.key(J);V.indexOf(X)===0&&localStorage.removeItem(V)}});return p(F,k),F}function S_(k,$){var F=this;k=v(k);var X=F.ready().then(function(){var J=F._dbInfo,V=localStorage.getItem(J.keyPrefix+k);return V&&(V=J.serializer.deserialize(V)),V});return p(X,$),X}function w_(k,$){var F=this,X=F.ready().then(function(){for(var J=F._dbInfo,V=J.keyPrefix,oe=V.length,ve=localStorage.length,xe=1,be=0;be<ve;be++){var Te=localStorage.key(be);if(Te.indexOf(V)===0){var De=localStorage.getItem(Te);if(De&&(De=J.serializer.deserialize(De)),De=k(De,Te.substring(oe),xe++),De!==void 0)return De}}});return p(X,$),X}function E_(k,$){var F=this,X=F.ready().then(function(){var J=F._dbInfo,V;try{V=localStorage.key(k)}catch{V=null}return V&&(V=V.substring(J.keyPrefix.length)),V});return p(X,$),X}function Hd(k){var $=this,F=$.ready().then(function(){for(var X=$._dbInfo,J=localStorage.length,V=[],oe=0;oe<J;oe++){var ve=localStorage.key(oe);ve.indexOf(X.keyPrefix)===0&&V.push(ve.substring(X.keyPrefix.length))}return V});return p(F,k),F}function T_(k){var $=this,F=$.keys().then(function(X){return X.length});return p(F,k),F}function C_(k,$){var F=this;k=v(k);var X=F.ready().then(function(){var J=F._dbInfo;localStorage.removeItem(J.keyPrefix+k)});return p(X,$),X}function O_(k,$,F){var X=this;k=v(k);var J=X.ready().then(function(){$===void 0&&($=null);var V=$;return new d(function(oe,ve){var xe=X._dbInfo;xe.serializer.serialize($,function(be,Te){if(Te)ve(Te);else try{localStorage.setItem(xe.keyPrefix+k,be),oe(V)}catch(De){(De.name==="QuotaExceededError"||De.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ve(De),ve(De)}})})});return p(J,F),J}function A_(k,$){if($=_.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var F=this.config();k.name=k.name||F.name,k.storeName=k.storeName||F.storeName}var X=this,J;return k.name?J=new d(function(V){k.storeName?V(zd(k,X._defaultConfig)):V(k.name+"/")}).then(function(V){for(var oe=localStorage.length-1;oe>=0;oe--){var ve=localStorage.key(oe);ve.indexOf(V)===0&&localStorage.removeItem(ve)}}):J=d.reject("Invalid arguments"),p(J,$),J}var P_={_driver:"localStorageWrapper",_initStorage:x_,_support:Yc(),iterate:w_,getItem:S_,setItem:O_,removeItem:C_,clear:b_,length:T_,key:E_,keys:Hd,dropInstance:A_},I_=function($,F){return $===F||typeof $=="number"&&typeof F=="number"&&isNaN($)&&isNaN(F)},Vu=function($,F){for(var X=$.length,J=0;J<X;){if(I_($[J],F))return!0;J++}return!1},Vd=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},go={},Wd={},Ca={INDEXEDDB:je,WEBSQL:g_,LOCALSTORAGE:P_},R_=[Ca.INDEXEDDB._driver,Ca.WEBSQL._driver,Ca.LOCALSTORAGE._driver],Ls=["dropInstance"],Wu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ls),Xd={description:"",driver:R_.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function k_(k,$){k[$]=function(){var F=arguments;return k.ready().then(function(){return k[$].apply(k,F)})}}function Jc(){for(var k=1;k<arguments.length;k++){var $=arguments[k];if($)for(var F in $)$.hasOwnProperty(F)&&(Vd($[F])?arguments[0][F]=$[F].slice():arguments[0][F]=$[F])}return arguments[0]}var N_=function(){function k($){a(this,k);for(var F in Ca)if(Ca.hasOwnProperty(F)){var X=Ca[F],J=X._driver;this[F]=J,go[J]||this.defineDriver(X)}this._defaultConfig=Jc({},Xd),this._config=Jc({},this._defaultConfig,$),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(F){if((typeof F>"u"?"undefined":o(F))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var X in F){if(X==="storeName"&&(F[X]=F[X].replace(/\W/g,"_")),X==="version"&&typeof F[X]!="number")return new Error("Database version must be a number.");this._config[X]=F[X]}return"driver"in F&&F.driver?this.setDriver(this._config.driver):!0}else return typeof F=="string"?this._config[F]:this._config},k.prototype.defineDriver=function(F,X,J){var V=new d(function(oe,ve){try{var xe=F._driver,be=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!F._driver){ve(be);return}for(var Te=Wu.concat("_initStorage"),De=0,st=Te.length;De<st;De++){var _t=Te[De],xt=!Vu(Ls,_t);if((xt||F[_t])&&typeof F[_t]!="function"){ve(be);return}}var Zt=function(){for(var Oa=function(Kd){return function(){var F_=new Error("Method "+Kd+" is not implemented by the current driver"),Yd=d.reject(F_);return p(Yd,arguments[arguments.length-1]),Yd}},Zc=0,qd=Ls.length;Zc<qd;Zc++){var Xu=Ls[Zc];F[Xu]||(F[Xu]=Oa(Xu))}};Zt();var Mt=function(Oa){go[xe]&&console.info("Redefining LocalForage driver: "+xe),go[xe]=F,Wd[xe]=Oa,oe()};"_support"in F?F._support&&typeof F._support=="function"?F._support().then(Mt,ve):Mt(!!F._support):Mt(!0)}catch(Tr){ve(Tr)}});return m(V,X,J),V},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(F,X,J){var V=go[F]?d.resolve(go[F]):d.reject(new Error("Driver not found."));return m(V,X,J),V},k.prototype.getSerializer=function(F){var X=d.resolve(Ns);return m(X,F),X},k.prototype.ready=function(F){var X=this,J=X._driverSet.then(function(){return X._ready===null&&(X._ready=X._initDriver()),X._ready});return m(J,F,F),J},k.prototype.setDriver=function(F,X,J){var V=this;Vd(F)||(F=[F]);var oe=this._getSupportedDrivers(F);function ve(){V._config.driver=V.driver()}function xe(De){return V._extend(De),ve(),V._ready=V._initStorage(V._config),V._ready}function be(De){return function(){var st=0;function _t(){for(;st<De.length;){var xt=De[st];return st++,V._dbInfo=null,V._ready=null,V.getDriver(xt).then(xe).catch(_t)}ve();var Zt=new Error("No available storage method found.");return V._driverSet=d.reject(Zt),V._driverSet}return _t()}}var Te=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Te.then(function(){var De=oe[0];return V._dbInfo=null,V._ready=null,V.getDriver(De).then(function(st){V._driver=st._driver,ve(),V._wrapLibraryMethodsWithReady(),V._initDriver=be(oe)})}).catch(function(){ve();var De=new Error("No available storage method found.");return V._driverSet=d.reject(De),V._driverSet}),m(this._driverSet,X,J),this._driverSet},k.prototype.supports=function(F){return!!Wd[F]},k.prototype._extend=function(F){Jc(this,F)},k.prototype._getSupportedDrivers=function(F){for(var X=[],J=0,V=F.length;J<V;J++){var oe=F[J];this.supports(oe)&&X.push(oe)}return X},k.prototype._wrapLibraryMethodsWithReady=function(){for(var F=0,X=Wu.length;F<X;F++)k_(this,Wu[F])},k.prototype.createInstance=function(F){return new k(F)},k}(),L_=new N_;r.exports=L_},{3:3}]},{},[4])(4)})})(WD);var Eu=WD.exports;const Lu=Qn(Eu);var $T={exports:{}},XD=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}},ene=XD,Mu=Object.prototype.toString;function UT(e){return Mu.call(e)==="[object Array]"}function aS(e){return typeof e>"u"}function tne(e){return e!==null&&!aS(e)&&e.constructor!==null&&!aS(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function nne(e){return Mu.call(e)==="[object ArrayBuffer]"}function rne(e){return typeof FormData<"u"&&e instanceof FormData}function ine(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function one(e){return typeof e=="string"}function ane(e){return typeof e=="number"}function qD(e){return e!==null&&typeof e=="object"}function zm(e){if(Mu.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function sne(e){return Mu.call(e)==="[object Date]"}function une(e){return Mu.call(e)==="[object File]"}function lne(e){return Mu.call(e)==="[object Blob]"}function KD(e){return Mu.call(e)==="[object Function]"}function cne(e){return qD(e)&&KD(e.pipe)}function fne(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function hne(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function dne(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function GT(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),UT(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function sS(){var e={};function t(i,o){zm(e[o])&&zm(i)?e[o]=sS(e[o],i):zm(i)?e[o]=sS({},i):UT(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)GT(arguments[n],t);return e}function pne(e,t,n){return GT(t,function(i,o){n&&typeof i=="function"?e[o]=ene(i,n):e[o]=i}),e}function mne(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var vi={isArray:UT,isArrayBuffer:nne,isBuffer:tne,isFormData:rne,isArrayBufferView:ine,isString:one,isNumber:ane,isObject:qD,isPlainObject:zm,isUndefined:aS,isDate:sne,isFile:une,isBlob:lne,isFunction:KD,isStream:cne,isURLSearchParams:fne,isStandardBrowserEnv:dne,forEach:GT,merge:sS,extend:pne,trim:hne,stripBOM:mne},ll=vi;function WI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var YD=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(ll.isURLSearchParams(n))i=n.toString();else{var o=[];ll.forEach(n,function(u,l){u===null||typeof u>"u"||(ll.isArray(u)?l=l+"[]":u=[u],ll.forEach(u,function(d){ll.isDate(d)?d=d.toISOString():ll.isObject(d)&&(d=JSON.stringify(d)),o.push(WI(l)+"="+WI(d))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},vne=vi;function vy(){this.handlers=[]}vy.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};vy.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};vy.prototype.forEach=function(t){vne.forEach(this.handlers,function(r){r!==null&&t(r)})};var gne=vy,yne=vi,_ne=function(t,n){yne.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})},JD=function(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Sx,XI;function ZD(){if(XI)return Sx;XI=1;var e=JD;return Sx=function(n,r,i,o,a){var s=new Error(n);return e(s,r,i,o,a)},Sx}var wx,qI;function xne(){if(qI)return wx;qI=1;var e=ZD();return wx=function(n,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(e("Request failed with status code "+i.status,i.config,null,i.request,i))},wx}var Ex,KI;function bne(){if(KI)return Ex;KI=1;var e=vi;return Ex=e.isStandardBrowserEnv()?function(){return{write:function(r,i,o,a,s,u){var l=[];l.push(r+"="+encodeURIComponent(i)),e.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),e.isString(a)&&l.push("path="+a),e.isString(s)&&l.push("domain="+s),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ex}var Tx,YI;function Sne(){return YI||(YI=1,Tx=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),Tx}var Cx,JI;function wne(){return JI||(JI=1,Cx=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),Cx}var Ox,ZI;function Ene(){if(ZI)return Ox;ZI=1;var e=Sne(),t=wne();return Ox=function(r,i){return r&&!e(i)?t(r,i):i},Ox}var Ax,QI;function Tne(){if(QI)return Ax;QI=1;var e=vi,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Ax=function(r){var i={},o,a,s;return r&&e.forEach(r.split(`
`),function(l){if(s=l.indexOf(":"),o=e.trim(l.substr(0,s)).toLowerCase(),a=e.trim(l.substr(s+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([a]):i[o]=i[o]?i[o]+", "+a:a}}),i},Ax}var Px,eR;function Cne(){if(eR)return Px;eR=1;var e=vi;return Px=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(a){var s=a;return n&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(s){var u=e.isString(s)?o(s):s;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),Px}var Ix,tR;function gy(){if(tR)return Ix;tR=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Ix=e,Ix}var Rx,nR;function rR(){if(nR)return Rx;nR=1;var e=vi,t=xne(),n=bne(),r=YD,i=Ene(),o=Tne(),a=Cne(),s=ZD(),u=yy(),l=gy();return Rx=function(d){return new Promise(function(m,v){var _=d.data,y=d.headers,x=d.responseType,b;function w(){d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}e.isFormData(_)&&delete y["Content-Type"];var T=new XMLHttpRequest;if(d.auth){var C=d.auth.username||"",O=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";y.Authorization="Basic "+btoa(C+":"+O)}var A=i(d.baseURL,d.url);T.open(d.method.toUpperCase(),r(A,d.params,d.paramsSerializer),!0),T.timeout=d.timeout;function M(){if(T){var B="getAllResponseHeaders"in T?o(T.getAllResponseHeaders()):null,G=!x||x==="text"||x==="json"?T.responseText:T.response,U={data:G,status:T.status,statusText:T.statusText,headers:B,config:d,request:T};t(function(Q){m(Q),w()},function(Q){v(Q),w()},U),T=null}}if("onloadend"in T?T.onloadend=M:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(M)},T.onabort=function(){T&&(v(s("Request aborted",d,"ECONNABORTED",T)),T=null)},T.onerror=function(){v(s("Network Error",d,null,T)),T=null},T.ontimeout=function(){var G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",U=d.transitional||u.transitional;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),v(s(G,d,U.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",T)),T=null},e.isStandardBrowserEnv()){var D=(d.withCredentials||a(A))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;D&&(y[d.xsrfHeaderName]=D)}"setRequestHeader"in T&&e.forEach(y,function(G,U){typeof _>"u"&&U.toLowerCase()==="content-type"?delete y[U]:T.setRequestHeader(U,G)}),e.isUndefined(d.withCredentials)||(T.withCredentials=!!d.withCredentials),x&&x!=="json"&&(T.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&T.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(b=function(B){T&&(v(!B||B&&B.type?new l("canceled"):B),T.abort(),T=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b))),_||(_=null),T.send(_)})},Rx}var kx,iR;function yy(){if(iR)return kx;iR=1;var e=vi,t=_ne,n=JD,r={"Content-Type":"application/x-www-form-urlencoded"};function i(u,l){!e.isUndefined(u)&&e.isUndefined(u["Content-Type"])&&(u["Content-Type"]=l)}function o(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=rR()),u}function a(u,l,f){if(e.isString(u))try{return(l||JSON.parse)(u),e.trim(u)}catch(d){if(d.name!=="SyntaxError")throw d}return(f||JSON.stringify)(u)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(l,f){return t(f,"Accept"),t(f,"Content-Type"),e.isFormData(l)||e.isArrayBuffer(l)||e.isBuffer(l)||e.isStream(l)||e.isFile(l)||e.isBlob(l)?l:e.isArrayBufferView(l)?l.buffer:e.isURLSearchParams(l)?(i(f,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):e.isObject(l)||f&&f["Content-Type"]==="application/json"?(i(f,"application/json"),a(l)):l}],transformResponse:[function(l){var f=this.transitional||s.transitional,d=f&&f.silentJSONParsing,p=f&&f.forcedJSONParsing,m=!d&&this.responseType==="json";if(m||p&&e.isString(l)&&l.length)try{return JSON.parse(l)}catch(v){if(m)throw v.name==="SyntaxError"?n(v,this,"E_JSON_PARSE"):v}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(l){s.headers[l]={}}),e.forEach(["post","put","patch"],function(l){s.headers[l]=e.merge(r)}),kx=s,kx}var One=vi,Ane=yy(),Pne=function(t,n,r){var i=this||Ane;return One.forEach(r,function(a){t=a.call(i,t,n)}),t},Nx,oR;function QD(){return oR||(oR=1,Nx=function(t){return!!(t&&t.__CANCEL__)}),Nx}var aR=vi,Lx=Pne,Ine=QD(),Rne=yy(),kne=gy();function Mx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kne("canceled")}var Nne=function(t){Mx(t),t.headers=t.headers||{},t.data=Lx.call(t,t.data,t.headers,t.transformRequest),t.headers=aR.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),aR.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||Rne.adapter;return n(t).then(function(i){return Mx(t),i.data=Lx.call(t,i.data,i.headers,t.transformResponse),i},function(i){return Ine(i)||(Mx(t),i&&i.response&&(i.response.data=Lx.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},ai=vi,e3=function(t,n){n=n||{};var r={};function i(f,d){return ai.isPlainObject(f)&&ai.isPlainObject(d)?ai.merge(f,d):ai.isPlainObject(d)?ai.merge({},d):ai.isArray(d)?d.slice():d}function o(f){if(ai.isUndefined(n[f])){if(!ai.isUndefined(t[f]))return i(void 0,t[f])}else return i(t[f],n[f])}function a(f){if(!ai.isUndefined(n[f]))return i(void 0,n[f])}function s(f){if(ai.isUndefined(n[f])){if(!ai.isUndefined(t[f]))return i(void 0,t[f])}else return i(void 0,n[f])}function u(f){if(f in n)return i(t[f],n[f]);if(f in t)return i(void 0,t[f])}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return ai.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var p=l[d]||o,m=p(d);ai.isUndefined(m)&&p!==u||(r[d]=m)}),r},Fx,sR;function t3(){return sR||(sR=1,Fx={version:"0.24.0"}),Fx}var Lne=t3().version,zT={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){zT[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var uR={};zT.transitional=function(t,n,r){function i(o,a){return"[Axios v"+Lne+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(n?" in "+n:"")));return n&&!uR[a]&&(uR[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,s):!0}};function Mne(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=s===void 0||a(s,o,e);if(u!==!0)throw new TypeError("option "+o+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+o)}}var Fne={assertOptions:Mne,validators:zT},n3=vi,Dne=YD,lR=gne,cR=Nne,_y=e3,r3=Fne,cl=r3.validators;function bd(e){this.defaults=e,this.interceptors={request:new lR,response:new lR}}bd.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=_y(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&r3.assertOptions(n,{silentJSONParsing:cl.transitional(cl.boolean),forcedJSONParsing:cl.transitional(cl.boolean),clarifyTimeoutError:cl.transitional(cl.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(i=i&&p.synchronous,r.unshift(p.fulfilled,p.rejected))});var o=[];this.interceptors.response.forEach(function(p){o.push(p.fulfilled,p.rejected)});var a;if(!i){var s=[cR,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var u=t;r.length;){var l=r.shift(),f=r.shift();try{u=l(u)}catch(d){f(d);break}}try{a=cR(u)}catch(d){return Promise.reject(d)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};bd.prototype.getUri=function(t){return t=_y(this.defaults,t),Dne(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};n3.forEach(["delete","get","head","options"],function(t){bd.prototype[t]=function(n,r){return this.request(_y(r||{},{method:t,url:n,data:(r||{}).data}))}});n3.forEach(["post","put","patch"],function(t){bd.prototype[t]=function(n,r,i){return this.request(_y(i||{},{method:t,url:n,data:r}))}});var Bne=bd,Dx,fR;function jne(){if(fR)return Dx;fR=1;var e=gy();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(a){r=a});var i=this;this.promise.then(function(o){if(i._listeners){var a,s=i._listeners.length;for(a=0;a<s;a++)i._listeners[a](o);i._listeners=null}}),this.promise.then=function(o){var a,s=new Promise(function(u){i.subscribe(u),a=u}).then(o);return s.cancel=function(){i.unsubscribe(a)},s},n(function(a){i.reason||(i.reason=new e(a),r(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},t.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var r,i=new t(function(a){r=a});return{token:i,cancel:r}},Dx=t,Dx}var Bx,hR;function $ne(){return hR||(hR=1,Bx=function(t){return function(r){return t.apply(null,r)}}),Bx}var jx,dR;function Une(){return dR||(dR=1,jx=function(t){return typeof t=="object"&&t.isAxiosError===!0}),jx}var pR=vi,Gne=XD,Hm=Bne,zne=e3,Hne=yy();function i3(e){var t=new Hm(e),n=Gne(Hm.prototype.request,t);return pR.extend(n,Hm.prototype,t),pR.extend(n,t),n.create=function(i){return i3(zne(e,i))},n}var zo=i3(Hne);zo.Axios=Hm;zo.Cancel=gy();zo.CancelToken=jne();zo.isCancel=QD();zo.VERSION=t3().version;zo.all=function(t){return Promise.all(t)};zo.spread=$ne();zo.isAxiosError=Une();$T.exports=zo;$T.exports.default=zo;var Vne=$T.exports,Wne=Vne;const Xne=Wne;class qne{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,n){this.url=t,n&&(this.mongoUrl=n)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,n,r,i){typeof t!="string"&&this.error("log",void 0,!1);let o={log:{info:t,data:n,level:r,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const a=this;this.url!==""&&this.isUpload&&Xne.post(this.url+"/log",o).then(s=>{a.trace("Logged to cloud.",void 0,!1)}).catch(s=>{a.error("Logging to cloud failed!",void 0,!1)})}clog(t,n,r,i,o,a){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[r]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+r+"]",""," ","color:"+i,"["+o.toLocaleString()+"]","",t),n&&(console.log(n),console.log("------------------------"))),a===void 0&&this.upload(t,n,r,o),a!==void 0&&a&&this.upload(t,n,r,o)}trace(t,n,r){const i=new Date,o="TRACE",a="#005CAF";this.clog(t,n,o,a,i,r)}debug(t,n,r){const i=new Date,o="DEBUG",a="#0089A7";this.clog(t,n,o,a,i,r)}info(t,n,r){const i=new Date,o="INFO",a="#00896C";this.clog(t,n,o,a,i,r)}warn(t,n,r){const i=new Date,o="WARN",a="#DDA52D";this.clog(t,n,o,a,i,r)}error(t,n,r){const i=new Date,o="ERROR",a="#AB3B3A";this.clog(t,n,o,a,i,r)}fatal(t,n,r){const i=new Date,o="FATAL",a="#E16B8C";this.clog(t,n,o,a,i,r)}}var Kne=qne;const Yne=Qn(Kne),he=new Yne;he.setLevel("INFO");const Jne={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""},exit:{title:"EXIT",subtitle:"",tips:"Are you sure you want to exit?"}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",fullscreen:"Full Screen",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"}},Zne={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL ",subTitle:"WebGAL: ",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"()",SimHei:"OPPO Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:"BGM "},seVolume:{title:""},uiSeVolume:{title:"UI "},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},exit:{title:"",subtitle:"EXIT",tips:""}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",fullscrren:"FULLSCREEN",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},Qne={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},exit:{title:"",subtitle:"EXIT",tips:""}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",fullscreen:"",options:"",title:"",titleTips:""}},extra:{title:""}},ere={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""},exit:{title:"QUITTER",subtitle:"",tips:"tes-vous sr de vouloir quitter ?"}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",fullscrren:"Plein cran",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre ?"}},extra:{title:"EXTRA"}},tre={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""},exit:{title:"BEENDEN",subtitle:"",tips:"Sind Sie sicher, dass Sie das Spiel beenden mchten?"}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",fullscrreen:"Vollbild",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},nre={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"},exit:{title:"",subtitle:"EXIT",tips:""}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",fullscreen:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Hr=(e=>(e[e.zhCn=0]="zhCn",e[e.en=1]="en",e[e.jp=2]="jp",e[e.fr=3]="fr",e[e.de=4]="de",e[e.zhTw=5]="zhTw",e))(Hr||{});const Uv={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},rre={en:{translation:Jne},zhCn:{translation:Qne},jp:{translation:Zne},fr:{translation:ere},de:{translation:tre},zhTw:{translation:nre}},ire=0,o3={slPage:1,volumeMain:100,textSpeed:75,autoSpeed:100,textSize:Ni.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:to.song,textboxOpacity:100,language:Hr.zhCn,voiceInterruption:Dh.yes,fullScreen:vT.off},uS={optionData:o3,scriptManagedGlobalVar:[],globalGameVar:{},appreciationData:{bgm:[],cg:[]}},a3=oy({name:"userData",initialState:Pt(uS),reducers:{setUserData:(e,t)=>{const{key:n,value:r}=t.payload;e[n]=r},unlockCgInUserData:(e,t)=>{const{name:n,url:r,series:i}=t.payload;let o=!1;e.appreciationData.cg.forEach(a=>{r===a.url&&(o=!0,a.url=r,a.series=i)}),o||e.appreciationData.cg.push(t.payload)},unlockBgmInUserData:(e,t)=>{const{name:n,url:r,series:i}=t.payload;let o=!1;e.appreciationData.bgm.forEach(a=>{r===a.url&&(o=!0,a.url=r,a.series=i)}),o||e.appreciationData.bgm.push(t.payload)},resetUserData:(e,t)=>{Object.assign(e,t.payload)},setOptionData:(e,t)=>{const{key:n,value:r}=t.payload;e.optionData[n]=r},setGlobalVar:(e,t)=>{e.scriptManagedGlobalVar.findIndex(r=>r===t.payload.key)>=0||(e.globalGameVar[t.payload.key]=t.payload.value)},setScriptManagedGlobalVar:(e,t)=>{const n=e.scriptManagedGlobalVar.findIndex(r=>r===t.payload.key)>=0;e.globalGameVar[t.payload.key]=t.payload.value,n||e.scriptManagedGlobalVar.push(t.payload.key)},setSlPage:(e,t)=>{e.optionData.slPage=t.payload},resetOptionSet(e){Object.assign(e.optionData,o3)},resetAllData(e){Object.assign(e,Pt(uS))}}}),{setUserData:YFe,resetUserData:HT,setOptionData:qn,setGlobalVar:mR,setScriptManagedGlobalVar:ore,setSlPage:s3,unlockCgInUserData:u3,unlockBgmInUserData:l3,resetOptionSet:are,resetAllData:sre}=a3.actions,ure=a3.reducer,nn=c3(()=>{const e=W.getState().userData;Eu.setItem(I.gameKey,e).then(()=>{he.info("")})},100),$h=c3(()=>{Eu.getItem(I.gameKey).then(e=>{if(!e||!f3(e)){he.warn(""),nn();return}W.dispatch(HT(e))})},100);function c3(e,t){let n;function r(...i){clearTimeout(n);let o;return n=setTimeout(()=>{o=e.apply(r,i)},t),o}return r}const Gv=()=>{const e=W.getState().userData;Eu.setItem(I.gameKey,e).then(()=>{Eu.getItem(I.gameKey).then(t=>{if(!t){nn();return}W.dispatch(HT(t))}),he.info("")})};function f3(e){let t=!0;for(const n in uS)e.hasOwnProperty(n)||(t=!1);return t}async function lre(){const e=await Eu.getItem(I.gameKey);if(!e||!f3(e)){const t=W.getState().userData;return he.warn(""),await Eu.setItem(I.gameKey,t)}else W.dispatch(HT(e))}var Dt=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(Dt||{});const cre={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!1,controlsVisibility:!0,currentMenuTag:Dt.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,enableAppreciationMode:!1,fontOptimization:!1,showPhone:!1,showManopediaUpdate:!1,manopediaUpdateItem:null,showItem:!1,showItemInfo:null},h3=oy({name:"gui",initialState:cre,reducers:{setVisibility:(e,t)=>{$h();const{component:n,visibility:r,itemInfo:i}=t.payload;e[n]=r,n==="showManopediaUpdate"&&i?e.manopediaUpdateItem=i:n==="showManopediaUpdate"&&!r&&(e.manopediaUpdateItem=null),n==="showItem"&&i?e.showItemInfo=i:n==="showItem"&&!r&&(e.showItemInfo=null)},setMenuPanelTag:(e,t)=>{$h(),e.currentMenuTag=t.payload},setGuiAsset:(e,t)=>{const{asset:n,value:r}=t.payload;e[n]=r},setLogoImage:(e,t)=>{e.logoImage=[...t.payload]},setEnableAppreciationMode:(e,t)=>{e.enableAppreciationMode=t.payload},setFontOptimization:(e,t)=>{e.fontOptimization=t.payload}}}),{setVisibility:at,setMenuPanelTag:du,setGuiAsset:zv,setLogoImage:fre,setEnableAppreciationMode:hre,setFontOptimization:dre}=h3.actions,pre=h3.reducer,mre={saveData:[],quickSaveData:null},d3=oy({name:"saveData",initialState:Pt(mre),reducers:{setFastSave:(e,t)=>{e.quickSaveData=t.payload},resetFastSave:e=>{e.quickSaveData=null},resetSaves:e=>{e.quickSaveData=null,e.saveData=[]},saveGame:(e,t)=>{e.saveData[t.payload.index]=t.payload.saveData},replaceSaveGame:(e,t)=>{e.saveData=t.payload}}}),pa=d3.actions,vre=d3.reducer,W=bX({reducer:{stage:Qte,GUI:pre,userData:ure,saveData:vre},middleware:_D({serializableCheck:!1})}),p3={backlog_size:200,fast_timeout:50},gre={textInitialDelay:80};class yre{constructor(t){ye(this,"isSaveBacklogNext",!1);ye(this,"backlog",[]);ye(this,"sceneManager");this.sceneManager=t}getBacklog(){return this.backlog}editLastBacklogItemEffect(t){this.backlog[this.backlog.length-1].currentStageState.effects=t}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(t){this.backlog.push(t)}saveCurrentStateToBacklog(){const t=W.getState().stage,n=Pt(t);n.PerformList.forEach(i=>{i.script.args.forEach(o=>{o.key==="concat"&&(o.value=!1,i.script.content=n.showText)})});const r={currentStageState:n,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:Pt(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(r);this.getBacklog().length>p3.backlog_size;)this.getBacklog().shift()}}const vR={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class _re{constructor(){ye(this,"settledScenes",[]);ye(this,"settledAssets",[]);ye(this,"sceneData",Pt(vR));ye(this,"lockSceneWrite",!1)}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=Pt(vR.currentScene)}}class xre{constructor(){ye(this,"nextEnterAnimationName",new Map);ye(this,"nextExitAnimationName",new Map);ye(this,"nextEnterAnimationDuration",new Map);ye(this,"nextExitAnimationDuration",new Map);ye(this,"animations",[])}addAnimation(t){this.animations.push(t)}getAnimations(){return this.animations}}const bre={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};var un=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e[e.lut=7]="lut",e))(un||{});const ln=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let n;switch(t){case 0:n=`./game/background/${e}`;break;case 3:n=`./game/scene/${e}`;break;case 5:n=`./game/vocal/${e}`;break;case 2:n=`./game/figure/${e}`;break;case 1:n=`./game/bgm/${e}`;break;case 6:n=`./game/video/${e}`;break;case 7:n=`./game/lut/${e}`;break;default:n="";break}return n}},Sre=e=>{for(const t of e)if(I.sceneManager.settledAssets.includes(t.url))he.debug(`${t.url}`);else{const r=document.createElement("link");r.setAttribute("rel","prefetch"),r.setAttribute("href",t.url);const i=document.getElementsByTagName("head");if(i.length)try{i[0].appendChild(r)}catch(o){console.log("",o)}I.sceneManager.settledAssets.push(t.url)}};var Oe;(function(e){e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setComplexAnimation=12]="setComplexAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e[e.setAnimation=25]="setAnimation",e[e.playEffect=26]="playEffect",e[e.setTempAnimation=27]="setTempAnimation",e[e.comment=28]="comment",e[e.setTransform=29]="setTransform",e[e.setTransition=30]="setTransition",e[e.getUserInput=31]="getUserInput",e[e.applyStyle=32]="applyStyle",e[e.wait=33]="wait",e[e.manopedia=34]="manopedia",e[e.addItem=35]="addItem",e[e.Item=36]="Item",e[e.clearItem=37]="clearItem",e[e.showItem=38]="showItem",e[e.pediaUpdate=39]="pediaUpdate",e[e.presentTheEvidence=40]="presentTheEvidence",e[e.thinking=41]="thinking",e[e.refute=42]="refute",e[e.judgment=43]="judgment",e[e.testimony=44]="testimony",e[e.clearTestimony=45]="clearTestimony"})(Oe||(Oe={}));Oe.say,Oe.changeBg,Oe.changeFigure,Oe.bgm,Oe.video,Oe.pixi,Oe.pixiInit,Oe.intro,Oe.miniAvatar,Oe.changeScene,Oe.choose,Oe.end,Oe.setComplexAnimation,Oe.setFilter,Oe.label,Oe.jumpLabel,Oe.chooseLabel,Oe.setVar,Oe.if,Oe.callScene,Oe.showVars,Oe.unlockCg,Oe.unlockBgm,Oe.filmMode,Oe.setTextbox,Oe.setAnimation,Oe.playEffect,Oe.setTempAnimation,Oe.setTransform,Oe.setTransition,Oe.getUserInput,Oe.applyStyle,Oe.wait,Oe.manopedia,Oe.presentTheEvidence,Oe.judgment,Oe.testimony,Oe.clearTestimony,Oe.refute;Oe.bgm,Oe.pixi,Oe.pixiInit,Oe.miniAvatar,Oe.label,Oe.if,Oe.setVar,Oe.unlockCg,Oe.unlockBgm,Oe.filmMode,Oe.playEffect,Oe.setTransition,Oe.applyStyle,Oe.judgment,Oe.testimony,Oe.clearTestimony,Oe.refute;var wn;(function(e){e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video"})(wn||(wn={}));function m3(e,t){const n=[];let i=e.replace(/ /g," ").split(" -");return i=i.filter(o=>o!==""),i.forEach(o=>{const a=o.indexOf("=");let s=o.slice(0,a),u=o.slice(a+1);a<0&&(s=o,u=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?n.push({key:"vocal",value:t(o,wn.vocal)}):u===void 0?n.push({key:s,value:!0}):u==="true"||u==="false"?n.push({key:s,value:u==="true"}):isNaN(Number(u))?n.push({key:s,value:u}):n.push({key:s,value:Number(u)})}),n}function wre(e){const t=[];let n,r=e.split(";")[0];if(r==="")return{command:"",args:[],options:[]};const i=/\s*:\s*/.exec(r);i===null?n="":(n=r.substring(0,i.index),r=r.substring(i.index+1,r.length));const o=/ -/.exec(r);if(o){const a=r.substring(o.index,r.length);r=r.substring(0,o.index);for(const s of m3(a,(u,l)=>u))t.push(s)}return{command:n,args:r.split("|").map(a=>a.trim()).filter(a=>a!==""),options:t}}function Ere(e){return e.replaceAll("\r","").split(`
`).map(n=>wre(n)).filter(n=>n.command!=="")}const gR=(e,t,n)=>{let r={type:Oe.say,additionalArgs:[]};const i=Tre(e,t,n);return r.type=i,i===Oe.say&&e!=="say"&&r.additionalArgs.push({key:"speaker",value:e}),r=Cre(r,i,t),r};function Tre(e,t,n){var r;return((r=n.get(e))==null?void 0:r.scriptType)??Oe.say}function Cre(e,t,n){return n.includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}const Ore=(e,t,n)=>{if(e==="none"||e==="")return"";switch(t){case Oe.playEffect:return n(e,wn.vocal);case Oe.changeBg:return n(e,wn.background);case Oe.changeFigure:return n(e,wn.figure);case Oe.bgm:return n(e,wn.bgm);case Oe.callScene:return n(e,wn.scene);case Oe.changeScene:return n(e,wn.scene);case Oe.miniAvatar:return n(e,wn.figure);case Oe.video:return n(e,wn.video);case Oe.choose:return Pre(e,n);case Oe.unlockBgm:return n(e,wn.bgm);case Oe.unlockCg:return n(e,wn.background);case Oe.presentTheEvidence:return Are(e,n);default:return e}};function Are(e,t){const n=e.split(new RegExp("(?<!\\\\)@")),r=n[0]??"",i=n.length>1?`@${n[1]}`:"";return r.split(new RegExp("(?<!\\\\)\\|")).map(s=>{const u=s.trim();return u.match(/\./)?t(u,wn.scene):u}).join("|")+(i?` ${i}`:"")}function Pre(e,t){const n=e.split(new RegExp("(?<!\\\\)\\|")),r=[],i=[];for(const s of n)r.push(s.split(new RegExp("(?<!\\\\):"))[0]??""),i.push(s.split(new RegExp("(?<!\\\\):"))[1]??"");const o=i.map(s=>s.match(/\./)?t(s,wn.scene):s);let a="";for(let s=0;s<r.length;s++)s!==0&&(a=a+"|"),a=a+`${r[s]}:${o[s]}`;return a}const Ire=(e,t,n)=>{const r=[];return e===Oe.say&&n.forEach(i=>{i.key==="vocal"&&r.push({name:i.value,url:i.value,lineNumber:0,type:wn.vocal})}),t==="none"||t===""||(e===Oe.changeBg&&r.push({name:t,url:t,lineNumber:0,type:wn.background}),e===Oe.changeFigure&&r.push({name:t,url:t,lineNumber:0,type:wn.figure}),e===Oe.miniAvatar&&r.push({name:t,url:t,lineNumber:0,type:wn.figure}),e===Oe.video&&r.push({name:t,url:t,lineNumber:0,type:wn.video}),e===Oe.bgm&&r.push({name:t,url:t,lineNumber:0,type:wn.bgm})),r},Rre=(e,t)=>{const n=[];return(e===Oe.changeScene||e===Oe.callScene)&&n.push(t),e===Oe.choose&&t.split("|").map(o=>o.split(":")[1]??"").forEach(o=>{o.match(/\./)&&n.push(o)}),n},kre=(e,t,n,r)=>{let i,o,a;const s=[];let u,l,f,d=e.split(new RegExp("(?<!\\\\);"))[0];if(d=d.replaceAll("\\;",";"),d==="")return{command:Oe.comment,commandRaw:"comment",content:e.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const p=/:/.exec(d);if(p===null){f=d,l=gR(f,n,r),i=l.type;for(const v of l.additionalArgs)i===Oe.say&&v.key==="speaker"||s.push(v)}else{f=d.substring(0,p.index),d=d.substring(p.index+1,d.length),l=gR(f,n,r),i=l.type;for(const v of l.additionalArgs)s.push(v)}const m=/ -/.exec(d);if(m){const v=d.substring(m.index,e.length);d=d.substring(0,m.index);for(const _ of m3(v,t))s.push(_)}return o=Ore(d.trim(),i,t),u=Ire(i,o,s),a=Rre(i,o),{command:i,commandRaw:f.trim(),content:o,args:s,sentenceAssets:u,subScene:a}};var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nre=typeof Kp=="object"&&Kp&&Kp.Object===Object&&Kp,Lre=Nre,Mre=Lre,Fre=typeof self=="object"&&self&&self.Object===Object&&self,Dre=Mre||Fre||Function("return this")(),xy=Dre,Bre=xy,jre=Bre.Symbol,v3=jre,yR=v3,g3=Object.prototype,$re=g3.hasOwnProperty,Ure=g3.toString,Pf=yR?yR.toStringTag:void 0;function Gre(e){var t=$re.call(e,Pf),n=e[Pf];try{e[Pf]=void 0;var r=!0}catch{}var i=Ure.call(e);return r&&(t?e[Pf]=n:delete e[Pf]),i}var zre=Gre,Hre=Object.prototype,Vre=Hre.toString;function Wre(e){return Vre.call(e)}var Xre=Wre,_R=v3,qre=zre,Kre=Xre,Yre="[object Null]",Jre="[object Undefined]",xR=_R?_R.toStringTag:void 0;function Zre(e){return e==null?e===void 0?Jre:Yre:xR&&xR in Object(e)?qre(e):Kre(e)}var Qre=Zre;function eie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var y3=eie,tie=Qre,nie=y3,rie="[object AsyncFunction]",iie="[object Function]",oie="[object GeneratorFunction]",aie="[object Proxy]";function sie(e){if(!nie(e))return!1;var t=tie(e);return t==iie||t==oie||t==rie||t==aie}var uie=sie,lie=xy,cie=lie["__core-js_shared__"],fie=cie,$x=fie,bR=function(){var e=/[^.]+$/.exec($x&&$x.keys&&$x.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hie(e){return!!bR&&bR in e}var die=hie,pie=Function.prototype,mie=pie.toString;function vie(e){if(e!=null){try{return mie.call(e)}catch{}try{return e+""}catch{}}return""}var gie=vie,yie=uie,_ie=die,xie=y3,bie=gie,Sie=/[\\^$.*+?()[\]{}|]/g,wie=/^\[object .+?Constructor\]$/,Eie=Function.prototype,Tie=Object.prototype,Cie=Eie.toString,Oie=Tie.hasOwnProperty,Aie=RegExp("^"+Cie.call(Oie).replace(Sie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pie(e){if(!xie(e)||_ie(e))return!1;var t=yie(e)?Aie:wie;return t.test(bie(e))}var Iie=Pie;function Rie(e,t){return e==null?void 0:e[t]}var kie=Rie,Nie=Iie,Lie=kie;function Mie(e,t){var n=Lie(e,t);return Nie(n)?n:void 0}var VT=Mie,Fie=VT,Die=Fie(Object,"create"),by=Die,SR=by;function Bie(){this.__data__=SR?SR(null):{},this.size=0}var jie=Bie;function $ie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Uie=$ie,Gie=by,zie="__lodash_hash_undefined__",Hie=Object.prototype,Vie=Hie.hasOwnProperty;function Wie(e){var t=this.__data__;if(Gie){var n=t[e];return n===zie?void 0:n}return Vie.call(t,e)?t[e]:void 0}var Xie=Wie,qie=by,Kie=Object.prototype,Yie=Kie.hasOwnProperty;function Jie(e){var t=this.__data__;return qie?t[e]!==void 0:Yie.call(t,e)}var Zie=Jie,Qie=by,eoe="__lodash_hash_undefined__";function toe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qie&&t===void 0?eoe:t,this}var noe=toe,roe=jie,ioe=Uie,ooe=Xie,aoe=Zie,soe=noe;function Nc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nc.prototype.clear=roe;Nc.prototype.delete=ioe;Nc.prototype.get=ooe;Nc.prototype.has=aoe;Nc.prototype.set=soe;var uoe=Nc;function loe(){this.__data__=[],this.size=0}var coe=loe;function foe(e,t){return e===t||e!==e&&t!==t}var hoe=foe,doe=hoe;function poe(e,t){for(var n=e.length;n--;)if(doe(e[n][0],t))return n;return-1}var Sy=poe,moe=Sy,voe=Array.prototype,goe=voe.splice;function yoe(e){var t=this.__data__,n=moe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():goe.call(t,n,1),--this.size,!0}var _oe=yoe,xoe=Sy;function boe(e){var t=this.__data__,n=xoe(t,e);return n<0?void 0:t[n][1]}var Soe=boe,woe=Sy;function Eoe(e){return woe(this.__data__,e)>-1}var Toe=Eoe,Coe=Sy;function Ooe(e,t){var n=this.__data__,r=Coe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Aoe=Ooe,Poe=coe,Ioe=_oe,Roe=Soe,koe=Toe,Noe=Aoe;function Lc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lc.prototype.clear=Poe;Lc.prototype.delete=Ioe;Lc.prototype.get=Roe;Lc.prototype.has=koe;Lc.prototype.set=Noe;var Loe=Lc,Moe=VT,Foe=xy,Doe=Moe(Foe,"Map"),Boe=Doe,wR=uoe,joe=Loe,$oe=Boe;function Uoe(){this.size=0,this.__data__={hash:new wR,map:new($oe||joe),string:new wR}}var Goe=Uoe;function zoe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Hoe=zoe,Voe=Hoe;function Woe(e,t){var n=e.__data__;return Voe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var wy=Woe,Xoe=wy;function qoe(e){var t=Xoe(this,e).delete(e);return this.size-=t?1:0,t}var Koe=qoe,Yoe=wy;function Joe(e){return Yoe(this,e).get(e)}var Zoe=Joe,Qoe=wy;function eae(e){return Qoe(this,e).has(e)}var tae=eae,nae=wy;function rae(e,t){var n=nae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var iae=rae,oae=Goe,aae=Koe,sae=Zoe,uae=tae,lae=iae;function Mc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mc.prototype.clear=oae;Mc.prototype.delete=aae;Mc.prototype.get=sae;Mc.prototype.has=uae;Mc.prototype.set=lae;var cae=Mc,fae="__lodash_hash_undefined__";function hae(e){return this.__data__.set(e,fae),this}var dae=hae;function pae(e){return this.__data__.has(e)}var mae=pae,vae=cae,gae=dae,yae=mae;function Hv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new vae;++t<n;)this.add(e[t])}Hv.prototype.add=Hv.prototype.push=gae;Hv.prototype.has=yae;var _ae=Hv;function xae(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var bae=xae;function Sae(e){return e!==e}var wae=Sae;function Eae(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Tae=Eae,Cae=bae,Oae=wae,Aae=Tae;function Pae(e,t,n){return t===t?Aae(e,t,n):Cae(e,Oae,n)}var Iae=Pae,Rae=Iae;function kae(e,t){var n=e==null?0:e.length;return!!n&&Rae(e,t,0)>-1}var Nae=kae;function Lae(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Mae=Lae;function Fae(e,t){return e.has(t)}var Dae=Fae,Bae=VT,jae=xy,$ae=Bae(jae,"Set"),Uae=$ae;function Gae(){}var zae=Gae;function Hae(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _3=Hae,Ux=Uae,Vae=zae,Wae=_3,Xae=1/0,qae=Ux&&1/Wae(new Ux([,-0]))[1]==Xae?function(e){return new Ux(e)}:Vae,Kae=qae,Yae=_ae,Jae=Nae,Zae=Mae,Qae=Dae,ese=Kae,tse=_3,nse=200;function rse(e,t,n){var r=-1,i=Jae,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Zae;else if(o>=nse){var l=t?null:ese(e);if(l)return tse(l);a=!1,i=Qae,u=new Yae}else u=t?[]:s;e:for(;++r<o;){var f=e[r],d=t?t(f):f;if(f=n||f!==0?f:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),s.push(f)}else i(u,d,n)||(u!==s&&u.push(d),s.push(f))}return s}var ise=rse,ose=ise;function ase(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?ose(e,void 0,t):[]}var sse=ase;const use=(e,t,n,r,i,o,a)=>{const u=e.split(`
`);let l=[],f=[];const d=u.map(p=>{const m=kre(p,i,o,a);return l=[...l,...m.sentenceAssets],f=[...f,...m.subScene],m});return l=sse(l),r(l),{sceneName:t,sceneUrl:n,sentenceList:d,assetsList:l,subSceneList:f}};function lse(e){const[t,n]=cse(e);return{classNameStyles:t,others:n}}function cse(e){const t={};let n="",r;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,o=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(r=i.exec(e))!==null;){const a=r[1],s=r[2].trim().replace(/\s*;\s*/g,`;
`);t[a]=s}for(;(r=o.exec(e))!==null;)n+=r[1].trim()+`
`;return[t,n.trim()]}class fse{constructor(t,n,r,i){ye(this,"assetsPrefetcher");ye(this,"assetSetter");ye(this,"ADD_NEXT_ARG_LIST");ye(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=t,this.assetSetter=n,this.ADD_NEXT_ARG_LIST=r,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(o=>{this.SCRIPT_CONFIG_MAP.set(o.scriptString,o)})):this.SCRIPT_CONFIG_MAP=i}parse(t,n,r){return use(t,n,r,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(t){return Ere(t)}stringifyConfig(t){return t.reduce((n,r)=>n+`${r.command}:${r.args.join("|")}${r.options.length<=0?"":r.options.reduce((i,o)=>i+" -"+o.key+"="+o.value,"")};
`,"")}parseScssToWebgalStyleObj(t){return lse(t)}}let ER;function WT(e,t=0,n=100){if(he.debug("playing bgm"+e),e===""){ER=setTimeout(()=>{W.dispatch(we({key:"bgm",value:{src:"",enter:0,volume:100}}))},t);const r=W.getState().stage.bgm.src;W.dispatch(we({key:"bgm",value:{src:r,enter:-t,volume:n}}))}else clearTimeout(ER),W.dispatch(we({key:"bgm",value:{src:e,enter:t,volume:n}}));setTimeout(()=>{const r=document.getElementById("currentBgm");r.src&&(r==null||r.play())},0)}function hse(e){if(typeof e=="boolean")return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(t==="true")return!0;if(t==="false")return!1}return typeof e=="number"?e!==0:null}function dse(e){if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(typeof e=="string"){const t=Number(e.trim());return isNaN(t)?null:t}return null}function pse(e){return typeof e=="string"?e:typeof e=="boolean"||typeof e=="number"?String(e):null}function Ey(e,t){const r=e.args.find(i=>i.key===t);return r?r.value:null}function At(e,t){const n=Ey(e,t);return hse(n)}function Yr(e,t){const n=Ey(e,t);return dse(n)}function Ne(e,t){const n=Ey(e,t);return pse(n)}function TR(e,t){const n=Ey(e,t);if(typeof n=="string")try{return JSON.parse(n)}catch{return null}return typeof n=="object"?n:null}const mse=e=>{let t=e.content;const n=Ne(e,"unlockname")??"",r=Ne(e,"series")??"default";let i=Yr(e,"enter")??0;i=Math.max(0,i);let o=Yr(e,"volume")??100;return o=Math.max(0,Math.min(o,100)),n!==""&&W.dispatch(l3({name:n,url:t,series:r})),WT(t,i,o),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var XT={exports:{}},x3=function(t,n){return function(){return t.apply(n,arguments)}},vse=x3,qT=Object.prototype.toString,KT=function(e){return function(t){var n=qT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Os(e){return e=e.toLowerCase(),function(n){return KT(n)===e}}function Ty(e){return Array.isArray(e)}function lS(e){return typeof e>"u"}function gse(e){return e!==null&&!lS(e)&&e.constructor!==null&&!lS(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var b3=Os("ArrayBuffer");function yse(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&b3(e.buffer),t}function _se(e){return typeof e=="string"}function S3(e){return typeof e=="number"}function w3(e){return e!==null&&typeof e=="object"}function Vm(e){if(KT(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function xse(e){return e&&Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}var bse=Os("Date"),Sse=Os("File"),wse=Os("Blob"),Ese=Os("FileList");function YT(e){return qT.call(e)==="[object Function]"}function Tse(e){return w3(e)&&YT(e.pipe)}function Cse(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||qT.call(e)===t||YT(e.toString)&&e.toString()===t)}var Ose=Os("URLSearchParams");function Ase(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Pse(){var e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"}function JT(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Ty(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function cS(){var e={};function t(i,o){Vm(e[o])&&Vm(i)?e[o]=cS(e[o],i):Vm(i)?e[o]=cS({},i):Ty(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)JT(arguments[n],t);return e}function Ise(e,t,n){return JT(t,function(i,o){n&&typeof i=="function"?e[o]=vse(i,n):e[o]=i}),e}function Rse(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function kse(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function Nse(e,t,n,r){var i,o,a,s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function Lse(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return r!==-1&&r===n}function Mse(e){if(!e)return null;if(Ty(e))return e;var t=e.length;if(!S3(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var Fse=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function Dse(e,t){for(var n=e&&e[Symbol.iterator],r=n.call(e),i;(i=r.next())&&!i.done;){var o=i.value;t.call(e,o[0],o[1])}}function Bse(e,t){for(var n,r=[];(n=e.exec(t))!==null;)r.push(n);return r}var jse=Os("HTMLFormElement"),$se=function(t){return function(n,r){return t.call(n,r)}}(Object.prototype.hasOwnProperty),$n={isArray:Ty,isArrayBuffer:b3,isBuffer:gse,isFormData:Cse,isArrayBufferView:yse,isString:_se,isNumber:S3,isObject:w3,isPlainObject:Vm,isEmptyObject:xse,isUndefined:lS,isDate:bse,isFile:Sse,isBlob:wse,isFunction:YT,isStream:Tse,isURLSearchParams:Ose,isStandardBrowserEnv:Pse,forEach:JT,merge:cS,extend:Ise,trim:Ase,stripBOM:Rse,inherits:kse,toFlatObject:Nse,kindOf:KT,kindOfTest:Os,endsWith:Lse,toArray:Mse,isTypedArray:Fse,isFileList:Ese,forEachEntry:Dse,matchAll:Bse,isHTMLForm:jse,hasOwnProperty:$se},E3=$n;function sc(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}E3.inherits(sc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var T3=sc.prototype,C3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){C3[e]={value:e}});Object.defineProperties(sc,C3);Object.defineProperty(T3,"isAxiosError",{value:!0});sc.from=function(e,t,n,r,i,o){var a=Object.create(T3);return E3.toFlatObject(e,a,function(u){return u!==Error.prototype}),sc.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var Fu=sc,Use=typeof self=="object"?self.FormData:window.FormData,Gse=Use,zt=$n,zse=Fu,Hse=Gse;function fS(e){return zt.isPlainObject(e)||zt.isArray(e)}function O3(e){return zt.endsWith(e,"[]")?e.slice(0,-2):e}function CR(e,t,n){return e?e.concat(t).map(function(i,o){return i=O3(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function Vse(e){return zt.isArray(e)&&!e.some(fS)}var Wse=zt.toFlatObject(zt,{},null,function(t){return/^is[A-Z]/.test(t)});function Xse(e){return e&&zt.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function qse(e,t,n){if(!zt.isObject(e))throw new TypeError("target must be an object");t=t||new(Hse||FormData),n=zt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,y){return!zt.isUndefined(y[_])});var r=n.metaTokens,i=n.visitor||f,o=n.dots,a=n.indexes,s=n.Blob||typeof Blob<"u"&&Blob,u=s&&Xse(t);if(!zt.isFunction(i))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(zt.isDate(v))return v.toISOString();if(!u&&zt.isBlob(v))throw new zse("Blob is not supported. Use a Buffer instead.");return zt.isArrayBuffer(v)||zt.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,_,y){var x=v;if(v&&!y&&typeof v=="object"){if(zt.endsWith(_,"{}"))_=r?_:_.slice(0,-2),v=JSON.stringify(v);else if(zt.isArray(v)&&Vse(v)||zt.isFileList(v)||zt.endsWith(_,"[]")&&(x=zt.toArray(v)))return _=O3(_),x.forEach(function(w,T){!zt.isUndefined(w)&&t.append(a===!0?CR([_],T,o):a===null?_:_+"[]",l(w))}),!1}return fS(v)?!0:(t.append(CR(y,_,o),l(v)),!1)}var d=[],p=Object.assign(Wse,{defaultVisitor:f,convertValue:l,isVisitable:fS});function m(v,_){if(!zt.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(v),zt.forEach(v,function(x,b){var w=!zt.isUndefined(x)&&i.call(t,x,zt.isString(b)?b.trim():b,_,p);w===!0&&m(x,_?_.concat(b):[b])}),d.pop()}}if(!zt.isObject(e))throw new TypeError("data must be an object");return m(e),t}var Cy=qse,Kse=Cy;function OR(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(r){return t[r]})}function A3(e,t){this._pairs=[],e&&Kse(e,this,t)}var P3=A3.prototype;P3.append=function(t,n){this._pairs.push([t,n])};P3.toString=function(t){var n=t?function(r){return t.call(this,r,OR)}:OR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};var I3=A3,Yse=$n,Jse=I3;function Zse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var R3=function(t,n,r){if(!n)return t;var i=t.indexOf("#");i!==-1&&(t=t.slice(0,i));var o=r&&r.encode||Zse,a=Yse.isURLSearchParams(n)?n.toString():new Jse(n,r).toString(o);return a&&(t+=(t.indexOf("?")===-1?"?":"&")+a),t},Qse=$n;function Sd(){this.handlers=[]}Sd.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Sd.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Sd.prototype.clear=function(){this.handlers&&(this.handlers=[])};Sd.prototype.forEach=function(t){Qse.forEach(this.handlers,function(r){r!==null&&t(r)})};var eue=Sd,tue=$n,k3=function(t,n){tue.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})},N3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nue=I3,rue=typeof URLSearchParams<"u"?URLSearchParams:nue,iue=FormData,oue={isBrowser:!0,classes:{URLSearchParams:rue,FormData:iue,Blob},protocols:["http","https","file","blob","url","data"]},ZT=oue,aue=$n,sue=Cy,AR=ZT,uue=function(t,n){return sue(t,new AR.classes.URLSearchParams,Object.assign({visitor:function(r,i,o,a){return AR.isNode&&aue.isBuffer(r)?(this.append(i,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))},Ba=$n;function lue(e){return Ba.matchAll(/\w+|\[(\w*)]/g,e).map(function(t){return t[0]==="[]"?"":t[1]||t[0]})}function cue(e){var t={},n=Object.keys(e),r,i=n.length,o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function fue(e){function t(r,i,o,a){var s=r[a++],u=Number.isFinite(+s),l=a>=r.length;if(s=!s&&Ba.isArray(o)?o.length:s,l)return Ba.hasOwnProperty(o,s)?o[s]=[o[s],i]:o[s]=i,!u;(!o[s]||!Ba.isObject(o[s]))&&(o[s]=[]);var f=t(r,i,o[s],a);return f&&Ba.isArray(o[s])&&(o[s]=cue(o[s])),!u}if(Ba.isFormData(e)&&Ba.isFunction(e.entries)){var n={};return Ba.forEachEntry(e,function(r,i){t(lue(r),i,n,0)}),n}return null}var L3=fue,Gx,PR;function hue(){if(PR)return Gx;PR=1;var e=Fu;return Gx=function(n,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Gx}var zx,IR;function due(){if(IR)return zx;IR=1;var e=$n;return zx=e.isStandardBrowserEnv()?function(){return{write:function(r,i,o,a,s,u){var l=[];l.push(r+"="+encodeURIComponent(i)),e.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),e.isString(a)&&l.push("path="+a),e.isString(s)&&l.push("domain="+s),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),zx}var pue=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},mue=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},vue=pue,gue=mue,M3=function(t,n){return t&&!vue(n)?gue(t,n):n},Hx,RR;function yue(){if(RR)return Hx;RR=1;var e=$n,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Hx=function(r){var i={},o,a,s;return r&&e.forEach(r.split(`
`),function(l){if(s=l.indexOf(":"),o=e.trim(l.slice(0,s)).toLowerCase(),a=e.trim(l.slice(s+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([a]):i[o]=i[o]?i[o]+", "+a:a}}),i},Hx}var Vx,kR;function _ue(){if(kR)return Vx;kR=1;var e=$n;return Vx=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(a){var s=a;return n&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(s){var u=e.isString(s)?o(s):s;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),Vx}var Wx,NR;function Oy(){if(NR)return Wx;NR=1;var e=Fu,t=$n;function n(r,i,o){e.call(this,r??"canceled",e.ERR_CANCELED,i,o),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),Wx=n,Wx}var Xx,LR;function xue(){return LR||(LR=1,Xx=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),Xx}var qx,MR;function FR(){if(MR)return qx;MR=1;var e=$n,t=hue(),n=due(),r=R3,i=M3,o=yue(),a=_ue(),s=N3,u=Fu,l=Oy(),f=xue(),d=ZT;return qx=function(m){return new Promise(function(_,y){var x=m.data,b=m.headers,w=m.responseType,T=m.withXSRFToken,C;function O(){m.cancelToken&&m.cancelToken.unsubscribe(C),m.signal&&m.signal.removeEventListener("abort",C)}e.isFormData(x)&&e.isStandardBrowserEnv()&&delete b["Content-Type"];var A=new XMLHttpRequest;if(m.auth){var M=m.auth.username||"",D=m.auth.password?unescape(encodeURIComponent(m.auth.password)):"";b.Authorization="Basic "+btoa(M+":"+D)}var B=i(m.baseURL,m.url);A.open(m.method.toUpperCase(),r(B,m.params,m.paramsSerializer),!0),A.timeout=m.timeout;function G(){if(A){var Q="getAllResponseHeaders"in A?o(A.getAllResponseHeaders()):null,ee=!w||w==="text"||w==="json"?A.responseText:A.response,ne={data:ee,status:A.status,statusText:A.statusText,headers:Q,config:m,request:A};t(function(Ae){_(Ae),O()},function(Ae){y(Ae),O()},ne),A=null}}if("onloadend"in A?A.onloadend=G:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(G)},A.onabort=function(){A&&(y(new u("Request aborted",u.ECONNABORTED,m,A)),A=null)},A.onerror=function(){y(new u("Network Error",u.ERR_NETWORK,m,A)),A=null},A.ontimeout=function(){var ee=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded",ne=m.transitional||s;m.timeoutErrorMessage&&(ee=m.timeoutErrorMessage),y(new u(ee,ne.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,m,A)),A=null},e.isStandardBrowserEnv()&&(T&&e.isFunction(T)&&(T=T(m)),T||T!==!1&&a(B))){var U=m.xsrfHeaderName&&m.xsrfCookieName&&n.read(m.xsrfCookieName);U&&(b[m.xsrfHeaderName]=U)}"setRequestHeader"in A&&e.forEach(b,function(ee,ne){typeof x>"u"&&ne.toLowerCase()==="content-type"?delete b[ne]:A.setRequestHeader(ne,ee)}),e.isUndefined(m.withCredentials)||(A.withCredentials=!!m.withCredentials),w&&w!=="json"&&(A.responseType=m.responseType),typeof m.onDownloadProgress=="function"&&A.addEventListener("progress",m.onDownloadProgress),typeof m.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",m.onUploadProgress),(m.cancelToken||m.signal)&&(C=function(Q){A&&(y(!Q||Q.type?new l(null,m,req):Q),A.abort(),A=null)},m.cancelToken&&m.cancelToken.subscribe(C),m.signal&&(m.signal.aborted?C():m.signal.addEventListener("abort",C))),!x&&x!==!1&&x!==0&&x!==""&&(x=null);var H=f(B);if(H&&d.protocols.indexOf(H)===-1){y(new u("Unsupported protocol "+H+":",u.ERR_BAD_REQUEST,m));return}A.send(x)})},qx}var Fn=$n,DR=k3,BR=Fu,bue=N3,Sue=Cy,wue=uue,jR=ZT,Eue=L3,Tue={"Content-Type":"application/x-www-form-urlencoded"};function $R(e,t){!Fn.isUndefined(e)&&Fn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Cue(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=FR()),e}function Oue(e,t,n){if(Fn.isString(e))try{return(t||JSON.parse)(e),Fn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var Ay={transitional:bue,adapter:Cue(),transformRequest:[function(t,n){DR(n,"Accept"),DR(n,"Content-Type");var r=n&&n["Content-Type"]||"",i=r.indexOf("application/json")>-1,o=Fn.isObject(t);o&&Fn.isHTMLForm(t)&&(t=new FormData(t));var a=Fn.isFormData(t);if(a)return i?JSON.stringify(Eue(t)):t;if(Fn.isArrayBuffer(t)||Fn.isBuffer(t)||Fn.isStream(t)||Fn.isFile(t)||Fn.isBlob(t))return t;if(Fn.isArrayBufferView(t))return t.buffer;if(Fn.isURLSearchParams(t))return $R(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var s;if(o){if(r.indexOf("application/x-www-form-urlencoded")!==-1)return wue(t,this.formSerializer).toString();if((s=Fn.isFileList(t))||r.indexOf("multipart/form-data")>-1){var u=this.env&&this.env.FormData;return Sue(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||i?($R(n,"application/json"),Oue(t)):t}],transformResponse:[function(t){var n=this.transitional||Ay.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&Fn.isString(t)&&(r&&!this.responseType||i)){var o=n&&n.silentJSONParsing,a=!o&&i;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?BR.from(s,BR.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jR.classes.FormData,Blob:jR.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fn.forEach(["delete","get","head"],function(t){Ay.headers[t]={}});Fn.forEach(["post","put","patch"],function(t){Ay.headers[t]=Fn.merge(Tue)});var QT=Ay,Aue=$n,Pue=QT,Iue=function(t,n,r,i){var o=this||Pue;return Aue.forEach(i,function(s){t=s.call(o,t,n,r)}),t},Kx,UR;function F3(){return UR||(UR=1,Kx=function(t){return!!(t&&t.__CANCEL__)}),Kx}var GR=$n,Yx=Iue,Rue=F3(),kue=QT,Nue=Oy(),zR=k3;function Jx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nue}var Lue=function(t){Jx(t),t.headers=t.headers||{},t.data=Yx.call(t,t.data,t.headers,null,t.transformRequest),zR(t.headers,"Accept"),zR(t.headers,"Content-Type"),t.headers=GR.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),GR.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||kue.adapter;return n(t).then(function(i){return Jx(t),i.data=Yx.call(t,i.data,i.headers,i.status,t.transformResponse),i},function(i){return Rue(i)||(Jx(t),i&&i.response&&(i.response.data=Yx.call(t,i.response.data,i.response.headers,i.response.status,t.transformResponse))),Promise.reject(i)})},Pr=$n,D3=function(t,n){n=n||{};var r={};function i(f,d){return Pr.isPlainObject(f)&&Pr.isPlainObject(d)?Pr.merge(f,d):Pr.isEmptyObject(d)?Pr.merge({},f):Pr.isPlainObject(d)?Pr.merge({},d):Pr.isArray(d)?d.slice():d}function o(f){if(Pr.isUndefined(n[f])){if(!Pr.isUndefined(t[f]))return i(void 0,t[f])}else return i(t[f],n[f])}function a(f){if(!Pr.isUndefined(n[f]))return i(void 0,n[f])}function s(f){if(Pr.isUndefined(n[f])){if(!Pr.isUndefined(t[f]))return i(void 0,t[f])}else return i(void 0,n[f])}function u(f){if(f in n)return i(t[f],n[f]);if(f in t)return i(void 0,t[f])}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return Pr.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var p=l[d]||o,m=p(d);Pr.isUndefined(m)&&p!==u||(r[d]=m)}),r},Zx,HR;function B3(){return HR||(HR=1,Zx={version:"0.28.0"}),Zx}var Mue=B3().version,Ua=Fu,eC={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){eC[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var VR={};eC.transitional=function(t,n,r){function i(o,a){return"[Axios v"+Mue+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,s){if(t===!1)throw new Ua(i(a," has been removed"+(n?" in "+n:"")),Ua.ERR_DEPRECATED);return n&&!VR[a]&&(VR[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,s):!0}};function Fue(e,t,n){if(typeof e!="object")throw new Ua("options must be an object",Ua.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=s===void 0||a(s,o,e);if(u!==!0)throw new Ua("option "+o+" must be "+u,Ua.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ua("Unknown option "+o,Ua.ERR_BAD_OPTION)}}var Due={assertOptions:Fue,validators:eC},tC=$n,Bue=R3,WR=eue,XR=Lue,Py=D3,jue=M3,j3=Due,fl=j3.validators;function uc(e){this.defaults=e,this.interceptors={request:new WR,response:new WR}}uc.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Py(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&j3.assertOptions(r,{silentJSONParsing:fl.transitional(fl.boolean),forcedJSONParsing:fl.transitional(fl.boolean),clarifyTimeoutError:fl.transitional(fl.boolean)},!1);var i=n.paramsSerializer;tC.isFunction(i)&&(n.paramsSerializer={serialize:i});var o=[],a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(a=a&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});var s=[];this.interceptors.response.forEach(function(v){s.push(v.fulfilled,v.rejected)});var u;if(!a){var l=[XR,void 0];for(Array.prototype.unshift.apply(l,o),l=l.concat(s),u=Promise.resolve(n);l.length;)u=u.then(l.shift(),l.shift());return u}for(var f=n;o.length;){var d=o.shift(),p=o.shift();try{f=d(f)}catch(m){p(m);break}}try{u=XR(f)}catch(m){return Promise.reject(m)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};uc.prototype.getUri=function(t){t=Py(this.defaults,t);var n=jue(t.baseURL,t.url);return Bue(n,t.params,t.paramsSerializer)};tC.forEach(["delete","get","head","options"],function(t){uc.prototype[t]=function(n,r){return this.request(Py(r||{},{method:t,url:n,data:(r||{}).data}))}});tC.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,s){return this.request(Py(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}uc.prototype[t]=n(),uc.prototype[t+"Form"]=n(!0)});var $ue=uc,Qx,qR;function Uue(){if(qR)return Qx;qR=1;var e=Oy();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(a){r=a});var i=this;this.promise.then(function(o){if(i._listeners){for(var a=i._listeners.length;a-- >0;)i._listeners[a](o);i._listeners=null}}),this.promise.then=function(o){var a,s=new Promise(function(u){i.subscribe(u),a=u}).then(o);return s.cancel=function(){i.unsubscribe(a)},s},n(function(a,s,u){i.reason||(i.reason=new e(a,s,u),r(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},t.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var r,i=new t(function(a){r=a});return{token:i,cancel:r}},Qx=t,Qx}var eb,KR;function Gue(){return KR||(KR=1,eb=function(t){return function(r){return t.apply(null,r)}}),eb}var tb,YR;function zue(){if(YR)return tb;YR=1;var e=$n;return tb=function(n){return e.isObject(n)&&n.isAxiosError===!0},tb}var hS=$n,Hue=x3,Wm=$ue,Vue=D3,Wue=QT,Xue=L3;function $3(e){var t=new Wm(e),n=Hue(Wm.prototype.request,t);return hS.extend(n,Wm.prototype,t),hS.extend(n,t),n.create=function(i){return $3(Vue(e,i))},n}var Nr=$3(Wue);Nr.Axios=Wm;Nr.CanceledError=Oy();Nr.CancelToken=Uue();Nr.isCancel=F3();Nr.VERSION=B3().version;Nr.toFormData=Cy;Nr.AxiosError=Fu;Nr.Cancel=Nr.CanceledError;Nr.all=function(t){return Promise.all(t)};Nr.spread=Gue();Nr.isAxiosError=zue();Nr.formToJSON=function(e){return Xue(hS.isHTMLForm(e)?new FormData(e):e)};XT.exports=Nr;XT.exports.default=Nr;var que=XT.exports,Kue=que;const lc=Qn(Kue),Ho=e=>new Promise((t,n)=>{lc.get(e).then(r=>{const i=r.data.toString();t(i)}).catch(r=>{n(r)})});var Yue="__lodash_hash_undefined__";function Jue(e){return this.__data__.set(e,Yue),this}var Zue=Jue;function Que(e){return this.__data__.has(e)}var ele=Que,tle=OT,nle=Zue,rle=ele;function Vv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new tle;++t<n;)this.add(e[t])}Vv.prototype.add=Vv.prototype.push=nle;Vv.prototype.has=rle;var U3=Vv;function ile(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var ole=ile;function ale(e){return e!==e}var sle=ale;function ule(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var lle=ule,cle=ole,fle=sle,hle=lle;function dle(e,t,n){return t===t?hle(e,t,n):cle(e,fle,n)}var ple=dle,mle=ple;function vle(e,t){var n=e==null?0:e.length;return!!n&&mle(e,t,0)>-1}var gle=vle;function yle(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var _le=yle;function xle(e,t){return e.has(t)}var G3=xle;function ble(){}var Sle=ble;function wle(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var nC=wle,nb=BD,Ele=Sle,Tle=nC,Cle=1/0,Ole=nb&&1/Tle(new nb([,-0]))[1]==Cle?function(e){return new nb(e)}:Ele,Ale=Ole,Ple=U3,Ile=gle,Rle=_le,kle=G3,Nle=Ale,Lle=nC,Mle=200;function Fle(e,t,n){var r=-1,i=Ile,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Rle;else if(o>=Mle){var l=t?null:Nle(e);if(l)return Lle(l);a=!1,i=kle,u=new Ple}else u=t?[]:s;e:for(;++r<o;){var f=e[r],d=t?t(f):f;if(f=n||f!==0?f:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),s.push(f)}else i(u,d,n)||(u!==s&&u.push(d),s.push(f))}return s}var Dle=Fle,Ble=Dle;function jle(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?Ble(e,void 0,t):[]}var $le=jle;const wd=Qn($le),Ed=e=>{for(const t of e)I.sceneManager.settledScenes.includes(t)?he.warn(`${t}`):(he.info(`${t}`),Ho(t).then(n=>{fo(n,t,t)}))},Ule=(e,t)=>{I.sceneManager.lockSceneWrite||(I.sceneManager.lockSceneWrite=!0,I.sceneManager.sceneData.sceneStack.push({sceneName:I.sceneManager.sceneData.currentScene.sceneName,sceneUrl:I.sceneManager.sceneData.currentScene.sceneUrl,continueLine:I.sceneManager.sceneData.currentSentenceId}),Ho(e).then(n=>{I.sceneManager.sceneData.currentScene=fo(n,t,e),I.sceneManager.sceneData.currentSentenceId=0;const r=I.sceneManager.sceneData.currentScene.subSceneList;I.sceneManager.settledScenes.push(e);const i=wd(r);Ed(i),he.debug("",I.sceneManager.sceneData),I.sceneManager.lockSceneWrite=!1,wr()}).catch(n=>{he.error("",n),I.sceneManager.lockSceneWrite=!1}))},Gle=e=>{const t=e.content.split("/"),n=t[t.length-1];return Ule(e.content,n),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function zle(e){return e===null}var Hle=zle;const Vle=Qn(Hle);function Uh(e,t,n,r){let i;const a=W.getState().stage.effects.find(s=>s.target===e);if(t.duration=500,!Vle(n)&&typeof n=="number"&&(t.duration=n),t.ease=r,i=[t],a){const s={...a.transform,duration:0,ease:r};i.unshift(s)}else{const s={...t,alpha:0,duration:0,ease:r};i.unshift(s)}return i}function z3(e,t){const n=I.gameplay.pixiStage.getStageObjByKey(e);function r(){n&&(n.pixiContainer.alpha=0)}function i(){n&&(n.pixiContainer.alpha=1)}function o(a){if(n){const s=n.pixiContainer,u=I.gameplay.pixiStage.frameDuration,f=1/(t/u*a);s.alpha<1&&(s.alpha+=f)}}return{setStartState:r,setEndState:i,tickerFunc:o}}function H3(e,t){const n=I.gameplay.pixiStage.getStageObjByKey(e);function r(){}function i(){n&&(n.pixiContainer.alpha=0)}function o(a){if(n){const s=n.pixiContainer,u=I.gameplay.pixiStage.frameDuration,f=1/(t/u*a);s.alpha>0&&(s.alpha-=f)}}return{setStartState:r,setEndState:i,tickerFunc:o}}function V3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Wle=function(){},JR=function(){};const dS=(e,t,n)=>Math.min(Math.max(n,e),t),rb=.001,Xle=.01,ZR=10,qle=.05,Kle=1;function Yle({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;Wle(e<=ZR*1e3);let a=1-t;a=dS(qle,Kle,a),e=dS(Xle,ZR,e/1e3),a<1?(i=l=>{const f=l*a,d=f*e,p=f-n,m=pS(l,a),v=Math.exp(-d);return rb-p/m*v},o=l=>{const d=l*a*e,p=d*n+n,m=Math.pow(a,2)*Math.pow(l,2)*e,v=Math.exp(-d),_=pS(Math.pow(l,2),a);return(-i(l)+rb>0?-1:1)*((p-m)*v)/_}):(i=l=>{const f=Math.exp(-l*e),d=(l-n)*e+1;return-rb+f*d},o=l=>{const f=Math.exp(-l*e),d=(n-l)*(e*e);return f*d});const s=5/e,u=Zle(i,o,s);if(e=e*1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(u,2)*r;return{stiffness:l,damping:a*2*Math.sqrt(r*l),duration:e}}}const Jle=12;function Zle(e,t,n){let r=n;for(let i=1;i<Jle;i++)r=r-e(r)/t(r);return r}function pS(e,t){return e*Math.sqrt(1-t*t)}const Qle=["duration","bounce"],ece=["stiffness","damping","mass"];function QR(e,t){return t.some(n=>e[n]!==void 0)}function tce(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!QR(e,ece)&&QR(e,Qle)){const n=Yle(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function rC(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=V3(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:s,damping:u,mass:l,velocity:f,duration:d,isResolvedFromDuration:p}=tce(o),m=ek,v=ek;function _(){const y=f?-(f/1e3):0,x=n-t,b=u/(2*Math.sqrt(s*l)),w=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(n-t)/100,.4)),b<1){const T=pS(w,b);m=C=>{const O=Math.exp(-b*w*C);return n-O*((y+b*w*x)/T*Math.sin(T*C)+x*Math.cos(T*C))},v=C=>{const O=Math.exp(-b*w*C);return b*w*O*(Math.sin(T*C)*(y+b*w*x)/T+x*Math.cos(T*C))-O*(Math.cos(T*C)*(y+b*w*x)-T*x*Math.sin(T*C))}}else if(b===1)m=T=>n-Math.exp(-w*T)*(x+(y+w*x)*T);else{const T=w*Math.sqrt(b*b-1);m=C=>{const O=Math.exp(-b*w*C),A=Math.min(T*C,300);return n-O*((y+b*w*x)*Math.sinh(A)+T*x*Math.cosh(A))/T}}}return _(),{next:y=>{const x=m(y);if(p)a.done=y>=d;else{const b=v(y)*1e3,w=Math.abs(b)<=r,T=Math.abs(n-x)<=i;a.done=w&&T}return a.value=a.done?n:x,a},flipTarget:()=>{f=-f,[t,n]=[n,t],_()}}}rC.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const ek=e=>0,W3=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},iC=(e,t,n)=>-n*e+n*t+e,X3=(e,t)=>n=>Math.max(Math.min(n,t),e),ph=e=>e%1?Number(e.toFixed(5)):e,Wv=/(-)?([\d]*\.?[\d])+/g,mS=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nce=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Td(e){return typeof e=="string"}const Iy={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},q3=Object.assign(Object.assign({},Iy),{transform:X3(0,1)});Object.assign(Object.assign({},Iy),{default:1});const rce=e=>({test:t=>Td(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mh=rce("%");Object.assign(Object.assign({},mh),{parse:e=>mh.parse(e)/100,transform:e=>mh.transform(e*100)});const oC=(e,t)=>n=>!!(Td(n)&&nce.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),K3=(e,t,n)=>r=>{if(!Td(r))return r;const[i,o,a,s]=r.match(Wv);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},lu={test:oC("hsl","hue"),parse:K3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+mh.transform(ph(t))+", "+mh.transform(ph(n))+", "+ph(q3.transform(r))+")"},ice=X3(0,255),ib=Object.assign(Object.assign({},Iy),{transform:e=>Math.round(ice(e))}),Za={test:oC("rgb","red"),parse:K3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ib.transform(e)+", "+ib.transform(t)+", "+ib.transform(n)+", "+ph(q3.transform(r))+")"};function oce(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vS={test:oC("#"),parse:oce,transform:Za.transform},Ry={test:e=>Za.test(e)||vS.test(e)||lu.test(e),parse:e=>Za.test(e)?Za.parse(e):lu.test(e)?lu.parse(e):vS.parse(e),transform:e=>Td(e)?e:e.hasOwnProperty("red")?Za.transform(e):lu.transform(e)},Y3="${c}",J3="${n}";function ace(e){var t,n,r,i;return isNaN(e)&&Td(e)&&((n=(t=e.match(Wv))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)+((i=(r=e.match(mS))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function Z3(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0;const r=e.match(mS);r&&(n=r.length,e=e.replace(mS,Y3),t.push(...r.map(Ry.parse)));const i=e.match(Wv);return i&&(e=e.replace(Wv,J3),t.push(...i.map(Iy.parse))),{values:t,numColors:n,tokenised:e}}function Q3(e){return Z3(e).values}function eB(e){const{values:t,numColors:n,tokenised:r}=Z3(e),i=t.length;return o=>{let a=r;for(let s=0;s<i;s++)a=a.replace(s<n?Y3:J3,s<n?Ry.transform(o[s]):ph(o[s]));return a}}const sce=e=>typeof e=="number"?0:e;function uce(e){const t=Q3(e);return eB(e)(t.map(sce))}const tB={test:ace,parse:Q3,createTransformer:eB,getAnimatableNone:uce};function ob(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=ob(u,s,e+1/3),o=ob(u,s,e),a=ob(u,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const lce=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},cce=[vS,Za,lu],nk=e=>cce.find(t=>t.test(e)),nB=(e,t)=>{let n=nk(e),r=nk(t),i=n.parse(e),o=r.parse(t);n===lu&&(i=tk(i),n=Za),r===lu&&(o=tk(o),r=Za);const a=Object.assign({},i);return s=>{for(const u in a)u!=="alpha"&&(a[u]=lce(i[u],o[u],s));return a.alpha=iC(i.alpha,o.alpha,s),n.transform(a)}},fce=e=>typeof e=="number",hce=(e,t)=>n=>t(e(n)),rB=(...e)=>e.reduce(hce);function iB(e,t){return fce(e)?n=>iC(e,t,n):Ry.test(e)?nB(e,t):aB(e,t)}const oB=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,a)=>iB(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}},dce=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=iB(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}};function rk(e){const t=tB.parse(e),n=t.length;let r=0,i=0,o=0;for(let a=0;a<n;a++)r||typeof t[a]=="number"?r++:t[a].hue!==void 0?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}const aB=(e,t)=>{const n=tB.createTransformer(t),r=rk(e),i=rk(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?rB(oB(r.parsed,i.parsed),n):a=>`${a>0?t:e}`},pce=(e,t)=>n=>iC(e,t,n);function mce(e){if(typeof e=="number")return pce;if(typeof e=="string")return Ry.test(e)?nB:aB;if(Array.isArray(e))return oB;if(typeof e=="object")return dce}function vce(e,t,n){const r=[],i=n||mce(e[0]),o=e.length-1;for(let a=0;a<o;a++){let s=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]:t;s=rB(u,s)}r.push(s)}return r}function gce([e,t],[n]){return r=>n(W3(e,t,r))}function yce(e,t){const n=e.length,r=n-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){let u=1;for(;u<n&&!(e[u]>i||u===r);u++);o=u-1}const s=W3(e[o],e[o+1],i);return t[o](s)}}function sB(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;JR(o===t.length),JR(!r||!Array.isArray(r)||r.length===o-1),e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=vce(t,r,i),s=o===2?gce(e,a):yce(e,a);return n?u=>s(dS(e[0],e[o-1],u)):s}const ky=e=>t=>1-e(1-t),aC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_ce=e=>t=>Math.pow(t,e),uB=e=>t=>t*t*((e+1)*t-e),xce=e=>{const t=uB(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},lB=1.525,bce=4/11,Sce=8/11,wce=9/10,Ece=e=>e,sC=_ce(2),Tce=ky(sC),gS=aC(sC),cB=e=>1-Math.sin(Math.acos(e)),fB=ky(cB),Cce=aC(fB),uC=uB(lB),Oce=ky(uC),Ace=aC(uC),Pce=xce(lB),Ice=4356/361,Rce=35442/1805,kce=16061/1805,Xv=e=>{if(e===1||e===0)return e;const t=e*e;return e<bce?7.5625*t:e<Sce?9.075*t-9.9*e+3.4:e<wce?Ice*t-Rce*e+kce:10.8*e*e-20.52*e+10.72},Nce=ky(Xv),Lce=e=>e<.5?.5*(1-Xv(1-e*2)):.5*Xv(e*2-1)+.5;function Mce(e,t){return e.map(()=>t||gS).splice(0,e.length-1)}function Fce(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function Dce(e,t){return e.map(n=>n*t)}function Xm({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=Dce(r&&r.length===a.length?r:Fce(a),i);function u(){return sB(s,a,{ease:Array.isArray(n)?n:Mce(a,n)})}let l=u();return{next:f=>(o.value=l(f),o.done=f>=i,o),flipTarget:()=>{a.reverse(),l=u()}}}function Bce({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=n*e;const u=t+s,l=o===void 0?u:o(u);return l!==u&&(s=l-t),{next:f=>{const d=-s*Math.exp(-f/r);return a.done=!(d>i||d<-i),a.value=a.done?l:l+d,a},flipTarget:()=>{}}}const ik={keyframes:Xm,spring:rC,decay:Bce};function jce(e){if(Array.isArray(e.to))return Xm;if(ik[e.type])return ik[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Xm:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?rC:Xm}const hB=1/60*1e3,$ce=typeof performance<"u"?()=>performance.now():()=>Date.now(),dB=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e($ce()),hB);function Uce(e){let t=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(u,l=!1,f=!1)=>{const d=f&&i,p=d?t:n;return l&&a.add(u),p.indexOf(u)===-1&&(p.push(u),d&&i&&(r=t.length)),u},cancel:u=>{const l=n.indexOf(u);l!==-1&&n.splice(l,1),a.delete(u)},process:u=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let l=0;l<r;l++){const f=t[l];f(u),a.has(f)&&(s.schedule(f),e())}i=!1,o&&(o=!1,s.process(u))}};return s}const Gce=40;let yS=!0,Gh=!1,_S=!1;const vh={delta:0,timestamp:0},Cd=["read","update","preRender","render","postRender"],Ny=Cd.reduce((e,t)=>(e[t]=Uce(()=>Gh=!0),e),{}),zce=Cd.reduce((e,t)=>{const n=Ny[t];return e[t]=(r,i=!1,o=!1)=>(Gh||Wce(),n.schedule(r,i,o)),e},{}),Hce=Cd.reduce((e,t)=>(e[t]=Ny[t].cancel,e),{});Cd.reduce((e,t)=>(e[t]=()=>Ny[t].process(vh),e),{});const Vce=e=>Ny[e].process(vh),pB=e=>{Gh=!1,vh.delta=yS?hB:Math.max(Math.min(e-vh.timestamp,Gce),1),vh.timestamp=e,_S=!0,Cd.forEach(Vce),_S=!1,Gh&&(yS=!1,dB(pB))},Wce=()=>{Gh=!0,yS=!0,_S||dB(pB)},Xce=zce;function mB(e,t,n=0){return e-t-n}function qce(e,t,n=0,r=!0){return r?mB(t+-e,t,n):t-(e-t)+n}function Kce(e,t,n,r){return r?e>=t+n:e<=-n}const Yce=e=>{const t=({delta:n})=>e(n);return{start:()=>Xce.update(t,!0),stop:()=>Hce.update(t)}};function Jce(e){var t,n,{from:r,autoplay:i=!0,driver:o=Yce,elapsed:a=0,repeat:s=0,repeatType:u="loop",repeatDelay:l=0,onPlay:f,onStop:d,onComplete:p,onRepeat:m,onUpdate:v}=e,_=V3(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:y}=_,x,b=0,w=_.duration,T,C=!1,O=!0,A;const M=jce(_);!((n=(t=M).needsInterpolation)===null||n===void 0)&&n.call(t,r,y)&&(A=sB([0,100],[r,y],{clamp:!1}),r=0,y=100);const D=M(Object.assign(Object.assign({},_),{from:r,to:y}));function B(){b++,u==="reverse"?(O=b%2===0,a=qce(a,w,l,O)):(a=mB(a,w,l),u==="mirror"&&D.flipTarget()),C=!1,m&&m()}function G(){x.stop(),p&&p()}function U(Q){if(O||(Q=-Q),a+=Q,!C){const ee=D.next(Math.max(0,a));T=ee.value,A&&(T=A(T)),C=O?ee.done:a<=0}v==null||v(T),C&&(b===0&&(w??(w=a)),b<s?Kce(a,w,l,O)&&B():G())}function H(){f==null||f(),x=o(U),x.start()}return i&&H(),{stop:()=>{d==null||d(),x.stop()}}}function Zce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Qce=Zce,efe=U3,tfe=Qce,nfe=G3,rfe=1,ife=2;function ofe(e,t,n,r,i,o){var a=n&rfe,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,m=n&ife?new efe:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var v=e[d],_=t[d];if(r)var y=a?r(_,v,d,t,e,o):r(v,_,d,e,t,o);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!tfe(t,function(x,b){if(!nfe(m,b)&&(v===x||i(v,x,n,r,o)))return m.push(b)})){p=!1;break}}else if(!(v===_||i(v,_,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var vB=ofe;function afe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var sfe=afe,ok=_d,ak=$D,ufe=ay,lfe=vB,cfe=sfe,ffe=nC,hfe=1,dfe=2,pfe="[object Boolean]",mfe="[object Date]",vfe="[object Error]",gfe="[object Map]",yfe="[object Number]",_fe="[object RegExp]",xfe="[object Set]",bfe="[object String]",Sfe="[object Symbol]",wfe="[object ArrayBuffer]",Efe="[object DataView]",sk=ok?ok.prototype:void 0,ab=sk?sk.valueOf:void 0;function Tfe(e,t,n,r,i,o,a){switch(n){case Efe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wfe:return!(e.byteLength!=t.byteLength||!o(new ak(e),new ak(t)));case pfe:case mfe:case yfe:return ufe(+e,+t);case vfe:return e.name==t.name&&e.message==t.message;case _fe:case bfe:return e==t+"";case gfe:var s=cfe;case xfe:var u=r&hfe;if(s||(s=ffe),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=dfe,a.set(e,t);var f=lfe(s(e),s(t),r,i,o,a);return a.delete(e),f;case Sfe:if(ab)return ab.call(e)==ab.call(t)}return!1}var Cfe=Tfe,uk=FD,Ofe=1,Afe=Object.prototype,Pfe=Afe.hasOwnProperty;function Ife(e,t,n,r,i,o){var a=n&Ofe,s=uk(e),u=s.length,l=uk(t),f=l.length;if(u!=f&&!a)return!1;for(var d=u;d--;){var p=s[d];if(!(a?p in t:Pfe.call(t,p)))return!1}var m=o.get(e),v=o.get(t);if(m&&v)return m==t&&v==e;var _=!0;o.set(e,t),o.set(t,e);for(var y=a;++d<u;){p=s[d];var x=e[p],b=t[p];if(r)var w=a?r(b,x,p,t,e,o):r(x,b,p,e,t,o);if(!(w===void 0?x===b||i(x,b,n,r,o):w)){_=!1;break}y||(y=p=="constructor")}if(_&&!y){var T=e.constructor,C=t.constructor;T!=C&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(_=!1)}return o.delete(e),o.delete(t),_}var Rfe=Ife,sb=AT,kfe=vB,Nfe=Cfe,Lfe=Rfe,lk=py,ck=wa,fk=IT,Mfe=AD,Ffe=1,hk="[object Arguments]",dk="[object Array]",Yp="[object Object]",Dfe=Object.prototype,pk=Dfe.hasOwnProperty;function Bfe(e,t,n,r,i,o){var a=ck(e),s=ck(t),u=a?dk:lk(e),l=s?dk:lk(t);u=u==hk?Yp:u,l=l==hk?Yp:l;var f=u==Yp,d=l==Yp,p=u==l;if(p&&fk(e)){if(!fk(t))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new sb),a||Mfe(e)?kfe(e,t,n,r,i,o):Nfe(e,t,u,n,r,i,o);if(!(n&Ffe)){var m=f&&pk.call(e,"__wrapped__"),v=d&&pk.call(t,"__wrapped__");if(m||v){var _=m?e.value():e,y=v?t.value():t;return o||(o=new sb),i(_,y,n,r,o)}}return p?(o||(o=new sb),Lfe(e,t,n,r,i,o)):!1}var jfe=Bfe,$fe=jfe,mk=Nu;function gB(e,t,n,r,i){return e===t?!0:e==null||t==null||!mk(e)&&!mk(t)?e!==e&&t!==t:$fe(e,t,n,r,gB,i)}var yB=gB,Ufe=AT,Gfe=yB,zfe=1,Hfe=2;function Vfe(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var u=s[0],l=e[u],f=s[1];if(a&&s[2]){if(l===void 0&&!(u in e))return!1}else{var d=new Ufe;if(r)var p=r(l,f,u,e,t,d);if(!(p===void 0?Gfe(f,l,zfe|Hfe,r,d):p))return!1}}return!0}var Wfe=Vfe,Xfe=lo;function qfe(e){return e===e&&!Xfe(e)}var _B=qfe,Kfe=_B,Yfe=dy;function Jfe(e){for(var t=Yfe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Kfe(i)]}return t}var Zfe=Jfe;function Qfe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var xB=Qfe,ehe=Wfe,the=Zfe,nhe=xB;function rhe(e){var t=the(e);return t.length==1&&t[0][2]?nhe(t[0][0],t[0][1]):function(n){return n===e||ehe(n,e,t)}}var ihe=rhe,ohe=xd,ahe=Nu,she="[object Symbol]";function uhe(e){return typeof e=="symbol"||ahe(e)&&ohe(e)==she}var Ly=uhe,lhe=wa,che=Ly,fhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hhe=/^\w*$/;function dhe(e,t){if(lhe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||che(e)?!0:hhe.test(e)||!fhe.test(e)||t!=null&&e in Object(t)}var lC=dhe,bB=OT,phe="Expected a function";function cC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(phe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cC.Cache||bB),n}cC.Cache=bB;var mhe=cC,vhe=mhe,ghe=500;function yhe(e){var t=vhe(e,function(r){return n.size===ghe&&n.clear(),r}),n=t.cache;return t}var _he=yhe,xhe=_he,bhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,She=/\\(\\)?/g,whe=xhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bhe,function(n,r,i,o){t.push(i?o.replace(She,"$1"):r||n)}),t}),Ehe=whe;function The(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var SB=The,vk=_d,Che=SB,Ohe=wa,Ahe=Ly,Phe=1/0,gk=vk?vk.prototype:void 0,yk=gk?gk.toString:void 0;function wB(e){if(typeof e=="string")return e;if(Ohe(e))return Che(e,wB)+"";if(Ahe(e))return yk?yk.call(e):"";var t=e+"";return t=="0"&&1/e==-Phe?"-0":t}var Ihe=wB,Rhe=Ihe;function khe(e){return e==null?"":Rhe(e)}var Nhe=khe,Lhe=wa,Mhe=lC,Fhe=Ehe,Dhe=Nhe;function Bhe(e,t){return Lhe(e)?e:Mhe(e,t)?[e]:Fhe(Dhe(e))}var My=Bhe,jhe=Ly,$he=1/0;function Uhe(e){if(typeof e=="string"||jhe(e))return e;var t=e+"";return t=="0"&&1/e==-$he?"-0":t}var Od=Uhe,Ghe=My,zhe=Od;function Hhe(e,t){t=Ghe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[zhe(t[n++])];return n&&n==r?e:void 0}var fC=Hhe,Vhe=fC;function Whe(e,t,n){var r=e==null?void 0:Vhe(e,t);return r===void 0?n:r}var EB=Whe;const Xhe=Qn(EB);function qhe(e,t){return e!=null&&t in Object(e)}var Khe=qhe,Yhe=My,Jhe=OD,Zhe=wa,Qhe=hy,ede=RT,tde=Od;function nde(e,t,n){t=Yhe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=tde(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&ede(i)&&Qhe(a,i)&&(Zhe(e)||Jhe(e)))}var rde=nde,ide=Khe,ode=rde;function ade(e,t){return e!=null&&ode(e,t,ide)}var sde=ade,ude=yB,lde=EB,cde=sde,fde=lC,hde=_B,dde=xB,pde=Od,mde=1,vde=2;function gde(e,t){return fde(e)&&hde(t)?dde(pde(e),t):function(n){var r=lde(n,e);return r===void 0&&r===t?cde(n,e):ude(t,r,mde|vde)}}var yde=gde;function _de(e){return e}var xde=_de;function bde(e){return function(t){return t==null?void 0:t[e]}}var Sde=bde,wde=fC;function Ede(e){return function(t){return wde(t,e)}}var Tde=Ede,Cde=Sde,Ode=Tde,Ade=lC,Pde=Od;function Ide(e){return Ade(e)?Cde(Pde(e)):Ode(e)}var Rde=Ide,kde=ihe,Nde=yde,Lde=xde,Mde=wa,Fde=Rde;function Dde(e){return typeof e=="function"?e:e==null?Lde:typeof e=="object"?Mde(e)?Nde(e[0],e[1]):kde(e):Fde(e)}var TB=Dde,Bde="Expected a function";function jde(e){if(typeof e!="function")throw new TypeError(Bde);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var $de=jde,Ude=PT,Gde=My,zde=hy,_k=lo,Hde=Od;function Vde(e,t,n,r){if(!_k(e))return e;t=Gde(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var u=Hde(t[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=a){var f=s[u];l=r?r(f,u,s):void 0,l===void 0&&(l=_k(f)?f:zde(t[i+1])?[]:{})}Ude(s,u,l),s=s[u]}return e}var Wde=Vde,Xde=fC,qde=Wde,Kde=My;function Yde(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Xde(e,a);n(s,a)&&qde(o,Kde(a,e),s)}return o}var Jde=Yde,Zde=SB,Qde=TB,epe=Jde,tpe=DD;function npe(e,t){if(e==null)return{};var n=Zde(tpe(e),function(r){return[r]});return t=Qde(t),epe(e,n,function(r,i){return t(r,i[0])})}var rpe=npe,ipe=TB,ope=$de,ape=rpe;function spe(e,t){return ape(e,ope(ipe(t)))}var upe=spe;const ub=Qn(upe);function lpe(e){return e===void 0}var cpe=lpe;const na=Qn(cpe),fpe="modulepreload",hpe=function(e,t){return new URL(e,t).href},xk={},zh=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=hpe(o,r),o in xk)return;xk[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const d=i[f];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":fpe,a||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),a)return new Promise((f,d)=>{l.addEventListener("load",f),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function dpe(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function ppe(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length<"u"))return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return n([]);var o=i.length;function a(u,l){if(l&&(typeof l=="object"||typeof l=="function")){var f=l.then;if(typeof f=="function"){f.call(l,function(d){a(u,d)},function(d){i[u]={status:"rejected",reason:d},--o===0&&n(i)});return}}i[u]={status:"fulfilled",value:l},--o===0&&n(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}function CB(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}CB.prototype=Error.prototype;function mpe(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length<"u"))return r(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(e);if(i.length===0)return r();for(var o=[],a=0;a<i.length;a++)try{t.resolve(i[a]).then(n).catch(function(s){o.push(s),o.length===i.length&&r(new CB(o,"All promises were rejected"))})}catch(s){r(s)}})}var vpe=setTimeout;function OB(e){return!!(e&&typeof e.length<"u")}function gpe(){}function ype(e,t){return function(){e.apply(t,arguments)}}function dn(e){if(!(this instanceof dn))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],PB(e,this)}function AB(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,dn._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?xS:Hh)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(i){Hh(t.promise,i);return}xS(t.promise,r)})}function xS(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof dn){e._state=3,e._value=t,bS(e);return}else if(typeof n=="function"){PB(ype(n,t),e);return}}e._state=1,e._value=t,bS(e)}catch(r){Hh(e,r)}}function Hh(e,t){e._state=2,e._value=t,bS(e)}function bS(e){e._state===2&&e._deferreds.length===0&&dn._immediateFn(function(){e._handled||dn._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)AB(e,e._deferreds[t]);e._deferreds=null}function _pe(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function PB(e,t){var n=!1;try{e(function(r){n||(n=!0,xS(t,r))},function(r){n||(n=!0,Hh(t,r))})}catch(r){if(n)return;n=!0,Hh(t,r)}}dn.prototype.catch=function(e){return this.then(null,e)};dn.prototype.then=function(e,t){var n=new this.constructor(gpe);return AB(this,new _pe(e,t,n)),n};dn.prototype.finally=dpe;dn.all=function(e){return new dn(function(t,n){if(!OB(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var i=r.length;function o(s,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var l=u.then;if(typeof l=="function"){l.call(u,function(f){o(s,f)},n);return}}r[s]=u,--i===0&&t(r)}catch(f){n(f)}}for(var a=0;a<r.length;a++)o(a,r[a])})};dn.any=mpe;dn.allSettled=ppe;dn.resolve=function(e){return e&&typeof e=="object"&&e.constructor===dn?e:new dn(function(t){t(e)})};dn.reject=function(e){return new dn(function(t,n){n(e)})};dn.race=function(e){return new dn(function(t,n){if(!OB(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)dn.resolve(e[r]).then(t,n)})};dn._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){vpe(e,0)};dn._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=dn);Object.assign||(Object.assign=m9);var xpe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var bpe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-bpe}}var lb=Date.now(),bk=["ms","moz","webkit","o"];for(var cb=0;cb<bk.length&&!globalThis.requestAnimationFrame;++cb){var fb=bk[cb];globalThis.requestAnimationFrame=globalThis[fb+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[fb+"CancelAnimationFrame"]||globalThis[fb+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),n=xpe+lb-t;return n<0&&(n=0),lb=t,globalThis.self.setTimeout(function(){lb=Date.now(),e(performance.now())},n)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Do;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Do||(Do={}));var cc;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(cc||(cc={}));var Vh;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Vh||(Vh={}));var ze;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(ze||(ze={}));var Ii;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ii||(Ii={}));var Ce;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ce||(Ce={}));var hs;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(hs||(hs={}));var He;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(He||(He={}));var Wh;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Wh||(Wh={}));var lr;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(lr||(lr={}));var no;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(no||(no={}));var br;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(br||(br={}));var Fi;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Fi||(Fi={}));var ui;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(ui||(ui={}));var Xh;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Xh||(Xh={}));var Wr;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Wr||(Wr={}));var Sn;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR"})(Sn||(Sn={}));var SS;(function(e){e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA"})(SS||(SS={}));var Yt;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Yt||(Yt={}));var ro;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ro||(ro={}));/*!
 * @pixi/settings - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var IB={createCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return(e=document.baseURI)!==null&&e!==void 0?e:window.location.href},fetch:function(e,t){return fetch(e,t)}},hb=/iPhone/i,Sk=/iPod/i,wk=/iPad/i,Ek=/\biOS-universal(?:.+)Mac\b/i,db=/\bAndroid(?:.+)Mobile\b/i,Tk=/Android/i,hl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Jp=/Silk/i,ra=/Windows Phone/i,Ck=/\bWindows(?:.+)ARM\b/i,Ok=/BlackBerry/i,Ak=/BB10/i,Pk=/Opera Mini/i,Ik=/\b(CriOS|Chrome)(?:.+)Mobile/i,Rk=/Mobile(?:.+)Firefox\b/i,kk=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function Spe(e){return function(t){return t.test(e)}}function wpe(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var n=t.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=Spe(n),o={apple:{phone:i(hb)&&!i(ra),ipod:i(Sk),tablet:!i(hb)&&(i(wk)||kk(t))&&!i(ra),universal:i(Ek),device:(i(hb)||i(Sk)||i(wk)||i(Ek)||kk(t))&&!i(ra)},amazon:{phone:i(hl),tablet:!i(hl)&&i(Jp),device:i(hl)||i(Jp)},android:{phone:!i(ra)&&i(hl)||!i(ra)&&i(db),tablet:!i(ra)&&!i(hl)&&!i(db)&&(i(Jp)||i(Tk)),device:!i(ra)&&(i(hl)||i(Jp)||i(db)||i(Tk))||i(/\bokhttp\b/i)},windows:{phone:i(ra),tablet:i(Ck),device:i(ra)||i(Ck)},other:{blackberry:i(Ok),blackberry10:i(Ak),opera:i(Pk),firefox:i(Rk),chrome:i(Ik),device:i(Ok)||i(Ak)||i(Pk)||i(Rk)||i(Ik)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var Ri=wpe(globalThis.navigator);function Epe(){return!Ri.apple.device}function Tpe(e){var t=!0;if(Ri.tablet||Ri.phone){if(Ri.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var r=parseInt(n[1],10);r<11&&(t=!1)}}if(Ri.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n){var r=parseInt(n[1],10);r<7&&(t=!1)}}}return t?e:4}var Pe={ADAPTER:IB,MIPMAP_TEXTURES:br.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Yt.NONE,SPRITE_MAX_TEXTURES:Tpe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:Xh.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:no.CLAMP,SCALE_MODE:lr.LINEAR,PRECISION_VERTEX:Wr.HIGH,PRECISION_FRAGMENT:Ri.apple.device?Wr.HIGH:Wr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Epe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},RB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,f){this.fn=u,this.context=l,this.once=f||!1}function o(u,l,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,d||u,p),v=n?n+l:l;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],m]:u._events[v].push(m):(u._events[v]=m,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],f,d;if(this._eventsCount===0)return l;for(d in f=this._events)t.call(f,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},s.prototype.listeners=function(l){var f=n?n+l:l,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,v=new Array(m);p<m;p++)v[p]=d[p].fn;return v},s.prototype.listenerCount=function(l){var f=n?n+l:l,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,f,d,p,m,v){var _=n?n+l:l;if(!this._events[_])return!1;var y=this._events[_],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,m),!0;case 6:return y.fn.call(y.context,f,d,p,m,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var T=y.length,C;for(w=0;w<T;w++)switch(y[w].once&&this.removeListener(l,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,f);break;case 3:y[w].fn.call(y[w].context,f,d);break;case 4:y[w].fn.call(y[w].context,f,d,p);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(l,f,d){return o(this,l,f,d,!1)},s.prototype.once=function(l,f,d){return o(this,l,f,d,!0)},s.prototype.removeListener=function(l,f,d,p){var m=n?n+l:l;if(!this._events[m])return this;if(!f)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===f&&(!p||v.once)&&(!d||v.context===d)&&a(this,m);else{for(var _=0,y=[],x=v.length;_<x;_++)(v[_].fn!==f||p&&!v[_].once||d&&v[_].context!==d)&&y.push(v[_]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},s.prototype.removeAllListeners=function(l){var f;return l?(f=n?n+l:l,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(RB);var Cpe=RB.exports;const Fc=Qn(Cpe);var hC={exports:{}};hC.exports=Fy;hC.exports.default=Fy;function Fy(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=kB(e,0,i,n,!0),a=[];if(!o||o.next===o.prev)return a;var s,u,l,f,d,p,m;if(r&&(o=Rpe(e,t,o,n)),e.length>80*n){s=l=e[0],u=f=e[1];for(var v=n;v<i;v+=n)d=e[v],p=e[v+1],d<s&&(s=d),p<u&&(u=p),d>l&&(l=d),p>f&&(f=p);m=Math.max(l-s,f-u),m=m!==0?32767/m:0}return qh(o,a,n,s,u,m,0),a}function kB(e,t,n,r,i){var o,a;if(i===TS(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Nk(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Nk(o,e[o],e[o+1],a);return a&&Dy(a,a.next)&&(Yh(a),a=a.next),a}function Tu(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Dy(n,n.next)||fn(n.prev,n,n.next)===0)){if(Yh(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function qh(e,t,n,r,i,o,a){if(e){!a&&o&&Fpe(e,r,i,o);for(var s=e,u,l;e.prev!==e.next;){if(u=e.prev,l=e.next,o?Ape(e,r,i,o):Ope(e)){t.push(u.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Yh(e),e=l.next,s=l.next;continue}if(e=l,e===s){a?a===1?(e=Ppe(Tu(e),t,n),qh(e,t,n,r,i,o,2)):a===2&&Ipe(e,t,n,r,i,o):qh(Tu(e),t,n,r,i,o,1);break}}}}function Ope(e){var t=e.prev,n=e,r=e.next;if(fn(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,u=n.y,l=r.y,f=i<o?i<a?i:a:o<a?o:a,d=s<u?s<l?s:l:u<l?u:l,p=i>o?i>a?i:a:o>a?o:a,m=s>u?s>l?s:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=f&&v.x<=p&&v.y>=d&&v.y<=m&&Nl(i,s,o,u,a,l,v.x,v.y)&&fn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Ape(e,t,n,r){var i=e.prev,o=e,a=e.next;if(fn(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,l=a.x,f=i.y,d=o.y,p=a.y,m=s<u?s<l?s:l:u<l?u:l,v=f<d?f<p?f:p:d<p?d:p,_=s>u?s>l?s:l:u>l?u:l,y=f>d?f>p?f:p:d>p?d:p,x=wS(m,v,t,n,r),b=wS(_,y,t,n,r),w=e.prevZ,T=e.nextZ;w&&w.z>=x&&T&&T.z<=b;){if(w.x>=m&&w.x<=_&&w.y>=v&&w.y<=y&&w!==i&&w!==a&&Nl(s,f,u,d,l,p,w.x,w.y)&&fn(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=m&&T.x<=_&&T.y>=v&&T.y<=y&&T!==i&&T!==a&&Nl(s,f,u,d,l,p,T.x,T.y)&&fn(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=x;){if(w.x>=m&&w.x<=_&&w.y>=v&&w.y<=y&&w!==i&&w!==a&&Nl(s,f,u,d,l,p,w.x,w.y)&&fn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=b;){if(T.x>=m&&T.x<=_&&T.y>=v&&T.y<=y&&T!==i&&T!==a&&Nl(s,f,u,d,l,p,T.x,T.y)&&fn(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Ppe(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Dy(i,o)&&NB(i,r,r.next,o)&&Kh(i,o)&&Kh(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Yh(r),Yh(r.next),r=e=o),r=r.next}while(r!==e);return Tu(r)}function Ipe(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&jpe(a,s)){var u=LB(a,s);a=Tu(a,a.next),u=Tu(u,u.next),qh(a,t,n,r,i,o,0),qh(u,t,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==e)}function Rpe(e,t,n,r){var i=[],o,a,s,u,l;for(o=0,a=t.length;o<a;o++)s=t[o]*r,u=o<a-1?t[o+1]*r:e.length,l=kB(e,s,u,r,!1),l===l.next&&(l.steiner=!0),i.push(Bpe(l));for(i.sort(kpe),o=0;o<i.length;o++)n=Npe(i[o],n);return n}function kpe(e,t){return e.x-t.x}function Npe(e,t){var n=Lpe(e,t);if(!n)return t;var r=LB(n,e);return Tu(r,r.next),Tu(n,n.next)}function Lpe(e,t){var n=t,r=e.x,i=e.y,o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>o&&(o=s,a=n.x<n.next.x?n:n.next,s===r))return a}n=n.next}while(n!==t);if(!a)return null;var u=a,l=a.x,f=a.y,d=1/0,p;n=a;do r>=n.x&&n.x>=l&&r!==n.x&&Nl(i<f?r:o,i,l,f,i<f?o:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),Kh(n,e)&&(p<d||p===d&&(n.x>a.x||n.x===a.x&&Mpe(a,n)))&&(a=n,d=p)),n=n.next;while(n!==u);return a}function Mpe(e,t){return fn(e.prev,e,t.prev)<0&&fn(t.next,e,e.next)<0}function Fpe(e,t,n,r){var i=e;do i.z===0&&(i.z=wS(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Dpe(i)}function Dpe(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,!!r);t++);for(u=l;s>0||u>0&&r;)s!==0&&(u===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return e}function wS(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Bpe(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Nl(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function jpe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!$pe(e,t)&&(Kh(e,t)&&Kh(t,e)&&Upe(e,t)&&(fn(e.prev,e,t.prev)||fn(e,t.prev,t))||Dy(e,t)&&fn(e.prev,e,e.next)>0&&fn(t.prev,t,t.next)>0)}function fn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Dy(e,t){return e.x===t.x&&e.y===t.y}function NB(e,t,n,r){var i=Qp(fn(e,t,n)),o=Qp(fn(e,t,r)),a=Qp(fn(n,r,e)),s=Qp(fn(n,r,t));return!!(i!==o&&a!==s||i===0&&Zp(e,n,t)||o===0&&Zp(e,r,t)||a===0&&Zp(n,e,r)||s===0&&Zp(n,t,r))}function Zp(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Qp(e){return e>0?1:e<0?-1:0}function $pe(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&NB(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Kh(e,t){return fn(e.prev,e,e.next)<0?fn(e,t,e.next)>=0&&fn(e,e.prev,t)>=0:fn(e,t,e.prev)<0||fn(e,e.next,t)<0}function Upe(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function LB(e,t){var n=new ES(e.i,e.x,e.y),r=new ES(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Nk(e,t,n,r){var i=new ES(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Yh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ES(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Fy.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(TS(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,f=s<u-1?t[s+1]*n:e.length;a-=Math.abs(TS(e,l,f,n))}var d=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,m=r[s+1]*n,v=r[s+2]*n;d+=Math.abs((e[p]-e[v])*(e[m+1]-e[p+1])-(e[p]-e[m])*(e[v+1]-e[p+1]))}return a===0&&d===0?0:Math.abs((d-a)/a)};function TS(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Fy.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var Gpe=hC.exports;const dC=Qn(Gpe);var qv={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */qv.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof Yn=="object"&&Yn;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,u=36,l=1,f=26,d=38,p=700,m=72,v=128,_="-",y=/^xn--/,x=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=u-l,C=Math.floor,O=String.fromCharCode,A;function M(fe){throw new RangeError(w[fe])}function D(fe,L){for(var Z=fe.length,re=[];Z--;)re[Z]=L(fe[Z]);return re}function B(fe,L){var Z=fe.split("@"),re="";Z.length>1&&(re=Z[0]+"@",fe=Z[1]),fe=fe.replace(b,".");var ae=fe.split("."),le=D(ae,L).join(".");return re+le}function G(fe){for(var L=[],Z=0,re=fe.length,ae,le;Z<re;)ae=fe.charCodeAt(Z++),ae>=55296&&ae<=56319&&Z<re?(le=fe.charCodeAt(Z++),(le&64512)==56320?L.push(((ae&1023)<<10)+(le&1023)+65536):(L.push(ae),Z--)):L.push(ae);return L}function U(fe){return D(fe,function(L){var Z="";return L>65535&&(L-=65536,Z+=O(L>>>10&1023|55296),L=56320|L&1023),Z+=O(L),Z}).join("")}function H(fe){return fe-48<10?fe-22:fe-65<26?fe-65:fe-97<26?fe-97:u}function Q(fe,L){return fe+22+75*(fe<26)-((L!=0)<<5)}function ee(fe,L,Z){var re=0;for(fe=Z?C(fe/p):fe>>1,fe+=C(fe/L);fe>T*f>>1;re+=u)fe=C(fe/T);return C(re+(T+1)*fe/(fe+d))}function ne(fe){var L=[],Z=fe.length,re,ae=0,le=v,de=m,ge,Ie,ke,Ze,Be,Ue,je,Se,Ge;for(ge=fe.lastIndexOf(_),ge<0&&(ge=0),Ie=0;Ie<ge;++Ie)fe.charCodeAt(Ie)>=128&&M("not-basic"),L.push(fe.charCodeAt(Ie));for(ke=ge>0?ge+1:0;ke<Z;){for(Ze=ae,Be=1,Ue=u;ke>=Z&&M("invalid-input"),je=H(fe.charCodeAt(ke++)),(je>=u||je>C((s-ae)/Be))&&M("overflow"),ae+=je*Be,Se=Ue<=de?l:Ue>=de+f?f:Ue-de,!(je<Se);Ue+=u)Ge=u-Se,Be>C(s/Ge)&&M("overflow"),Be*=Ge;re=L.length+1,de=ee(ae-Ze,re,Ze==0),C(ae/re)>s-le&&M("overflow"),le+=C(ae/re),ae%=re,L.splice(ae++,0,le)}return U(L)}function ce(fe){var L,Z,re,ae,le,de,ge,Ie,ke,Ze,Be,Ue=[],je,Se,Ge,yt;for(fe=G(fe),je=fe.length,L=v,Z=0,le=m,de=0;de<je;++de)Be=fe[de],Be<128&&Ue.push(O(Be));for(re=ae=Ue.length,ae&&Ue.push(_);re<je;){for(ge=s,de=0;de<je;++de)Be=fe[de],Be>=L&&Be<ge&&(ge=Be);for(Se=re+1,ge-L>C((s-Z)/Se)&&M("overflow"),Z+=(ge-L)*Se,L=ge,de=0;de<je;++de)if(Be=fe[de],Be<L&&++Z>s&&M("overflow"),Be==L){for(Ie=Z,ke=u;Ze=ke<=le?l:ke>=le+f?f:ke-le,!(Ie<Ze);ke+=u)yt=Ie-Ze,Ge=u-Ze,Ue.push(O(Q(Ze+yt%Ge,0))),Ie=C(yt/Ge);Ue.push(O(Q(Ie,0))),le=ee(Z,Se,re==ae),Z=0,++re}++Z,++L}return Ue.join("")}function Ae(fe){return B(fe,function(L){return y.test(L)?ne(L.slice(4).toLowerCase()):L})}function pe(fe){return B(fe,function(L){return x.test(L)?"xn--"+ce(L):L})}if(a={version:"1.4.1",ucs2:{decode:G,encode:U},decode:ne,encode:ce,toASCII:pe,toUnicode:Ae},r&&i)if(e.exports==r)i.exports=a;else for(A in a)a.hasOwnProperty(A)&&(r[A]=a[A]);else n.punycode=a})(Yn)})(qv,qv.exports);var zpe=qv.exports,Hpe=Error,Vpe=EvalError,Wpe=RangeError,Xpe=ReferenceError,MB=SyntaxError,Ad=TypeError,qpe=URIError,Kpe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Lk=typeof Symbol<"u"&&Symbol,Ype=Kpe,Jpe=function(){return typeof Lk!="function"||typeof Symbol!="function"||typeof Lk("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ype()},pb={__proto__:null,foo:{}},Zpe=Object,Qpe=function(){return{__proto__:pb}.foo===pb.foo&&!(pb instanceof Zpe)},eme="Function.prototype.bind called on incompatible ",tme=Object.prototype.toString,nme=Math.max,rme="[object Function]",Mk=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},ime=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},ome=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},ame=function(t){var n=this;if(typeof n!="function"||tme.apply(n)!==rme)throw new TypeError(eme+n);for(var r=ime(arguments,1),i,o=function(){if(this instanceof i){var f=n.apply(this,Mk(r,arguments));return Object(f)===f?f:this}return n.apply(t,Mk(r,arguments))},a=nme(0,n.length-r.length),s=[],u=0;u<a;u++)s[u]="$"+u;if(i=Function("binder","return function ("+ome(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i},sme=ame,pC=Function.prototype.bind||sme,ume=Function.prototype.call,lme=Object.prototype.hasOwnProperty,cme=pC,fme=cme.call(ume,lme),pt,hme=Hpe,dme=Vpe,pme=Wpe,mme=Xpe,fc=MB,Kl=Ad,vme=qpe,FB=Function,mb=function(e){try{return FB('"use strict"; return ('+e+").constructor;")()}catch{}},pu=Object.getOwnPropertyDescriptor;if(pu)try{pu({},"")}catch{pu=null}var vb=function(){throw new Kl},gme=pu?function(){try{return arguments.callee,vb}catch{try{return pu(arguments,"callee").get}catch{return vb}}}():vb,dl=Jpe(),yme=Qpe(),Wn=Object.getPrototypeOf||(yme?function(e){return e.__proto__}:null),El={},_me=typeof Uint8Array>"u"||!Wn?pt:Wn(Uint8Array),mu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?pt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?pt:ArrayBuffer,"%ArrayIteratorPrototype%":dl&&Wn?Wn([][Symbol.iterator]()):pt,"%AsyncFromSyncIteratorPrototype%":pt,"%AsyncFunction%":El,"%AsyncGenerator%":El,"%AsyncGeneratorFunction%":El,"%AsyncIteratorPrototype%":El,"%Atomics%":typeof Atomics>"u"?pt:Atomics,"%BigInt%":typeof BigInt>"u"?pt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?pt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?pt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?pt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":hme,"%eval%":eval,"%EvalError%":dme,"%Float32Array%":typeof Float32Array>"u"?pt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?pt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?pt:FinalizationRegistry,"%Function%":FB,"%GeneratorFunction%":El,"%Int8Array%":typeof Int8Array>"u"?pt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?pt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?pt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":dl&&Wn?Wn(Wn([][Symbol.iterator]())):pt,"%JSON%":typeof JSON=="object"?JSON:pt,"%Map%":typeof Map>"u"?pt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!dl||!Wn?pt:Wn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?pt:Promise,"%Proxy%":typeof Proxy>"u"?pt:Proxy,"%RangeError%":pme,"%ReferenceError%":mme,"%Reflect%":typeof Reflect>"u"?pt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?pt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!dl||!Wn?pt:Wn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?pt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":dl&&Wn?Wn(""[Symbol.iterator]()):pt,"%Symbol%":dl?Symbol:pt,"%SyntaxError%":fc,"%ThrowTypeError%":gme,"%TypedArray%":_me,"%TypeError%":Kl,"%Uint8Array%":typeof Uint8Array>"u"?pt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?pt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?pt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?pt:Uint32Array,"%URIError%":vme,"%WeakMap%":typeof WeakMap>"u"?pt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?pt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?pt:WeakSet};if(Wn)try{null.error}catch(e){var xme=Wn(Wn(e));mu["%Error.prototype%"]=xme}var bme=function e(t){var n;if(t==="%AsyncFunction%")n=mb("async function () {}");else if(t==="%GeneratorFunction%")n=mb("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=mb("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Wn&&(n=Wn(i.prototype))}return mu[t]=n,n},Fk={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Pd=pC,Kv=fme,Sme=Pd.call(Function.call,Array.prototype.concat),wme=Pd.call(Function.apply,Array.prototype.splice),Dk=Pd.call(Function.call,String.prototype.replace),Yv=Pd.call(Function.call,String.prototype.slice),Eme=Pd.call(Function.call,RegExp.prototype.exec),Tme=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Cme=/\\(\\)?/g,Ome=function(t){var n=Yv(t,0,1),r=Yv(t,-1);if(n==="%"&&r!=="%")throw new fc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new fc("invalid intrinsic syntax, expected opening `%`");var i=[];return Dk(t,Tme,function(o,a,s,u){i[i.length]=s?Dk(u,Cme,"$1"):a||o}),i},Ame=function(t,n){var r=t,i;if(Kv(Fk,r)&&(i=Fk[r],r="%"+i[0]+"%"),Kv(mu,r)){var o=mu[r];if(o===El&&(o=bme(r)),typeof o>"u"&&!n)throw new Kl("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new fc("intrinsic "+t+" does not exist!")},Dc=function(t,n){if(typeof t!="string"||t.length===0)throw new Kl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Kl('"allowMissing" argument must be a boolean');if(Eme(/^%?[^%]*%?$/,t)===null)throw new fc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ome(t),i=r.length>0?r[0]:"",o=Ame("%"+i+"%",n),a=o.name,s=o.value,u=!1,l=o.alias;l&&(i=l[0],wme(r,Sme([0,1],l)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],m=Yv(p,0,1),v=Yv(p,-1);if((m==='"'||m==="'"||m==="`"||v==='"'||v==="'"||v==="`")&&m!==v)throw new fc("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(u=!0),i+="."+p,a="%"+i+"%",Kv(mu,a))s=mu[a];else if(s!=null){if(!(p in s)){if(!n)throw new Kl("base intrinsic for "+t+" exists, but the property is not available.");return}if(pu&&f+1>=r.length){var _=pu(s,p);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?s=_.get:s=s[p]}else d=Kv(s,p),s=s[p];d&&!u&&(mu[a]=s)}}return s},DB={exports:{}},gb,Bk;function mC(){if(Bk)return gb;Bk=1;var e=Dc,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return gb=t,gb}var Pme=Dc,qm=Pme("%Object.getOwnPropertyDescriptor%",!0);if(qm)try{qm([],"length")}catch{qm=null}var BB=qm,jk=mC(),Ime=MB,pl=Ad,$k=BB,Rme=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new pl("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new pl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new pl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new pl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new pl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new pl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!$k&&$k(t,n);if(jk)jk(t,n,{configurable:a===null&&u?u.configurable:!a,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:o===null&&u?u.writable:!o});else if(s||!i&&!o&&!a)t[n]=r;else throw new Ime("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},CS=mC(),jB=function(){return!!CS};jB.hasArrayLengthDefineBug=function(){if(!CS)return null;try{return CS([],"length",{value:1}).length!==1}catch{return!0}};var kme=jB,Nme=Dc,Uk=Rme,Lme=kme(),Gk=BB,zk=Ad,Mme=Nme("%Math.floor%"),Fme=function(t,n){if(typeof t!="function")throw new zk("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Mme(n)!==n)throw new zk("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&Gk){var a=Gk(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!r)&&(Lme?Uk(t,"length",n,!0,!0):Uk(t,"length",n)),t};(function(e){var t=pC,n=Dc,r=Fme,i=Ad,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,o),u=mC(),l=n("%Math.max%");e.exports=function(p){if(typeof p!="function")throw new i("a function is required");var m=s(t,a,arguments);return r(m,1+l(0,p.length-(arguments.length-1)),!0)};var f=function(){return s(t,o,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f})(DB);var Dme=DB.exports,$B=Dc,UB=Dme,Bme=UB($B("String.prototype.indexOf")),jme=function(t,n){var r=$B(t,!!n);return typeof r=="function"&&Bme(t,".prototype.")>-1?UB(r):r};const $me={},Ume=Object.freeze(Object.defineProperty({__proto__:null,default:$me},Symbol.toStringTag,{value:"Module"})),Gme=c9(Ume);var vC=typeof Map=="function"&&Map.prototype,yb=Object.getOwnPropertyDescriptor&&vC?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Jv=vC&&yb&&typeof yb.get=="function"?yb.get:null,Hk=vC&&Map.prototype.forEach,gC=typeof Set=="function"&&Set.prototype,_b=Object.getOwnPropertyDescriptor&&gC?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Zv=gC&&_b&&typeof _b.get=="function"?_b.get:null,Vk=gC&&Set.prototype.forEach,zme=typeof WeakMap=="function"&&WeakMap.prototype,gh=zme?WeakMap.prototype.has:null,Hme=typeof WeakSet=="function"&&WeakSet.prototype,yh=Hme?WeakSet.prototype.has:null,Vme=typeof WeakRef=="function"&&WeakRef.prototype,Wk=Vme?WeakRef.prototype.deref:null,Wme=Boolean.prototype.valueOf,Xme=Object.prototype.toString,qme=Function.prototype.toString,Kme=String.prototype.match,yC=String.prototype.slice,Qa=String.prototype.replace,Yme=String.prototype.toUpperCase,Xk=String.prototype.toLowerCase,GB=RegExp.prototype.test,qk=Array.prototype.concat,Eo=Array.prototype.join,Jme=Array.prototype.slice,Kk=Math.floor,OS=typeof BigInt=="function"?BigInt.prototype.valueOf:null,xb=Object.getOwnPropertySymbols,AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Sr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hc||"symbol")?Symbol.toStringTag:null,zB=Object.prototype.propertyIsEnumerable,Yk=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Jk(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||GB.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-Kk(-e):Kk(e);if(r!==e){var i=String(r),o=yC.call(t,i.length+1);return Qa.call(i,n,"$&_")+"."+Qa.call(Qa.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qa.call(t,n,"$&_")}var PS=Gme,Zk=PS.custom,Qk=VB(Zk)?Zk:null,Zme=function e(t,n,r,i){var o=n||{};if(Ga(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ga(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Ga(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ga(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ga(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return XB(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?Jk(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return s?Jk(t,l):l}var f=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=f&&f>0&&typeof t=="object")return IS(t)?"[Array]":"[Object]";var d=vve(o,r);if(typeof i>"u")i=[];else if(WB(i,t)>=0)return"[Circular]";function p(H,Q,ee){if(Q&&(i=Jme.call(i),i.push(Q)),ee){var ne={depth:o.depth};return Ga(o,"quoteStyle")&&(ne.quoteStyle=o.quoteStyle),e(H,ne,r+1,i)}return e(H,o,r+1,i)}if(typeof t=="function"&&!eN(t)){var m=sve(t),v=em(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+Eo.call(v,", ")+" }":"")}if(VB(t)){var _=hc?Qa.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):AS.call(t);return typeof t=="object"&&!hc?If(_):_}if(dve(t)){for(var y="<"+Xk.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+HB(Qme(x[b].value),"double",o);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+Xk.call(String(t.nodeName))+">",y}if(IS(t)){if(t.length===0)return"[]";var w=em(t,p);return d&&!mve(w)?"["+RS(w,d)+"]":"[ "+Eo.call(w,", ")+" ]"}if(tve(t)){var T=em(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!zB.call(t,"cause")?"{ ["+String(t)+"] "+Eo.call(qk.call("[cause]: "+p(t.cause),T),", ")+" }":T.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Eo.call(T,", ")+" }"}if(typeof t=="object"&&a){if(Qk&&typeof t[Qk]=="function"&&PS)return PS(t,{depth:f-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(uve(t)){var C=[];return Hk&&Hk.call(t,function(H,Q){C.push(p(Q,t,!0)+" => "+p(H,t))}),tN("Map",Jv.call(t),C,d)}if(fve(t)){var O=[];return Vk&&Vk.call(t,function(H){O.push(p(H,t))}),tN("Set",Zv.call(t),O,d)}if(lve(t))return bb("WeakMap");if(hve(t))return bb("WeakSet");if(cve(t))return bb("WeakRef");if(rve(t))return If(p(Number(t)));if(ove(t))return If(p(OS.call(t)));if(ive(t))return If(Wme.call(t));if(nve(t))return If(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Yn)return"{ [object globalThis] }";if(!eve(t)&&!eN(t)){var A=em(t,p),M=Yk?Yk(t)===Object.prototype:t instanceof Object||t.constructor===Object,D=t instanceof Object?"":"null prototype",B=!M&&Sr&&Object(t)===t&&Sr in t?yC.call(As(t),8,-1):D?"Object":"",G=M||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",U=G+(B||D?"["+Eo.call(qk.call([],B||[],D||[]),": ")+"] ":"");return A.length===0?U+"{}":d?U+"{"+RS(A,d)+"}":U+"{ "+Eo.call(A,", ")+" }"}return String(t)};function HB(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Qme(e){return Qa.call(String(e),/"/g,"&quot;")}function IS(e){return As(e)==="[object Array]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function eve(e){return As(e)==="[object Date]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function eN(e){return As(e)==="[object RegExp]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function tve(e){return As(e)==="[object Error]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function nve(e){return As(e)==="[object String]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function rve(e){return As(e)==="[object Number]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function ive(e){return As(e)==="[object Boolean]"&&(!Sr||!(typeof e=="object"&&Sr in e))}function VB(e){if(hc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!AS)return!1;try{return AS.call(e),!0}catch{}return!1}function ove(e){if(!e||typeof e!="object"||!OS)return!1;try{return OS.call(e),!0}catch{}return!1}var ave=Object.prototype.hasOwnProperty||function(e){return e in this};function Ga(e,t){return ave.call(e,t)}function As(e){return Xme.call(e)}function sve(e){if(e.name)return e.name;var t=Kme.call(qme.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function WB(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function uve(e){if(!Jv||!e||typeof e!="object")return!1;try{Jv.call(e);try{Zv.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function lve(e){if(!gh||!e||typeof e!="object")return!1;try{gh.call(e,gh);try{yh.call(e,yh)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function cve(e){if(!Wk||!e||typeof e!="object")return!1;try{return Wk.call(e),!0}catch{}return!1}function fve(e){if(!Zv||!e||typeof e!="object")return!1;try{Zv.call(e);try{Jv.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function hve(e){if(!yh||!e||typeof e!="object")return!1;try{yh.call(e,yh);try{gh.call(e,gh)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function dve(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function XB(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return XB(yC.call(e,0,t.maxStringLength),t)+r}var i=Qa.call(Qa.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,pve);return HB(i,"single",t)}function pve(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Yme.call(t.toString(16))}function If(e){return"Object("+e+")"}function bb(e){return e+" { ? }"}function tN(e,t,n,r){var i=r?RS(n,r):Eo.call(n,", ");return e+" ("+t+") {"+i+"}"}function mve(e){for(var t=0;t<e.length;t++)if(WB(e[t],`
`)>=0)return!1;return!0}function vve(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Eo.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Eo.call(Array(t+1),n)}}function RS(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Eo.call(e,","+n)+`
`+t.prev}function em(e,t){var n=IS(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Ga(e,i)?t(e[i],e):""}var o=typeof xb=="function"?xb(e):[],a;if(hc){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var u in e)Ga(e,u)&&(n&&String(Number(u))===u&&u<e.length||hc&&a["$"+u]instanceof Symbol||(GB.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if(typeof xb=="function")for(var l=0;l<o.length;l++)zB.call(e,o[l])&&r.push("["+t(o[l])+"]: "+t(e[o[l]],e));return r}var qB=Dc,Bc=jme,gve=Zme,yve=Ad,tm=qB("%WeakMap%",!0),nm=qB("%Map%",!0),_ve=Bc("WeakMap.prototype.get",!0),xve=Bc("WeakMap.prototype.set",!0),bve=Bc("WeakMap.prototype.has",!0),Sve=Bc("Map.prototype.get",!0),wve=Bc("Map.prototype.set",!0),Eve=Bc("Map.prototype.has",!0),_C=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},Tve=function(e,t){var n=_C(e,t);return n&&n.value},Cve=function(e,t,n){var r=_C(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},Ove=function(e,t){return!!_C(e,t)},Ave=function(){var t,n,r,i={assert:function(o){if(!i.has(o))throw new yve("Side channel does not contain "+gve(o))},get:function(o){if(tm&&o&&(typeof o=="object"||typeof o=="function")){if(t)return _ve(t,o)}else if(nm){if(n)return Sve(n,o)}else if(r)return Tve(r,o)},has:function(o){if(tm&&o&&(typeof o=="object"||typeof o=="function")){if(t)return bve(t,o)}else if(nm){if(n)return Eve(n,o)}else if(r)return Ove(r,o);return!1},set:function(o,a){tm&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new tm),xve(t,o,a)):nm?(n||(n=new nm),wve(n,o,a)):(r||(r={key:{},next:null}),Cve(r,o,a))}};return i},Pve=String.prototype.replace,Ive=/%20/g,Sb={RFC1738:"RFC1738",RFC3986:"RFC3986"},xC={default:Sb.RFC3986,formatters:{RFC1738:function(e){return Pve.call(e,Ive,"+")},RFC3986:function(e){return String(e)}},RFC1738:Sb.RFC1738,RFC3986:Sb.RFC3986},Rve=xC,wb=Object.prototype.hasOwnProperty,ru=Array.isArray,bo=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),kve=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(ru(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},KB=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Nve=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(ru(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!wb.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return ru(t)&&!ru(n)&&(i=KB(t,r)),ru(t)&&ru(n)?(n.forEach(function(o,a){if(wb.call(t,a)){var s=t[a];s&&typeof s=="object"&&o&&typeof o=="object"?t[a]=e(s,o,r):t.push(o)}else t[a]=o}),t):Object.keys(n).reduce(function(o,a){var s=n[a];return wb.call(o,a)?o[a]=e(o[a],s,r):o[a]=s,o},i)},Lve=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Mve=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Fve=function(t,n,r,i,o){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var s="",u=0;u<a.length;++u){var l=a.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===Rve.RFC1738&&(l===40||l===41)){s+=a.charAt(u);continue}if(l<128){s=s+bo[l];continue}if(l<2048){s=s+(bo[192|l>>6]+bo[128|l&63]);continue}if(l<55296||l>=57344){s=s+(bo[224|l>>12]+bo[128|l>>6&63]+bo[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|a.charCodeAt(u)&1023),s+=bo[240|l>>18]+bo[128|l>>12&63]+bo[128|l>>6&63]+bo[128|l&63]}return s},Dve=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],f=a[l];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(n.push({obj:a,prop:l}),r.push(f))}return kve(n),t},Bve=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},jve=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},$ve=function(t,n){return[].concat(t,n)},Uve=function(t,n){if(ru(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},YB={arrayToObject:KB,assign:Lve,combine:$ve,compact:Dve,decode:Mve,encode:Fve,isBuffer:jve,isRegExp:Bve,maybeMap:Uve,merge:Nve},JB=Ave,Km=YB,_h=xC,Gve=Object.prototype.hasOwnProperty,ZB={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},wo=Array.isArray,zve=Array.prototype.push,QB=function(e,t){zve.apply(e,wo(t)?t:[t])},Hve=Date.prototype.toISOString,nN=_h.default,Mn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Km.encode,encodeValuesOnly:!1,format:nN,formatter:_h.formatters[nN],indices:!1,serializeDate:function(t){return Hve.call(t)},skipNulls:!1,strictNullHandling:!1},Vve=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Eb={},Wve=function e(t,n,r,i,o,a,s,u,l,f,d,p,m,v,_,y,x,b){for(var w=t,T=b,C=0,O=!1;(T=T.get(Eb))!==void 0&&!O;){var A=T.get(t);if(C+=1,typeof A<"u"){if(A===C)throw new RangeError("Cyclic object value");O=!0}typeof T.get(Eb)>"u"&&(C=0)}if(typeof f=="function"?w=f(n,w):w instanceof Date?w=m(w):r==="comma"&&wo(w)&&(w=Km.maybeMap(w,function(fe){return fe instanceof Date?m(fe):fe})),w===null){if(a)return l&&!y?l(n,Mn.encoder,x,"key",v):n;w=""}if(Vve(w)||Km.isBuffer(w)){if(l){var M=y?n:l(n,Mn.encoder,x,"key",v);return[_(M)+"="+_(l(w,Mn.encoder,x,"value",v))]}return[_(n)+"="+_(String(w))]}var D=[];if(typeof w>"u")return D;var B;if(r==="comma"&&wo(w))y&&l&&(w=Km.maybeMap(w,l)),B=[{value:w.length>0?w.join(",")||null:void 0}];else if(wo(f))B=f;else{var G=Object.keys(w);B=d?G.sort(d):G}var U=u?n.replace(/\./g,"%2E"):n,H=i&&wo(w)&&w.length===1?U+"[]":U;if(o&&wo(w)&&w.length===0)return H+"[]";for(var Q=0;Q<B.length;++Q){var ee=B[Q],ne=typeof ee=="object"&&typeof ee.value<"u"?ee.value:w[ee];if(!(s&&ne===null)){var ce=p&&u?ee.replace(/\./g,"%2E"):ee,Ae=wo(w)?typeof r=="function"?r(H,ce):H:H+(p?"."+ce:"["+ce+"]");b.set(t,C);var pe=JB();pe.set(Eb,b),QB(D,e(ne,Ae,r,i,o,a,s,u,r==="comma"&&y&&wo(w)?null:l,f,d,p,m,v,_,y,x,pe))}}return D},Xve=function(t){if(!t)return Mn;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Mn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=_h.default;if(typeof t.format<"u"){if(!Gve.call(_h.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=_h.formatters[r],o=Mn.filter;(typeof t.filter=="function"||wo(t.filter))&&(o=t.filter);var a;if(t.arrayFormat in ZB?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Mn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Mn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Mn.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Mn.allowEmptyArrays,arrayFormat:a,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Mn.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Mn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Mn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Mn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Mn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Mn.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Mn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Mn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Mn.strictNullHandling}},qve=function(e,t){var n=e,r=Xve(t),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):wo(r.filter)&&(o=r.filter,i=o);var a=[];if(typeof n!="object"||n===null)return"";var s=ZB[r.arrayFormat],u=s==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var l=JB(),f=0;f<i.length;++f){var d=i[f];r.skipNulls&&n[d]===null||QB(a,Wve(n[d],d,s,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var p=a.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""},dc=YB,kS=Object.prototype.hasOwnProperty,Kve=Array.isArray,bn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:dc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Yve=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},ej=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Jve="utf8=%26%2310003%3B",Zve="utf8=%E2%9C%93",Qve=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,o),s=-1,u,l=n.charset;if(n.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===Zve?l="utf-8":a[u]===Jve&&(l="iso-8859-1"),s=u,u=a.length);for(u=0;u<a.length;++u)if(u!==s){var f=a[u],d=f.indexOf("]="),p=d===-1?f.indexOf("="):d+1,m,v;p===-1?(m=n.decoder(f,bn.decoder,l,"key"),v=n.strictNullHandling?null:""):(m=n.decoder(f.slice(0,p),bn.decoder,l,"key"),v=dc.maybeMap(ej(f.slice(p+1),n),function(y){return n.decoder(y,bn.decoder,l,"value")})),v&&n.interpretNumericEntities&&l==="iso-8859-1"&&(v=Yve(v)),f.indexOf("[]=")>-1&&(v=Kve(v)?[v]:v);var _=kS.call(r,m);_&&n.duplicates==="combine"?r[m]=dc.combine(r[m],v):(!_||n.duplicates==="last")&&(r[m]=v)}return r},ege=function(e,t,n,r){for(var i=r?t:ej(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&i===""?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,f=parseInt(l,10);!n.parseArrays&&l===""?a={0:i}:!isNaN(f)&&s!==l&&String(f)===l&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(a=[],a[f]=i):l!=="__proto__"&&(a[l]=i)}i=a}return i},tge=function(t,n,r,i){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=r.depth>0&&a.exec(o),l=u?o.slice(0,u.index):o,f=[];if(l){if(!r.plainObjects&&kS.call(Object.prototype,l)&&!r.allowPrototypes)return;f.push(l)}for(var d=0;r.depth>0&&(u=s.exec(o))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&kS.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+o.slice(u.index)+"]"),ege(f,n,r,i)}},nge=function(t){if(!t)return bn;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?bn.charset:t.charset,r=typeof t.duplicates>"u"?bn.duplicates:t.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:bn.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:bn.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:bn.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:bn.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:bn.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:bn.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:bn.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:bn.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:bn.decoder,delimiter:typeof t.delimiter=="string"||dc.isRegExp(t.delimiter)?t.delimiter:bn.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:bn.depth,duplicates:r,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:bn.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:bn.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:bn.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:bn.strictNullHandling}},rge=function(e,t){var n=nge(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?Qve(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],u=tge(s,r[s],n,typeof e=="string");i=dc.merge(i,u,n)}return n.allowSparse===!0?i:dc.compact(i)},ige=qve,oge=rge,age=xC,sge={formats:age,parse:oge,stringify:ige},uge=zpe;function io(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var lge=/^([a-z0-9.+-]+:)/i,cge=/:[0-9]*$/,fge=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,hge=["<",">",'"',"`"," ","\r",`
`,"	"],dge=["{","}","|","\\","^","`"].concat(hge),NS=["'"].concat(dge),rN=["%","/","?",";","#"].concat(NS),iN=["/","?","#"],pge=255,oN=/^[+a-z0-9A-Z_-]{0,63}$/,mge=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vge={javascript:!0,"javascript:":!0},LS={javascript:!0,"javascript:":!0},Yl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},MS=sge;function By(e,t,n){if(e&&typeof e=="object"&&e instanceof io)return e;var r=new io;return r.parse(e,t,n),r}io.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var u=fge.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=MS.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=lge.exec(s);if(l){l=l[0];var f=l.toLowerCase();this.protocol=f,s=s.substr(l.length)}if(n||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var d=s.substr(0,2)==="//";d&&!(l&&LS[l])&&(s=s.substr(2),this.slashes=!0)}if(!LS[l]&&(d||l&&!Yl[l])){for(var p=-1,m=0;m<iN.length;m++){var v=s.indexOf(iN[m]);v!==-1&&(p===-1||v<p)&&(p=v)}var _,y;p===-1?y=s.lastIndexOf("@"):y=s.lastIndexOf("@",p),y!==-1&&(_=s.slice(0,y),s=s.slice(y+1),this.auth=decodeURIComponent(_)),p=-1;for(var m=0;m<rN.length;m++){var v=s.indexOf(rN[m]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var b=this.hostname.split(/\./),m=0,w=b.length;m<w;m++){var T=b[m];if(T&&!T.match(oN)){for(var C="",O=0,A=T.length;O<A;O++)T.charCodeAt(O)>127?C+="x":C+=T[O];if(!C.match(oN)){var M=b.slice(0,m),D=b.slice(m+1),B=T.match(mge);B&&(M.push(B[1]),D.unshift(B[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=M.join(".");break}}}this.hostname.length>pge?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=uge.toASCII(this.hostname));var G=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+G,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!vge[f])for(var m=0,w=NS.length;m<w;m++){var H=NS[m];if(s.indexOf(H)!==-1){var Q=encodeURIComponent(H);Q===H&&(Q=escape(H)),s=s.split(H).join(Q)}}var ee=s.indexOf("#");ee!==-1&&(this.hash=s.substr(ee),s=s.slice(0,ee));var ne=s.indexOf("?");if(ne!==-1?(this.search=s.substr(ne),this.query=s.substr(ne+1),t&&(this.query=MS.parse(this.query)),s=s.slice(0,ne)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Yl[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",ce=this.search||"";this.path=G+ce}return this.href=this.format(),this};function gge(e){return typeof e=="string"&&(e=By(e)),e instanceof io?e.format():io.prototype.format.call(e)}io.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=MS.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Yl[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};function yge(e,t){return By(e,!1,!0).resolve(t)}io.prototype.resolve=function(e){return this.resolveObject(By(e,!1,!0)).format()};io.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new io;t.parse(e,!1,!0),e=t}for(var n=new io,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];u!=="protocol"&&(n[u]=e[u])}return Yl[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Yl[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var d=l[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!LS[e.protocol]){for(var w=(e.pathname||"").split("/");w.length&&!(e.host=w.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",_=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=_||v||n.host&&e.pathname,x=y,b=n.pathname&&n.pathname.split("/")||[],w=e.pathname&&e.pathname.split("/")||[],T=n.protocol&&!Yl[n.protocol];if(T&&(n.hostname="",n.port=null,n.host&&(b[0]===""?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(w[0]===""?w[0]=e.host:w.unshift(e.host)),e.host=null),y=y&&(w[0]===""||b[0]==="")),_)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=w;else if(w.length)b||(b=[]),b.pop(),b=b.concat(w),n.search=e.search,n.query=e.query;else if(e.search!=null){if(T){n.host=b.shift(),n.hostname=n.host;var C=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;C&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=b.slice(-1)[0],A=(n.host||e.host||b.length>1)&&(O==="."||O==="..")||O==="",M=0,D=b.length;D>=0;D--)O=b[D],O==="."?b.splice(D,1):O===".."?(b.splice(D,1),M++):M&&(b.splice(D,1),M--);if(!y&&!x)for(;M--;M)b.unshift("..");y&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),A&&b.join("/").substr(-1)!=="/"&&b.push("");var B=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(T){n.hostname=B?"":b.length?b.shift():"",n.host=n.hostname;var C=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;C&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)}return y=y||n.host&&b.length,y&&!B&&b.unshift(""),b.length>0?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};io.prototype.parseHost=function(){var e=this.host,t=cge.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var _ge=By,xge=yge,bge=gge;/*!
 * @pixi/utils - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cu={parse:_ge,format:bge,resolve:xge};function Vi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function aN(e){var t=e.split("?")[0];return t.split("#")[0]}function Sge(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wge(e,t,n){return e.replace(new RegExp(Sge(t),"g"),n)}function Ege(e,t){for(var n="",r=0,i=-1,o=0,a,s=0;s<=e.length;++s){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=s,o=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o!==-1?++o:o=-1}return n}var tj={toPosix:function(e){return wge(e,"\\","/")},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol:function(e){Vi(e),e=this.toPosix(e);var t="",n=/^file:\/\/\//.exec(e),r=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);if(n||r||i){var o=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);t=o,e=e.slice(o.length)}return t},toAbsolute:function(e,t,n){if(this.isDataUrl(e))return e;var r=aN(this.toPosix(t??Pe.ADAPTER.getBaseUrl())),i=aN(this.toPosix(n??this.rootname(r)));if(Vi(e),e=this.toPosix(e),e.startsWith("/"))return tj.join(i,e.slice(1));var o=this.isAbsolute(e)?e:this.join(r,e);return o},normalize:function(e){if(e=this.toPosix(e),Vi(e),e.length===0)return".";var t="",n=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var r=e.endsWith("/");return e=Ege(e,!1),e.length>0&&r&&(e+="/"),n?"/"+e:t+e},isAbsolute:function(e){return Vi(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join:function(){for(var e=arguments,t,n=[],r=0;r<arguments.length;r++)n[r]=e[r];if(n.length===0)return".";for(var i,o=0;o<n.length;++o){var a=n[o];if(Vi(a),a.length>0)if(i===void 0)i=a;else{var s=(t=n[o-1])!==null&&t!==void 0?t:"";this.extname(s)?i+="/../"+a:i+="/"+a}}return i===void 0?".":this.normalize(i)},dirname:function(e){if(Vi(e),e.length===0)return".";e=this.toPosix(e);var t=e.charCodeAt(0),n=t===47,r=-1,i=!0,o=this.getProtocol(e),a=e;e=e.slice(o.length);for(var s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!i){r=s;break}}else i=!1;return r===-1?n?"/":this.isUrl(a)?o+e:o:n&&r===1?"//":o+e.slice(0,r)},rootname:function(e){Vi(e),e=this.toPosix(e);var t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){var n=e.indexOf("/",t.length);n!==-1?t=e.slice(0,n):t=e,t.endsWith("/")||(t+="/")}return t},basename:function(e,t){Vi(e),t&&Vi(t),e=this.toPosix(e);var n=0,r=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,s=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!i){n=o+1;break}}else s===-1&&(i=!1,s=o+1),a>=0&&(u===t.charCodeAt(a)?--a===-1&&(r=o):(a=-1,r=s))}return n===r?r=s:r===-1&&(r=e.length),e.slice(n,r)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!i){n=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":e.slice(n,r)},extname:function(e){Vi(e),e=this.toPosix(e);for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(s===47){if(!i){n=a+1;break}continue}r===-1&&(i=!1,r=a+1),s===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===n+1?"":e.slice(t,r)},parse:function(e){Vi(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=this.toPosix(e);var n=e.charCodeAt(0),r=this.isAbsolute(e),i;t.root=this.rootname(e),r||this.hasProtocol(e)?i=1:i=0;for(var o=-1,a=0,s=-1,u=!0,l=e.length-1,f=0;l>=i;--l){if(n=e.charCodeAt(l),n===47){if(!u){a=l+1;break}continue}s===-1&&(u=!1,s=l+1),n===46?o===-1?o=l:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||s===-1||f===0||f===1&&o===s-1&&o===a+1?s!==-1&&(a===0&&r?t.base=t.name=e.slice(1,s):t.base=t.name=e.slice(a,s)):(a===0&&r?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(a,o),t.base=e.slice(a,s)),t.ext=e.slice(o,s)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};Pe.RETINA_PREFIX=/@([0-9\.]+)x/;Pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var FS=!1,sN="6.5.10";function Tge(){FS=!0}function nj(e){var t;if(!FS){if(Pe.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var n=[`
 %c %c %c PixiJS `+sN+" -  "+e+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,n)}else globalThis.console&&globalThis.console.log("PixiJS "+sN+" - "+e+" - http://www.pixijs.com/");FS=!0}}var Tb;function rj(){return typeof Tb>"u"&&(Tb=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Pe.ADAPTER.getWebGLRenderingContext())return!1;var n=Pe.ADAPTER.createCanvas(),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),i=!!(r&&r.getContextAttributes().stencil);if(r){var o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,i}catch{return!1}}()),Tb}var Cge="#f0f8ff",Oge="#faebd7",Age="#00ffff",Pge="#7fffd4",Ige="#f0ffff",Rge="#f5f5dc",kge="#ffe4c4",Nge="#000000",Lge="#ffebcd",Mge="#0000ff",Fge="#8a2be2",Dge="#a52a2a",Bge="#deb887",jge="#5f9ea0",$ge="#7fff00",Uge="#d2691e",Gge="#ff7f50",zge="#6495ed",Hge="#fff8dc",Vge="#dc143c",Wge="#00ffff",Xge="#00008b",qge="#008b8b",Kge="#b8860b",Yge="#a9a9a9",Jge="#006400",Zge="#a9a9a9",Qge="#bdb76b",eye="#8b008b",tye="#556b2f",nye="#ff8c00",rye="#9932cc",iye="#8b0000",oye="#e9967a",aye="#8fbc8f",sye="#483d8b",uye="#2f4f4f",lye="#2f4f4f",cye="#00ced1",fye="#9400d3",hye="#ff1493",dye="#00bfff",pye="#696969",mye="#696969",vye="#1e90ff",gye="#b22222",yye="#fffaf0",_ye="#228b22",xye="#ff00ff",bye="#dcdcdc",Sye="#f8f8ff",wye="#daa520",Eye="#ffd700",Tye="#808080",Cye="#008000",Oye="#adff2f",Aye="#808080",Pye="#f0fff0",Iye="#ff69b4",Rye="#cd5c5c",kye="#4b0082",Nye="#fffff0",Lye="#f0e68c",Mye="#fff0f5",Fye="#e6e6fa",Dye="#7cfc00",Bye="#fffacd",jye="#add8e6",$ye="#f08080",Uye="#e0ffff",Gye="#fafad2",zye="#d3d3d3",Hye="#90ee90",Vye="#d3d3d3",Wye="#ffb6c1",Xye="#ffa07a",qye="#20b2aa",Kye="#87cefa",Yye="#778899",Jye="#778899",Zye="#b0c4de",Qye="#ffffe0",e_e="#00ff00",t_e="#32cd32",n_e="#faf0e6",r_e="#ff00ff",i_e="#800000",o_e="#66cdaa",a_e="#0000cd",s_e="#ba55d3",u_e="#9370db",l_e="#3cb371",c_e="#7b68ee",f_e="#00fa9a",h_e="#48d1cc",d_e="#c71585",p_e="#191970",m_e="#f5fffa",v_e="#ffe4e1",g_e="#ffe4b5",y_e="#ffdead",__e="#000080",x_e="#fdf5e6",b_e="#808000",S_e="#6b8e23",w_e="#ffa500",E_e="#ff4500",T_e="#da70d6",C_e="#eee8aa",O_e="#98fb98",A_e="#afeeee",P_e="#db7093",I_e="#ffefd5",R_e="#ffdab9",k_e="#cd853f",N_e="#ffc0cb",L_e="#dda0dd",M_e="#b0e0e6",F_e="#800080",D_e="#663399",B_e="#ff0000",j_e="#bc8f8f",$_e="#4169e1",U_e="#8b4513",G_e="#fa8072",z_e="#f4a460",H_e="#2e8b57",V_e="#fff5ee",W_e="#a0522d",X_e="#c0c0c0",q_e="#87ceeb",K_e="#6a5acd",Y_e="#708090",J_e="#708090",Z_e="#fffafa",Q_e="#00ff7f",e0e="#4682b4",t0e="#d2b48c",n0e="#008080",r0e="#d8bfd8",i0e="#ff6347",o0e="#40e0d0",a0e="#ee82ee",s0e="#f5deb3",u0e="#ffffff",l0e="#f5f5f5",c0e="#ffff00",f0e="#9acd32",h0e={aliceblue:Cge,antiquewhite:Oge,aqua:Age,aquamarine:Pge,azure:Ige,beige:Rge,bisque:kge,black:Nge,blanchedalmond:Lge,blue:Mge,blueviolet:Fge,brown:Dge,burlywood:Bge,cadetblue:jge,chartreuse:$ge,chocolate:Uge,coral:Gge,cornflowerblue:zge,cornsilk:Hge,crimson:Vge,cyan:Wge,darkblue:Xge,darkcyan:qge,darkgoldenrod:Kge,darkgray:Yge,darkgreen:Jge,darkgrey:Zge,darkkhaki:Qge,darkmagenta:eye,darkolivegreen:tye,darkorange:nye,darkorchid:rye,darkred:iye,darksalmon:oye,darkseagreen:aye,darkslateblue:sye,darkslategray:uye,darkslategrey:lye,darkturquoise:cye,darkviolet:fye,deeppink:hye,deepskyblue:dye,dimgray:pye,dimgrey:mye,dodgerblue:vye,firebrick:gye,floralwhite:yye,forestgreen:_ye,fuchsia:xye,gainsboro:bye,ghostwhite:Sye,goldenrod:wye,gold:Eye,gray:Tye,green:Cye,greenyellow:Oye,grey:Aye,honeydew:Pye,hotpink:Iye,indianred:Rye,indigo:kye,ivory:Nye,khaki:Lye,lavenderblush:Mye,lavender:Fye,lawngreen:Dye,lemonchiffon:Bye,lightblue:jye,lightcoral:$ye,lightcyan:Uye,lightgoldenrodyellow:Gye,lightgray:zye,lightgreen:Hye,lightgrey:Vye,lightpink:Wye,lightsalmon:Xye,lightseagreen:qye,lightskyblue:Kye,lightslategray:Yye,lightslategrey:Jye,lightsteelblue:Zye,lightyellow:Qye,lime:e_e,limegreen:t_e,linen:n_e,magenta:r_e,maroon:i_e,mediumaquamarine:o_e,mediumblue:a_e,mediumorchid:s_e,mediumpurple:u_e,mediumseagreen:l_e,mediumslateblue:c_e,mediumspringgreen:f_e,mediumturquoise:h_e,mediumvioletred:d_e,midnightblue:p_e,mintcream:m_e,mistyrose:v_e,moccasin:g_e,navajowhite:y_e,navy:__e,oldlace:x_e,olive:b_e,olivedrab:S_e,orange:w_e,orangered:E_e,orchid:T_e,palegoldenrod:C_e,palegreen:O_e,paleturquoise:A_e,palevioletred:P_e,papayawhip:I_e,peachpuff:R_e,peru:k_e,pink:N_e,plum:L_e,powderblue:M_e,purple:F_e,rebeccapurple:D_e,red:B_e,rosybrown:j_e,royalblue:$_e,saddlebrown:U_e,salmon:G_e,sandybrown:z_e,seagreen:H_e,seashell:V_e,sienna:W_e,silver:X_e,skyblue:q_e,slateblue:K_e,slategray:Y_e,slategrey:J_e,snow:Z_e,springgreen:Q_e,steelblue:e0e,tan:t0e,teal:n0e,thistle:r0e,tomato:i0e,turquoise:o0e,violet:a0e,wheat:s0e,white:u0e,whitesmoke:l0e,yellow:c0e,yellowgreen:f0e};function In(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function bC(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function SC(e){return typeof e=="string"&&(e=h0e[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function Jr(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function d0e(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[ze.NORMAL_NPM]=ze.NORMAL,e[ze.ADD_NPM]=ze.ADD,e[ze.SCREEN_NPM]=ze.SCREEN,t[ze.NORMAL]=ze.NORMAL_NPM,t[ze.ADD]=ze.ADD_NPM,t[ze.SCREEN]=ze.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}var wC=d0e();function EC(e,t){return wC[t?1:0][e]}function ij(e,t,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function jy(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var n=e>>16&255,r=e>>8&255,i=e&255;return n=n*t+.5|0,r=r*t+.5|0,i=i*t+.5|0,(t*255<<24)+(n<<16)+(r<<8)+i}function TC(e,t,n,r){return n=n||new Float32Array(4),n[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(e&255)/255,(r||r===void 0)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function oj(e,t){t===void 0&&(t=null);var n=e*6;if(t=t||new Uint16Array(n),t.length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function $y(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var p0e={Float32Array,Uint32Array,Int32Array,Uint8Array};function m0e(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(n*4),s=null,u=0,o=0;o<e.length;o++){var l=t[o],f=e[o],d=$y(f);i[d]||(i[d]=new p0e[d](a)),s=i[d];for(var p=0;p<f.length;p++){var m=(p/l|0)*r+u,v=p%l;s[m+v]=f[p]}u+=l}return new Float32Array(a)}function Jh(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function DS(e){return!(e&e-1)&&!!e}function BS(e){var t=(e>65535?1:0)<<4;e>>>=t;var n=(e>255?1:0)<<3;return e>>>=n,t|=n,n=(e>15?1:0)<<2,e>>>=n,t|=n,n=(e>3?1:0)<<1,e>>>=n,t|=n,t|e>>1}function vu(e,t,n){var r=e.length,i;if(!(t>=r||n===0)){n=t+n>r?r-t:n;var o=r-n;for(i=t;i<o;++i)e[i]=e[i+n];e.length=o}}function fu(e){return e===0?0:e<0?-1:1}var v0e=0;function Ss(){return++v0e}var uN={};function kr(e,t,n){if(n===void 0&&(n=3),!uN[t]){var r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(r))),uN[t]=!0}}var jS={},Vr=Object.create(null),Ci=Object.create(null);function g0e(){var e;for(e in Vr)Vr[e].destroy();for(e in Ci)Ci[e].destroy()}function aj(){var e;for(e in Vr)delete Vr[e];for(e in Ci)delete Ci[e]}var $S=function(){function e(t,n,r){this.canvas=Pe.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=r||Pe.RESOLUTION,this.resize(t,n)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,n){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(n*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function sj(e){var t=e.width,n=e.height,r=e.getContext("2d",{willReadFrequently:!0}),i=r.getImageData(0,0,t,n),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},u=null,l,f,d;for(l=0;l<a;l+=4)o[l+3]!==0&&(f=l/4%t,d=~~(l/4/t),s.top===null&&(s.top=d),(s.left===null||f<s.left)&&(s.left=f),(s.right===null||s.right<f)&&(s.right=f+1),(s.bottom===null||s.bottom<d)&&(s.bottom=d));return s.top!==null&&(t=s.right-s.left,n=s.bottom-s.top+1,u=r.getImageData(s.left,s.top,t,n)),{height:n,width:t,data:u}}var uj=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function y0e(e){var t=uj.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}var rm;function lj(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,rm||(rm=document.createElement("a")),rm.href=e;var n=cu.parse(rm.href),r=!n.port&&t.port===""||n.port===t.port;return n.hostname!==t.hostname||!r||n.protocol!==t.protocol?"anonymous":""}function Zh(e,t){var n=Pe.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):t!==void 0?t:1}const _0e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Ci,CanvasRenderTarget:$S,DATA_URI:uj,EventEmitter:Fc,ProgramCache:jS,TextureCache:Vr,clearTextureCache:aj,correctBlendMode:EC,createIndicesForQuads:oj,decomposeDataUri:y0e,deprecation:kr,destroyTextureCache:g0e,determineCrossOrigin:lj,earcut:dC,getBufferType:$y,getResolutionOfUrl:Zh,hex2rgb:In,hex2string:bC,interleaveTypedArrays:m0e,isMobile:Ri,isPow2:DS,isWebGLSupported:rj,log2:BS,nextPow2:Jh,path:tj,premultiplyBlendMode:wC,premultiplyRgba:ij,premultiplyTint:jy,premultiplyTintToRgba:TC,removeItems:vu,rgb2hex:Jr,sayHello:nj,sign:fu,skipHello:Tge,string2hex:SC,trimCanvas:sj,uid:Ss,url:cu},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qh=Math.PI*2,cj=180/Math.PI,Bo=Math.PI/180,Bn;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Bn||(Bn={}));var ft=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x=t,this.y=n,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),im=[new ft,new ft,new ft,new ft],mt=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Bn.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height},e.prototype.intersects=function(t,n){if(!n){var r=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=r)return!1;var o=this.y<t.y?t.y:this.y,a=this.bottom>t.bottom?t.bottom:this.bottom;return a>o}var s=this.left,u=this.right,l=this.top,f=this.bottom;if(u<=s||f<=l)return!1;var d=im[0].set(t.left,t.top),p=im[1].set(t.left,t.bottom),m=im[2].set(t.right,t.top),v=im[3].set(t.right,t.bottom);if(m.x<=d.x||p.y<=d.y)return!1;var _=Math.sign(n.a*n.d-n.b*n.c);if(_===0||(n.apply(d,d),n.apply(p,p),n.apply(m,m),n.apply(v,v),Math.max(d.x,p.x,m.x,v.x)<=s||Math.min(d.x,p.x,m.x,v.x)>=u||Math.max(d.y,p.y,m.y,v.y)<=l||Math.min(d.y,p.y,m.y,v.y)>=f))return!1;var y=_*(p.y-d.y),x=_*(d.x-p.x),b=y*s+x*l,w=y*u+x*l,T=y*s+x*f,C=y*u+x*f;if(Math.max(b,w,T,C)<=y*d.x+x*d.y||Math.min(b,w,T,C)>=y*v.x+x*v.y)return!1;var O=_*(d.y-m.y),A=_*(m.x-d.x),M=O*s+A*l,D=O*u+A*l,B=O*s+A*f,G=O*u+A*f;return!(Math.max(M,D,B,G)<=O*d.x+A*d.y||Math.min(M,D,B,G)>=O*v.x+A*v.y)},e.prototype.pad=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this},e.prototype.fit=function(t){var n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,n){t===void 0&&(t=1),n===void 0&&(n=.001);var r=Math.ceil((this.x+this.width-n)*t)/t,i=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=i,this.height=o-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),fj=function(){function e(t,n,r){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=t,this.y=n,this.radius=r,this.type=Bn.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,n){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,o=this.y-n;return i*=i,o*=o,i+o<=r},e.prototype.getBounds=function(){return new mt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),hj=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=t,this.y=n,this.width=r,this.height=i,this.type=Bn.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1},e.prototype.getBounds=function(){return new mt(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),xh=function(){function e(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=Array.isArray(n[0])?n[0]:n;if(typeof i[0]!="number"){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Bn.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),n=new e(t);return n.closeStroke=this.closeStroke,n},e.prototype.contains=function(t,n){for(var r=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[o*2],u=this.points[o*2+1],l=this.points[a*2],f=this.points[a*2+1],d=u>n!=f>n&&t<(l-s)*((n-u)/(f-u))+s;d&&(r=!r)}return r},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,n){return t+", "+n},"")+"]")},e}(),dj=function(){function e(t,n,r,i,o){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=o,this.type=Bn.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;var i=t-(this.x+r),o=n-(this.y+r),a=r*r;if(i*i+o*o<=a||(i=t-(this.x+this.width-r),i*i+o*o<=a)||(o=n-(this.y+this.height-r),i*i+o*o<=a)||(i=t-(this.x+r),i*i+o*o<=a))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),es=function(){function e(t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=n}return e.prototype.clone=function(t,n){return t===void 0&&(t=this.cb),n===void 0&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Rn=function(){function e(t,n,r,i,o,a){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,n,r,i,o,a){return this.a=t,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,n){this.array||(this.array=new Float32Array(9));var r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(t,n){n=n||new ft;var r=t.x,i=t.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n},e.prototype.applyInverse=function(t,n){n=n||new ft;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return n.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n},e.prototype.translate=function(t,n){return this.tx+=t,this.ty+=n,this},e.prototype.scale=function(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this},e.prototype.rotate=function(t){var n=Math.cos(t),r=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=o*n-this.d*r,this.d=o*r+this.d*n,this.tx=a*n-this.ty*r,this.ty=a*r+this.ty*n,this},e.prototype.append=function(t){var n=this.a,r=this.b,i=this.c,o=this.d;return this.a=t.a*n+t.b*i,this.b=t.a*r+t.b*o,this.c=t.c*n+t.d*i,this.d=t.c*r+t.d*o,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,n,r,i,o,a,s,u,l){return this.a=Math.cos(s+l)*o,this.b=Math.sin(s+l)*o,this.c=-Math.sin(s-u)*a,this.d=Math.cos(s-u)*a,this.tx=t-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this},e.prototype.prepend=function(t){var n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var n=this.a,r=this.b,i=this.c,o=this.d,a=t.pivot,s=-Math.atan2(-i,o),u=Math.atan2(r,n),l=Math.abs(s+u);return l<1e-5||Math.abs(Qh-l)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*n+a.y*i),t.position.y=this.ty+(a.x*r+a.y*o),t},e.prototype.invert=function(){var t=this.a,n=this.b,r=this.c,i=this.d,o=this.tx,a=t*i-n*r;return this.a=i/a,this.b=-n/a,this.c=-r/a,this.d=t/a,this.tx=(r*this.ty-i*o)/a,this.ty=-(t*this.ty-n*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Qs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],eu=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],tu=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],nu=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],US=[],pj=[],om=Math.sign;function x0e(){for(var e=0;e<16;e++){var t=[];US.push(t);for(var n=0;n<16;n++)for(var r=om(Qs[e]*Qs[n]+tu[e]*eu[n]),i=om(eu[e]*Qs[n]+nu[e]*eu[n]),o=om(Qs[e]*tu[n]+tu[e]*nu[n]),a=om(eu[e]*tu[n]+nu[e]*nu[n]),s=0;s<16;s++)if(Qs[s]===r&&eu[s]===i&&tu[s]===o&&nu[s]===a){t.push(s);break}}for(var e=0;e<16;e++){var u=new Rn;u.set(Qs[e],eu[e],tu[e],nu[e],0,0),pj.push(u)}}x0e();var en={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Qs[e]},uY:function(e){return eu[e]},vX:function(e){return tu[e]},vY:function(e){return nu[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return US[e][t]},sub:function(e,t){return US[e][en.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?en.S:en.N:Math.abs(t)*2<=Math.abs(e)?e>0?en.E:en.W:t>0?e>0?en.SE:en.SW:e>0?en.NE:en.NW},matrixAppendRotationInv:function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=pj[en.inv(t)];i.tx=n,i.ty=r,e.append(i)}},CC=function(){function e(){this.worldTransform=new Rn,this.localTransform=new Rn,this.position=new es(this.onChange,this,0,0),this.scale=new es(this.onChange,this,1,1),this.pivot=new es(this.onChange,this,0,0),this.skew=new es(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pe.SORTABLE_CHILDREN=!1;var ed=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?mt.EMPTY:(t=t||new mt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,n){var r=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,u=t.ty,l=r*n.x+o*n.y+s,f=i*n.x+a*n.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)},e.prototype.addQuad=function(t){var n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,a=t[0],s=t[1];n=a<n?a:n,r=s<r?s:r,i=a>i?a:i,o=s>o?s:o,a=t[2],s=t[3],n=a<n?a:n,r=s<r?s:r,i=a>i?a:i,o=s>o?s:o,a=t[4],s=t[5],n=a<n?a:n,r=s<r?s:r,i=a>i?a:i,o=s>o?s:o,a=t[6],s=t[7],n=a<n?a:n,r=s<r?s:r,i=a>i?a:i,o=s>o?s:o,this.minX=n,this.minY=r,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,n,r,i,o){this.addFrameMatrix(t.worldTransform,n,r,i,o)},e.prototype.addFrameMatrix=function(t,n,r,i,o){var a=t.a,s=t.b,u=t.c,l=t.d,f=t.tx,d=t.ty,p=this.minX,m=this.minY,v=this.maxX,_=this.maxY,y=a*n+u*r+f,x=s*n+l*r+d;p=y<p?y:p,m=x<m?x:m,v=y>v?y:v,_=x>_?x:_,y=a*i+u*r+f,x=s*i+l*r+d,p=y<p?y:p,m=x<m?x:m,v=y>v?y:v,_=x>_?x:_,y=a*n+u*o+f,x=s*n+l*o+d,p=y<p?y:p,m=x<m?x:m,v=y>v?y:v,_=x>_?x:_,y=a*i+u*o+f,x=s*i+l*o+d,p=y<p?y:p,m=x<m?x:m,v=y>v?y:v,_=x>_?x:_,this.minX=p,this.minY=m,this.maxX=v,this.maxY=_},e.prototype.addVertexData=function(t,n,r){for(var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY,u=n;u<r;u+=2){var l=t[u],f=t[u+1];i=l<i?l:i,o=f<o?f:o,a=l>a?l:a,s=f>s?f:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s},e.prototype.addVertices=function(t,n,r,i){this.addVerticesMatrix(t.worldTransform,n,r,i)},e.prototype.addVerticesMatrix=function(t,n,r,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var s=t.a,u=t.b,l=t.c,f=t.d,d=t.tx,p=t.ty,m=this.minX,v=this.minY,_=this.maxX,y=this.maxY,x=r;x<i;x+=2){var b=n[x],w=n[x+1],T=s*b+l*w+d,C=f*w+u*b+p;m=Math.min(m,T-o),_=Math.max(_,T+o),v=Math.min(v,C-a),y=Math.max(y,C+a)}this.minX=m,this.minY=v,this.maxX=_,this.maxY=y},e.prototype.addBounds=function(t){var n=this.minX,r=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<n?t.minX:n,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,n){var r=t.minX>n.minX?t.minX:n.minX,i=t.minY>n.minY?t.minY:n.minY,o=t.maxX<n.maxX?t.maxX:n.maxX,a=t.maxY<n.maxY?t.maxY:n.maxY;if(r<=o&&i<=a){var s=this.minX,u=this.minY,l=this.maxX,f=this.maxY;this.minX=r<s?r:s,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=a>f?a:f}},e.prototype.addBoundsMatrix=function(t,n){this.addFrameMatrix(n,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,n){var r=t.minX>n.x?t.minX:n.x,i=t.minY>n.y?t.minY:n.y,o=t.maxX<n.x+n.width?t.maxX:n.x+n.width,a=t.maxY<n.y+n.height?t.maxY:n.y+n.height;if(r<=o&&i<=a){var s=this.minX,u=this.minY,l=this.maxX,f=this.maxY;this.minX=r<s?r:s,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=a>f?a:f}},e.prototype.pad=function(t,n){t===void 0&&(t=0),n===void 0&&(n=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n)},e.prototype.addFramePad=function(t,n,r,i,o,a){t-=o,n-=a,r+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GS=function(e,t){return GS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},GS(e,t)};function OC(e,t){GS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gn=function(e){OC(t,e);function t(){var n=e.call(this)||this;return n.tempDisplayObjectParent=null,n.transform=new CC,n.alpha=1,n.visible=!0,n.renderable=!0,n.cullable=!1,n.cullArea=null,n.parent=null,n.worldAlpha=1,n._lastSortedIndex=0,n._zIndex=0,n.filterArea=null,n.filters=null,n._enabledFilters=null,n._bounds=new ed,n._localBounds=null,n._boundsID=0,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._maskRefCount=0,n._destroyed=!1,n.isSprite=!1,n.isMask=!1,n}return t.mixin=function(n){for(var r=Object.keys(n),i=0;i<r.length;++i){var o=r[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(n,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(n,r){return n||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new mt),r=this._boundsRect),this._bounds.getRectangle(r)},t.prototype.getLocalBounds=function(n){n||(this._localBoundsRect||(this._localBoundsRect=new mt),n=this._localBoundsRect),this._localBounds||(this._localBounds=new ed);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,n);return this.parent=i,this.transform=r,this._bounds=o,this._bounds.updateID+=this._boundsID-a,s},t.prototype.toGlobal=function(n,r,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(n,r)},t.prototype.toLocal=function(n,r,i,o){return r&&(n=r.toGlobal(n,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(n,i)},t.prototype.setParent=function(n){if(!n||!n.addChild)throw new Error("setParent: Argument must be a Container");return n.addChild(this),n},t.prototype.setTransform=function(n,r,i,o,a,s,u,l,f){return n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),this.position.x=n,this.position.y=r,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=s,this.skew.y=u,this.pivot.x=l,this.pivot.y=f,this},t.prototype.destroy=function(n){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new AC),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var n=this.parent;return this.parent=this._tempDisplayObjectParent,n},t.prototype.disableTempParent=function(n){this.parent=n},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(n){this.transform.position.x=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(n){this.transform.position.y=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(n){this.transform.position.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(n){this.transform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(n){this.transform.pivot.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(n){this.transform.skew.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(n){this.transform.rotation=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*cj},set:function(n){this.transform.rotation=n*Bo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex=n,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var n=this;do{if(!n.visible)return!1;n=n.parent}while(n);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(n){if(this._mask!==n){if(this._mask){var r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=n,this._mask){var r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}},enumerable:!1,configurable:!0}),t}(Fc),AC=function(e){OC(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.sortDirty=null,n}return t}(gn);gn.prototype.displayObjectUpdateTransform=gn.prototype.updateTransform;function b0e(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var ur=function(e){OC(t,e);function t(){var n=e.call(this)||this;return n.children=[],n.sortableChildren=Pe.SORTABLE_CHILDREN,n.sortDirty=!1,n}return t.prototype.onChildrenChange=function(n){},t.prototype.addChild=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(r.length>1)for(var o=0;o<r.length;o++)this.addChild(r[o]);else{var a=r[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return r[0]},t.prototype.addChildAt=function(n,r){if(r<0||r>this.children.length)throw new Error(n+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(r,0,n),this._boundsID++,this.onChildrenChange(r),n.emit("added",this),this.emit("childAdded",n,this,r),n},t.prototype.swapChildren=function(n,r){if(n!==r){var i=this.getChildIndex(n),o=this.getChildIndex(r);this.children[i]=r,this.children[o]=n,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(n){var r=this.children.indexOf(n);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r},t.prototype.setChildIndex=function(n,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(n);vu(this.children,i,1),this.children.splice(r,0,n),this.onChildrenChange(r)},t.prototype.getChildAt=function(n){if(n<0||n>=this.children.length)throw new Error("getChildAt: Index ("+n+") does not exist.");return this.children[n]},t.prototype.removeChild=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(r.length>1)for(var o=0;o<r.length;o++)this.removeChild(r[o]);else{var a=r[0],s=this.children.indexOf(a);if(s===-1)return null;a.parent=null,a.transform._parentID=-1,vu(this.children,s,1),this._boundsID++,this.onChildrenChange(s),a.emit("removed",this),this.emit("childRemoved",a,this,s)}return r[0]},t.prototype.removeChildAt=function(n){var r=this.getChildAt(n);return r.parent=null,r.transform._parentID=-1,vu(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n),r},t.prototype.removeChildren=function(n,r){n===void 0&&(n=0),r===void 0&&(r=this.children.length);var i=n,o=r,a=o-i,s;if(a>0&&a<=o){s=this.children.splice(i,a);for(var u=0;u<s.length;++u)s[u].parent=null,s[u].transform&&(s[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(var u=0;u<s.length;++u)s[u].emit("removed",this),this.emit("childRemoved",s[u],this,u);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var n=!1,r=0,i=this.children.length;r<i;++r){var o=this.children[r];o._lastSortedIndex=r,!n&&o.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(b0e),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var n=0,r=this.children.length;n<r;++n){var i=this.children[n];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var n=0;n<this.children.length;n++){var r=this.children[n];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){var i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(n,r){r===void 0&&(r=!1);var i=e.prototype.getLocalBounds.call(this,n);if(!r)for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(n){var r=n.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&r.intersects(i,o))this._render(n);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var u=this.children[a],l=u.cullable;u.cullable=l||!this.cullArea,u.render(n),u.cullable=l}}},t.prototype.render=function(n){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(var r=0,i=this.children.length;r<i;++r)this.children[r].render(n)}},t.prototype.renderAdvanced=function(n){var r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<r.length;o++)r[o].enabled&&this._enabledFilters.push(r[o])}var a=r&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Sn.NONE));if(a&&n.batch.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&n.filter.push(this,this._enabledFilters),i&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(var o=0,s=this.children.length;o<s;++o)this.children[o].render(n)}a&&n.batch.flush(),i&&n.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&n.filter.pop()},t.prototype._render=function(n){},t.prototype.destroy=function(n){e.prototype.destroy.call(this),this.sortDirty=!1;var r=typeof n=="boolean"?n:n&&n.children,i=this.removeChildren(0,this.children.length);if(r)for(var o=0;o<i.length;++o)i[o].destroy(n)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(n){var r=this.getLocalBounds().width;r!==0?this.scale.x=n/r:this.scale.x=1,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(n){var r=this.getLocalBounds().height;r!==0?this.scale.y=n/r:this.scale.y=1,this._height=n},enumerable:!1,configurable:!0}),t}(gn);ur.prototype.containerUpdateTransform=ur.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bh=function(){return bh=Object.assign||function(t){for(var n=arguments,r,i=1,o=arguments.length;i<o;i++){r=n[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},bh.apply(this,arguments)},Nt;(function(e){e.Application="application",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Loader="loader",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser"})(Nt||(Nt={}));var lN=function(e){if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");var t=typeof e.extension!="object"?{type:e.extension}:e.extension;e=bh(bh({},t),{ref:e})}if(typeof e=="object")e=bh({},e);else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},Vo={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var e=arguments,t=this,n=[],r=0;r<arguments.length;r++)n[r]=e[r];return n.map(lN).forEach(function(i){i.type.forEach(function(o){var a,s;return(s=(a=t._removeHandlers)[o])===null||s===void 0?void 0:s.call(a,i)})}),this},add:function(){for(var e=arguments,t=this,n=[],r=0;r<arguments.length;r++)n[r]=e[r];return n.map(lN).forEach(function(i){i.type.forEach(function(o){var a=t._addHandlers,s=t._queue;a[o]?a[o](i):(s[o]=s[o]||[],s[o].push(i))})}),this},handle:function(e,t,n){var r=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(r[e]||i[e])throw new Error("Extension type "+e+" already has a handler");r[e]=t,i[e]=n;var o=this._queue;return o[e]&&(o[e].forEach(function(a){return t(a)}),delete o[e]),this},handleByMap:function(e,t){return this.handle(e,function(n){t[n.name]=n.ref},function(n){delete t[n.name]})},handleByList:function(e,t){return this.handle(e,function(n){var r,i;t.includes(n.ref)||(t.push(n.ref),e===Nt.Loader&&((i=(r=n.ref).add)===null||i===void 0||i.call(r)))},function(n){var r=t.indexOf(n.ref);r!==-1&&t.splice(r,1)})}};/*!
 * @pixi/runner - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kn=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,n,r,i,o,a,s,u){if(arguments.length>8)throw new Error("max arguments reached");var l=this,f=l.name,d=l.items;this._aliasCount++;for(var p=0,m=d.length;p<m;p++)d[p][f](t,n,r,i,o,a,s,u);return d===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var n=this.items.indexOf(t);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Kn.prototype,{dispatch:{value:Kn.prototype.emit},run:{value:Kn.prototype.emit}});/*!
 * @pixi/ticker - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pe.TARGET_FPMS=.06;var oo;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(oo||(oo={}));var Cb=function(){function e(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=n,this.priority=r,this.once=i}return e.prototype.match=function(t,n){return n===void 0&&(n=null),this.fn===t&&this.context===n},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=t?null:n,this.previous=null,n},e}(),cn=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cb(null,null,1/0),this.deltaMS=1/Pe.TARGET_FPMS,this.elapsedMS=1/Pe.TARGET_FPMS,this._tick=function(n){t._requestId=null,t.started&&(t.update(n),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,n,r){return r===void 0&&(r=oo.NORMAL),this._addListener(new Cb(t,n,r))},e.prototype.addOnce=function(t,n,r){return r===void 0&&(r=oo.NORMAL),this._addListener(new Cb(t,n,r,!0))},e.prototype._addListener=function(t){var n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(t,n){for(var r=this._head.next;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,n=this._head;n=n.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Pe.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,Pe.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),mj=function(){function e(){}return e.init=function(t){var n=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,oo.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?cn.shared:new cn,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e.extension=Nt.Application,e}();/*!
 * @pixi/core - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pe.PREFER_ENV=Ri.any?Do.WEBGL:Do.WEBGL2;Pe.STRICT_TEXTURE_CACHE=!1;var td=[];function Uy(e,t){if(!e)return null;var n="";if(typeof e=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=td.length-1;i>=0;--i){var o=td[i];if(o.test&&o.test(e,n))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zS=function(e,t){return zS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},zS(e,t)};function Vt(e,t){zS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var HS=function(){return HS=Object.assign||function(t){for(var n=arguments,r,i=1,o=arguments.length;i<o;i++){r=n[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},HS.apply(this,arguments)};function S0e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Cu=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Kn("setRealSize"),this.onUpdate=new Kn("update"),this.onError=new Kn("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,n){(t!==this._width||n!==this._height)&&(this._width=t,this._height=n,this.onResize.emit(t,n))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,n,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,n){return!1},e}(),Du=function(e){Vt(t,e);function t(n,r){var i=this,o=r||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,s)||this,i.data=n,i}return t.prototype.upload=function(n,r,i){var o=n.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Fi.UNPACK);var a=r.realWidth,s=r.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(r.target,0,0,0,a,s,r.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(r.target,0,i.internalFormat,a,s,0,r.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(n){return n instanceof Float32Array||n instanceof Uint8Array||n instanceof Uint32Array},t}(Cu),w0e={scaleMode:lr.NEAREST,format:Ce.RGBA,alphaMode:Fi.NPM},gt=function(e){Vt(t,e);function t(n,r){n===void 0&&(n=null),r===void 0&&(r=null);var i=e.call(this)||this;r=r||{};var o=r.alphaMode,a=r.mipmap,s=r.anisotropicLevel,u=r.scaleMode,l=r.width,f=r.height,d=r.wrapMode,p=r.format,m=r.type,v=r.target,_=r.resolution,y=r.resourceOptions;return n&&!(n instanceof Cu)&&(n=Uy(n,y),n.internal=!0),i.resolution=_||Pe.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((f||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:Pe.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Pe.ANISOTROPIC_LEVEL,i._wrapMode=d||Pe.WRAP_MODE,i._scaleMode=u!==void 0?u:Pe.SCALE_MODE,i.format=p||Ce.RGBA,i.type=m||He.UNSIGNED_BYTE,i.target=v||hs.TEXTURE_2D,i.alphaMode=o!==void 0?o:Fi.UNPACK,i.uid=Ss(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&f>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(n),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(n,r){var i;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(n,r,i){return i=i||this.resolution,this.setRealSize(n*i,r*i,i)},t.prototype.setRealSize=function(n,r,i){return this.resolution=i||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=DS(this.realWidth)&&DS(this.realHeight)},t.prototype.setResolution=function(n){var r=this.resolution;return r===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*r)/n,this.height=Math.round(this.height*r)/n,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(n){this.emit("error",this,n)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ci[this.cacheId],delete Vr[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(n,r,i){i===void 0&&(i=Pe.STRICT_TEXTURE_CACHE);var o=typeof n=="string",a=null;if(o)a=n;else{if(!n._pixiId){var s=r&&r.pixiIdPrefix||"pixiid";n._pixiId=s+"_"+Ss()}a=n._pixiId}var u=Ci[a];if(o&&i&&!u)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return u||(u=new t(n,r),u.cacheId=a,t.addToCache(u,a)),u},t.fromBuffer=function(n,r,i,o){n=n||new Float32Array(r*i*4);var a=new Du(n,{width:r,height:i}),s=n instanceof Float32Array?He.FLOAT:He.UNSIGNED_BYTE;return new t(a,Object.assign({},w0e,o||{width:r,height:i,type:s}))},t.addToCache=function(n,r){r&&(n.textureCacheIds.indexOf(r)===-1&&n.textureCacheIds.push(r),Ci[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Ci[r]=n)},t.removeFromCache=function(n){if(typeof n=="string"){var r=Ci[n];if(r){var i=r.textureCacheIds.indexOf(n);return i>-1&&r.textureCacheIds.splice(i,1),delete Ci[n],r}}else if(n&&n.textureCacheIds){for(var o=0;o<n.textureCacheIds.length;++o)delete Ci[n.textureCacheIds[o]];return n.textureCacheIds.length=0,n}return null},t._globalBatch=0,t}(Fc),Gy=function(e){Vt(t,e);function t(n,r){var i=this,o=r||{},a=o.width,s=o.height;i=e.call(this,a,s)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<n;u++){var l=new gt;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=n,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(n,r){for(var i=0;i<this.length;i++)n[i]&&(n[i].castToBaseTexture?this.addBaseTextureAt(n[i].castToBaseTexture(),i):n[i]instanceof Cu?this.addResourceAt(n[i],i):this.addResourceAt(Uy(n[i],r),i))},t.prototype.dispose=function(){for(var n=0,r=this.length;n<r;n++)this.items[n].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(n,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return n.valid&&!this.valid&&this.resize(n.width,n.height),this.items[r].setResource(n),this},t.prototype.bind=function(n){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,n);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=n,this.items[r].on("update",n.update,n)},t.prototype.unbind=function(n){e.prototype.unbind.call(this,n);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",n.update,n)},t.prototype.load=function(){var n=this;if(this._load)return this._load;var r=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=r.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=n.items[0],a=o.realWidth,s=o.realHeight;return n.resize(a,s),Promise.resolve(n)}),this._load},t}(Cu),PC=function(e){Vt(t,e);function t(n,r){var i=this,o=r||{},a=o.width,s=o.height,u,l;return Array.isArray(n)?(u=n,l=n.length):l=n,i=e.call(this,l,{width:a,height:s})||this,u&&i.initFromArray(u,r),i}return t.prototype.addBaseTextureAt=function(n,r){if(n.resource)this.addResourceAt(n.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(n){e.prototype.bind.call(this,n),n.target=hs.TEXTURE_2D_ARRAY},t.prototype.upload=function(n,r,i){var o=this,a=o.length,s=o.itemDirtyIds,u=o.items,l=n.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,r.format,i.type,null);for(var f=0;f<a;f++){var d=u[f];s[f]<d.dirtyId&&(s[f]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,f,d.resource.width,d.resource.height,1,r.format,i.type,d.resource.source))}return!0},t}(Gy),jo=function(e){Vt(t,e);function t(n){var r=this,i=n,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return r=e.call(this,o,a)||this,r.source=n,r.noSubImage=!1,r}return t.crossOrigin=function(n,r,i){i===void 0&&r.indexOf("data:")!==0?n.crossOrigin=lj(r):i!==!1&&(n.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(n,r,i,o){var a=n.gl,s=r.realWidth,u=r.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Fi.UNPACK),!this.noSubImage&&r.target===a.TEXTURE_2D&&i.width===s&&i.height===u?a.texSubImage2D(a.TEXTURE_2D,0,0,0,r.format,i.type,o):(i.width=s,i.height=u,a.texImage2D(r.target,0,i.internalFormat,r.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var n=this.source,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;this.resize(r,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Cu),IC=function(e){Vt(t,e);function t(n){return e.call(this,n)||this}return t.test=function(n){var r=globalThis.OffscreenCanvas;return r&&n instanceof r?!0:globalThis.HTMLCanvasElement&&n instanceof HTMLCanvasElement},t}(jo),RC=function(e){Vt(t,e);function t(n,r){var i=this,o=r||{},a=o.width,s=o.height,u=o.autoLoad,l=o.linkBaseTexture;if(n&&n.length!==t.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var f=0;f<t.SIDES;f++)i.items[f].target=hs.TEXTURE_CUBE_MAP_POSITIVE_X+f;return i.linkBaseTexture=l!==!1,n&&i.initFromArray(n,r),u!==!1&&i.load(),i}return t.prototype.bind=function(n){e.prototype.bind.call(this,n),n.target=hs.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(n,r,i){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=hs.TEXTURE_CUBE_MAP_POSITIVE_X+r,n.parentTextureArray=this.baseTexture,this.items[r]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[r]=n,this},t.prototype.upload=function(n,r,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var s=this.items[a];(o[a]<s.dirtyId||i.dirtyId<r.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(n,s,i),o[a]=s.dirtyId):o[a]<-1&&(n.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),o[a]=-1))}return!0},t.test=function(n){return Array.isArray(n)&&n.length===t.SIDES},t.SIDES=6,t}(Gy),zy=function(e){Vt(t,e);function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLImageElement)){var o=new Image;jo.crossOrigin(o,n,r.crossorigin),o.src=n,n=o}return i=e.call(this,n)||this,!n.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=n.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(r.createBitmap!==void 0?r.createBitmap:Pe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,i.bitmap=null,i._load=null,r.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(n){var r=this;return this._load?this._load:(n!==void 0&&(this.createBitmap=n),this._load=new Promise(function(i,o){var a=r.source;r.url=a.src;var s=function(){r.destroyed||(a.onload=null,a.onerror=null,r.resize(a.width,a.height),r._load=null,r.createBitmap?i(r.process()):i(r))};a.complete&&a.src?s():(a.onload=s,a.onerror=function(u){o(u),r.onError.emit(u)})}),this._load)},t.prototype.process=function(){var n=this,r=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!r.crossOrigin||r.crossOrigin==="anonymous";return this._process=fetch(r.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,r.width,r.height,{premultiplyAlpha:n.alphaMode===null||n.alphaMode===Fi.UNPACK?"premultiply":"none"})}).then(function(a){return n.destroyed?Promise.reject():(n.bitmap=a,n.update(),n._process=null,Promise.resolve(n))}),this._process},t.prototype.upload=function(n,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,n,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,n,r,i,this.bitmap),!this.preserveBitmap){var o=!0,a=r._glTextures;for(var s in a){var u=a[s];if(u!==i&&u.dirtyId!==r.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(n){return typeof n=="string"||n instanceof HTMLImageElement},t}(jo),kC=function(e){Vt(t,e);function t(n,r){var i=this;return r=r||{},i=e.call(this,Pe.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=n,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,r.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var n=this;return this._load?this._load:(this._load=new Promise(function(r){if(n._resolve=function(){n.resize(n.source.width,n.source.height),r(n)},t.SVG_XML.test(n.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");n.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n.svg)))}n._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var n=this,r=new Image;jo.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(i){n._resolve&&(r.onerror=null,n.onError.emit(i))},r.onload=function(){if(n._resolve){var i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*n.scale,s=o*n.scale;(n._overrideWidth||n._overrideHeight)&&(a=n._overrideWidth||n._overrideHeight/o*i,s=n._overrideHeight||n._overrideWidth/i*o),a=Math.round(a),s=Math.round(s);var u=n.source;u.width=a,u.height=s,u._pixiId="canvas_"+Ss(),u.getContext("2d").drawImage(r,0,0,i,o,0,0,a,s),n._resolve(),n._resolve=null}}},t.getSize=function(n){var r=t.SVG_SIZE.exec(n),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(n,r){return r==="svg"||typeof n=="string"&&n.startsWith("data:image/svg+xml")||typeof n=="string"&&t.SVG_XML.test(n)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(jo),Hy=function(e){Vt(t,e);function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);var a=n[0].src||n[0];jo.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var u=document.createElement("source"),l=n[s],f=l.src,d=l.mime;f=f||n[s];var p=f.split("?").shift().toLowerCase(),m=p.slice(p.lastIndexOf(".")+1);d=d||t.MIME_TYPES[m]||"video/"+m,u.src=f,u.type=d,o.appendChild(u)}n=o}return i=e.call(this,n)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=r.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),r.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(n){if(!this.destroyed){var r=cn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var n=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){n.valid?i(n):(n._resolve=i,r.load())}),this._load},t.prototype._onError=function(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)},t.prototype._isSourcePlaying=function(){var n=this.source;return!n.paused&&!n.ended&&this._isSourceReady()},t.prototype._isSourceReady=function(){var n=this.source;return n.readyState>2},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(n.videoWidth,n.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1);var n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(n){n!==this._updateFPS&&(this._updateFPS=n)},enumerable:!1,configurable:!0}),t.test=function(n,r){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(jo),NC=function(e){Vt(t,e);function t(n){return e.call(this,n)||this}return t.test=function(n){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&n instanceof ImageBitmap},t}(jo);td.push(zy,NC,IC,Hy,kC,Du,RC,PC);var vj={__proto__:null,Resource:Cu,BaseImageResource:jo,INSTALLED:td,autoDetectResource:Uy,AbstractMultiResource:Gy,ArrayResource:PC,BufferResource:Du,CanvasResource:IC,CubeResource:RC,ImageResource:zy,SVGResource:kC,VideoResource:Hy,ImageBitmapResource:NC},E0e=function(e){Vt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(n,r,i){var o=n.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Fi.UNPACK);var a=r.realWidth,s=r.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(r.target,0,0,0,a,s,r.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(r.target,0,i.internalFormat,a,s,0,r.format,i.type,this.data)),!0},t}(Du),Qv=function(){function e(t,n){this.width=Math.round(t||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Kn("disposeFramebuffer"),this.multisample=Yt.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,n){return t===void 0&&(t=0),this.colorTextures[t]=n||new gt(null,{scaleMode:lr.NEAREST,resolution:1,mipmap:br.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new gt(new E0e(null,{width:this.width,height:this.height}),{scaleMode:lr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:br.OFF,format:Ce.DEPTH_COMPONENT,type:He.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,n){if(t=Math.round(t),n=Math.round(n),!(t===this.width&&n===this.height)){this.width=t,this.height=n,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],o=i.resolution;i.setSize(t/o,n/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,n/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),LC=function(e){Vt(t,e);function t(n){n===void 0&&(n={});var r=this;if(typeof n=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];n={width:i,height:o,scaleMode:a,resolution:s}}return n.width=n.width||100,n.height=n.height||100,n.multisample=n.multisample!==void 0?n.multisample:Yt.NONE,r=e.call(this,null,n)||this,r.mipmap=br.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Qv(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=n.multisample,r.maskStack=[],r.filterStack=[{}],r}return t.prototype.resize=function(n,r){this.framebuffer.resize(n*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(gt),MC=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,n,r){var i=n.width,o=n.height;if(r){var a=t.width/2/i,s=t.height/2/o,u=t.x/i+a,l=t.y/o+s;r=en.add(r,en.NW),this.x0=u+a*en.uX(r),this.y0=l+s*en.uY(r),r=en.add(r,2),this.x1=u+a*en.uX(r),this.y1=l+s*en.uY(r),r=en.add(r,2),this.x2=u+a*en.uX(r),this.y2=l+s*en.uY(r),r=en.add(r,2),this.x3=u+a*en.uX(r),this.y3=l+s*en.uY(r)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),cN=new MC;function am(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var We=function(e){Vt(t,e);function t(n,r,i,o,a,s){var u=e.call(this)||this;if(u.noFrame=!1,r||(u.noFrame=!0,r=new mt(0,0,1,1)),n instanceof t&&(n=n.baseTexture),u.baseTexture=n,u._frame=r,u.trim=o,u.valid=!1,u._uvs=cN,u.uvMatrix=null,u.orig=i||r,u._rotate=Number(a||0),a===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new ft(s.x,s.y):new ft(0,0),u._updateID=0,u.textureCacheIds=[],n.valid?u.noFrame?n.valid&&u.onBaseTextureUpdated(n):u.frame=r:n.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&n.on("update",u.onBaseTextureUpdated,u),u}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(n){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=n.width,this._frame.height=n.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(n){if(this.baseTexture){if(n){var r=this.baseTexture.resource;r&&r.url&&Vr[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var n=this._frame.clone(),r=this._frame===this.orig?n:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&n,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=n),i},t.prototype.updateUvs=function(){this._uvs===cN&&(this._uvs=new MC),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(n,r,i){r===void 0&&(r={}),i===void 0&&(i=Pe.STRICT_TEXTURE_CACHE);var o=typeof n=="string",a=null;if(o)a=n;else if(n instanceof gt){if(!n.cacheId){var s=r&&r.pixiIdPrefix||"pixiid";n.cacheId=s+"-"+Ss(),gt.addToCache(n,n.cacheId)}a=n.cacheId}else{if(!n._pixiId){var s=r&&r.pixiIdPrefix||"pixiid";n._pixiId=s+"_"+Ss()}a=n._pixiId}var u=Vr[a];if(o&&i&&!u)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!u&&!(n instanceof gt)?(r.resolution||(r.resolution=Zh(n)),u=new t(new gt(n,r)),u.baseTexture.cacheId=a,gt.addToCache(u.baseTexture,a),t.addToCache(u,a)):!u&&n instanceof gt&&(u=new t(n),t.addToCache(u,a)),u},t.fromURL=function(n,r){var i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),o=t.from(n,Object.assign({resourceOptions:i},r),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(n,r,i,o){return new t(gt.fromBuffer(n,r,i,o))},t.fromLoader=function(n,r,i,o){var a=new gt(n,Object.assign({scaleMode:Pe.SCALE_MODE,resolution:Zh(r)},o)),s=a.resource;s instanceof zy&&(s.url=r);var u=new t(a);return i||(i=r),gt.addToCache(u.baseTexture,i),t.addToCache(u,i),i!==r&&(gt.addToCache(u.baseTexture,r),t.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(l){u.baseTexture.once("loaded",function(){return l(u)})})},t.addToCache=function(n,r){r&&(n.textureCacheIds.indexOf(r)===-1&&n.textureCacheIds.push(r),Vr[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),Vr[r]=n)},t.removeFromCache=function(n){if(typeof n=="string"){var r=Vr[n];if(r){var i=r.textureCacheIds.indexOf(n);return i>-1&&r.textureCacheIds.splice(i,1),delete Vr[n],r}}else if(n&&n.textureCacheIds){for(var o=0;o<n.textureCacheIds.length;++o)Vr[n.textureCacheIds[o]]===n&&delete Vr[n.textureCacheIds[o]];return n.textureCacheIds.length=0,n}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(n){this._frame=n,this.noFrame=!1;var r=n.x,i=n.y,o=n.width,a=n.height,s=r+o>this.baseTexture.width,u=i+a>this.baseTexture.height;if(s||u){var l=s&&u?"and":"or",f="X: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.width,d="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(f+" "+l+" "+d))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=n),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(n){this._rotate=n,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new gt),am(t._EMPTY),am(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var n=Pe.ADAPTER.createCanvas(16,16),r=n.getContext("2d");n.width=16,n.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),t._WHITE=new t(gt.from(n)),am(t._WHITE),am(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(Fc),ws=function(e){Vt(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(n){this.framebuffer.multisample=n},enumerable:!1,configurable:!0}),t.prototype.resize=function(n,r,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(n*o)/o,s=Math.round(r*o)/o;this.valid=a>0&&s>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(a,s),this.updateUvs()},t.prototype.setResolution=function(n){var r=this.baseTexture;r.resolution!==n&&(r.setResolution(n),this.resize(r.width,r.height,!1))},t.create=function(n){for(var r=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=r[o];return typeof n=="number"&&(kr("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),n={width:n,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new LC(n))},t}(We),gj=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,n,r){r===void 0&&(r=Yt.NONE);var i=new LC(Object.assign({width:t,height:n,resolution:1,multisample:r},this.textureOptions));return new ws(i)},e.prototype.getOptimalTexture=function(t,n,r,i){r===void 0&&(r=1),i===void 0&&(i=Yt.NONE);var o;t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||n!==this._pixelsHeight?(t=Jh(t),n=Jh(n),o=((t&65535)<<16|n&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(t,n,i)),a.filterPoolKey=o,a.setResolution(r),a},e.prototype.getFilterTexture=function(t,n,r){var i=this.getOptimalTexture(t.width,t.height,n||t.resolution,r||Yt.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var n=t.filterPoolKey;t.filterFrame=null,this.texturePool[n].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var n in this.texturePool){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var n in this.texturePool)if(Number(n)<0){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),VS=function(){function e(t,n,r,i,o,a,s){n===void 0&&(n=0),r===void 0&&(r=!1),i===void 0&&(i=He.FLOAT),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=o,this.start=a,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,n,r,i,o){return new e(t,n,r,i,o)},e}(),T0e=0,An=function(){function e(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=T0e++,this.disposeRunner=new Kn("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===ro.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?ro.ELEMENT_ARRAY_BUFFER:ro.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),C0e={Float32Array,Uint32Array,Int32Array,Uint8Array};function O0e(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(n*4),s=null,u=0,o=0;o<e.length;o++){var l=t[o],f=e[o],d=$y(f);i[d]||(i[d]=new C0e[d](a)),s=i[d];for(var p=0;p<f.length;p++){var m=(p/l|0)*r+u,v=p%l;s[m+v]=f[p]}u+=l}return new Float32Array(a)}var fN={5126:4,5123:2,5121:1},A0e=0,P0e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},jc=function(){function e(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=A0e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Kn("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,n,r,i,o,a,s,u){if(r===void 0&&(r=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof An||(n instanceof Array&&(n=new Float32Array(n)),n=new An(n));var l=t.split("|");if(l.length>1){for(var f=0;f<l.length;f++)this.addAttribute(l[f],n,r,i,o);return this}var d=this.buffers.indexOf(n);return d===-1&&(this.buffers.push(n),d=this.buffers.length-1),this.attributes[t]=new VS(d,r,i,o,a,s,u),this.instanced=this.instanced||u,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof An||(t instanceof Array&&(t=new Uint16Array(t)),t=new An(t)),t.type=ro.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],n=[],r=new An,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),n.push(o.size*fN[o.type]/4),o.buffer=0}for(r.data=O0e(t,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var n=this.attributes[t],r=this.buffers[n.buffer];return r.data.length/(n.stride/4||n.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new An(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];t.attributes[n]=new VS(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=ro.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var n=new e,r=[],i=[],o=[],a,s=0;s<t.length;s++){a=t[s];for(var u=0;u<a.buffers.length;u++)i[u]=i[u]||0,i[u]+=a.buffers[u].data.length,o[u]=0}for(var s=0;s<a.buffers.length;s++)r[s]=new P0e[$y(a.buffers[s].data)](i[s]),n.buffers[s]=new An(r[s]);for(var s=0;s<t.length;s++){a=t[s];for(var u=0;u<a.buffers.length;u++)r[u].set(a.buffers[u].data,o[u]),o[u]+=a.buffers[u].data.length}if(n.attributes=a.attributes,a.indexBuffer){n.indexBuffer=n.buffers[a.buffers.indexOf(a.indexBuffer)],n.indexBuffer.type=ro.ELEMENT_ARRAY_BUFFER;for(var l=0,f=0,d=0,p=0,s=0;s<a.buffers.length;s++)if(a.buffers[s]!==a.indexBuffer){p=s;break}for(var s in a.attributes){var m=a.attributes[s];(m.buffer|0)===p&&(f+=m.size*fN[m.type]/4)}for(var s=0;s<t.length;s++){for(var v=t[s].indexBuffer.data,u=0;u<v.length;u++)n.indexBuffer.data[u+d]+=l;l+=t[s].buffers[p].data.length/f,d+=v.length}}return n},e}(),yj=function(e){Vt(t,e);function t(){var n=e.call(this)||this;return n.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),n}return t}(jc),FC=function(e){Vt(t,e);function t(){var n=e.call(this)||this;return n.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),n.uvs=new Float32Array([0,0,1,0,1,1,0,1]),n.vertexBuffer=new An(n.vertices),n.uvBuffer=new An(n.uvs),n.addAttribute("aVertexPosition",n.vertexBuffer).addAttribute("aTextureCoord",n.uvBuffer).addIndex([0,1,2,0,2,3]),n}return t.prototype.map=function(n,r){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+r.width/n.width,this.uvs[3]=o,this.uvs[4]=i+r.width/n.width,this.uvs[5]=o+r.height/n.height,this.uvs[6]=i,this.uvs[7]=o+r.height/n.height,i=r.x,o=r.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+r.width,this.vertices[3]=o,this.vertices[4]=i+r.width,this.vertices[5]=o+r.height,this.vertices[6]=i,this.vertices[7]=o+r.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(jc),I0e=0,ds=function(){function e(t,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=I0e++,this.static=!!n,this.ubo=!!r,t instanceof An?(this.buffer=t,this.buffer.type=ro.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new An(new Float32Array(1)),this.buffer.type=ro.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,n,r){if(!this.ubo)this.uniforms[t]=new e(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,n,r){return new e(t,n,r)},e.uboFrom=function(t,n){return new e(t,n??!0,!0)},e}(),_j=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Yt.NONE,this.sourceFrame=new mt,this.destinationFrame=new mt,this.bindingSourceFrame=new mt,this.bindingDestinationFrame=new mt,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),sm=[new ft,new ft,new ft,new ft],Ob=new Rn,DC=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new gj,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new yj,this.quadUv=new FC,this.tempRect=new mt,this.activeState={},this.globalUniforms=new ds({outputFrame:new mt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,n){for(var r,i,o=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new _j,u=this.renderer.renderTexture,l=n[0].resolution,f=n[0].multisample,d=n[0].padding,p=n[0].autoFit,m=(r=n[0].legacy)!==null&&r!==void 0?r:!0,v=1;v<n.length;v++){var _=n[v];l=Math.min(l,_.resolution),f=Math.min(f,_.multisample),d=this.useMaxPadding?Math.max(d,_.padding):d+_.padding,p=p&&_.autoFit,m=m||((i=_.legacy)!==null&&i!==void 0?i:!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=u.current),a.push(s),s.resolution=l,s.multisample=f,s.legacy=m,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(d);var y=this.tempRect.copyFrom(u.sourceFrame);o.projection.transform&&this.transformAABB(Ob.copyFrom(o.projection.transform).invert(),y),p?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,u.current?u.current.resolution:o.resolution,u.sourceFrame,u.destinationFrame,o.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,f),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var x=this.tempRect;x.x=0,x.y=0,x.width=s.sourceFrame.width,x.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(u.sourceFrame),s.bindingDestinationFrame.copyFrom(u.destinationFrame),s.transform=o.projection.transform,o.projection.transform=null,u.bind(s.renderTexture,s.sourceFrame,x),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,n=t.pop(),r=n.filters;this.activeState=n;var i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;var o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=n.destinationFrame.width,o[1]=n.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*n.resolution),a[1]=Math.round(o[1]*n.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=n.sourceFrame.width*o[2]-.5*a[2],s[3]=n.sourceFrame.height*o[3]-.5*a[3],n.legacy){var u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,ui.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var f=n.renderTexture,d=this.getOptimalFilterTexture(f.width,f.height,n.resolution);d.filterFrame=f.filterFrame;var p=0;for(p=0;p<r.length-1;++p){p===1&&n.multisample>1&&(d=this.getOptimalFilterTexture(f.width,f.height,n.resolution),d.filterFrame=f.filterFrame),r[p].apply(this,f,d,ui.CLEAR,n);var m=f;f=d,d=m}r[p].apply(this,f,l.renderTexture,ui.BLEND,n),p>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(f),this.returnFilterTexture(d)}n.clear(),this.statePool.push(n)},e.prototype.bindAndClear=function(t,n){n===void 0&&(n=ui.CLEAR);var r=this.renderer,i=r.renderTexture,o=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=o.stateId&1||this.forceClear;(n===ui.CLEAR||n===ui.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,n,r,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=n,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(n._frame,n.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ii.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ii.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,n){var r=this.activeState,i=r.sourceFrame,o=r.destinationFrame,a=n._texture.orig,s=t.set(o.width,0,0,o.height,i.x,i.y),u=n.worldTransform.copyTo(Rn.TEMP_MATRIX);return u.invert(),s.prepend(u),s.scale(1/a.width,1/a.height),s.translate(n.anchor.x,n.anchor.y),s},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,n,r,i){return r===void 0&&(r=1),i===void 0&&(i=Yt.NONE),this.texturePool.getOptimalTexture(t,n,r,i)},e.prototype.getFilterTexture=function(t,n,r){if(typeof t=="number"){var i=t;t=n,n=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,n||t.resolution,r||Yt.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,n){var r=sm[0],i=sm[1],o=sm[2],a=sm[3];r.set(n.left,n.top),i.set(n.left,n.bottom),o.set(n.right,n.top),a.set(n.right,n.bottom),t.apply(r,r),t.apply(i,i),t.apply(o,o),t.apply(a,a);var s=Math.min(r.x,i.x,o.x,a.x),u=Math.min(r.y,i.y,o.y,a.y),l=Math.max(r.x,i.x,o.x,a.x),f=Math.max(r.y,i.y,o.y,a.y);n.x=s,n.y=u,n.width=l-s,n.height=f-u},e.prototype.roundFrame=function(t,n,r,i,o){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(o){var a=o.a,s=o.b,u=o.c,l=o.d;if((Math.abs(s)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(l)>1e-4))return}o=o?Ob.copyFrom(o):Ob.identity(),o.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(n),this.transformAABB(o.invert(),t)}},e}(),Id=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),BC=function(){function e(t){this.renderer=t,this.emptyRenderer=new Id(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,n){for(var r=this.renderer.texture.boundTextures,i=n-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,n,r,i){for(var o=t.elements,a=t.ids,s=t.count,u=0,l=0;l<s;l++){var f=o[l],d=f._batchLocation;if(d>=0&&d<i&&n[d]===f){a[l]=d;continue}for(;u<i;){var p=n[u];if(p&&p._batchEnabled===r&&p._batchLocation===u){u++;continue}a[l]=u,f._batchLocation=u,n[u]=f;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),hN=0,jC=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=hN++},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=hN++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var n=this.createContext(this.renderer.view,t);this.initFromContext(n)},e.prototype.createContext=function(t,n){var r;if(Pe.PREFER_ENV>=Do.WEBGL2&&(r=t.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,n={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){var n=this;t.preventDefault(),setTimeout(function(){n.gl.isContextLost()&&n.extensions.loseContext&&n.extensions.loseContext.restoreContext()},0)},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var n=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),xj=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Yt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),R0e=new mt,$C=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Qv(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new mt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Pe.PREFER_ENV===Do.WEBGL_LEGACY&&(n=null,r=null),n?t.drawBuffers=function(i){return n.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,n,r){r===void 0&&(r=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=r),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var s=t.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),n){var u=n.width>>r,l=n.height>>r,f=u/n.width;this.setViewport(n.x*f,n.y*f,u,l)}else{var u=t.width>>r,l=t.height>>r;this.setViewport(0,0,u,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,n,r,i){var o=this.viewport;t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i),(o.width!==r||o.height!==i||o.x!==t||o.y!==n)&&(o.x=t,o.y=n,o.width=r,o.height=i,this.gl.viewport(t,n,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,n,r,i,o){o===void 0&&(o=Vh.COLOR|Vh.DEPTH);var a=this.gl;a.clearColor(t,n,r,i),a.clear(o)},e.prototype.initFramebuffer=function(t){var n=this.gl,r=new xj(n.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var n=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,t.width,t.height)),r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;n.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var s=i[a],u=s.parentTextureArray||s;this.renderer.texture.bind(u,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,n){var r=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,a=o.length;r.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],u=0;u<a;u++){var l=o[u],f=l.parentTextureArray||l;this.renderer.texture.bind(f,0),!(u===0&&i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+u,l.target,f._glTextures[this.CONTEXT_UID].texture,n),s.push(r.COLOR_ATTACHMENT0+u))}if(s.length>1&&r.drawBuffers(s),t.depthTexture){var d=this.writeDepthTexture;if(d){var p=t.depthTexture;this.renderer.texture.bind(p,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,n)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var n=this.msaaSamples,r=Yt.NONE;if(t<=1||n===null)return r;for(var i=0;i<n.length;i++)if(n[i]<=t){r=n[i];break}return r===1&&(r=Yt.NONE),r},e.prototype.blit=function(t,n,r){var i=this,o=i.current,a=i.renderer,s=i.gl,u=i.CONTEXT_UID;if(a.context.webGLVersion===2&&o){var l=o.glFramebuffers[u];if(l){if(!t){if(!l.msaaBuffer)return;var f=o.colorTextures[0];if(!f)return;l.blitFramebuffer||(l.blitFramebuffer=new Qv(o.width,o.height),l.blitFramebuffer.addColorTexture(0,f)),t=l.blitFramebuffer,t.colorTextures[0]!==f&&(t.colorTextures[0]=f,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}n||(n=R0e,n.width=o.width,n.height=o.height),r||(r=n);var d=n.width===r.width&&n.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,d?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,n){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<n.length;r++)this.disposeFramebuffer(n[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var n=t.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){t.stencil=!0;var r=t.width,i=t.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),n.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,n.multisample,o.DEPTH24_STENCIL8,r,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,r,i),n.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new mt},e.prototype.destroy=function(){this.renderer=null},e}(),Ab={5126:4,5123:2,5121:1},UC=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;Pe.PREFER_ENV===Do.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(o){return r.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return r.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},t.drawElementsInstanced=function(o,a,s,u,l){return i.drawElementsInstancedANGLE(o,a,s,u,l)},t.drawArraysInstanced=function(o,a,s,u){return i.drawArraysInstancedANGLE(o,a,s,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},e.prototype.bind=function(t,n){n=n||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[n.program.id]||this.initGeometryVao(t,n,o);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?r.bindVertexArray(a):this.activateVao(t,n.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,n=this.renderer.buffer,r=0;r<t.buffers.length;r++){var i=t.buffers[r];n.update(i)}},e.prototype.checkCompatibility=function(t,n){var r=t.attributes,i=n.attributeData;for(var o in i)if(!r[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,n){var r=t.attributes,i=n.attributeData,o=["g",t.id];for(var a in r)i[a]&&o.push(a,i[a].location);return o.join("-")},e.prototype.initGeometryVao=function(t,n,r){r===void 0&&(r=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=n.program;s.glPrograms[o]||this.renderer.shader.generateProgram(n),this.checkCompatibility(t,s);var u=this.getSignature(t,s),l=t.glVertexArrayObjects[this.CONTEXT_UID],f=l[u];if(f)return l[s.id]=f,f;var d=t.buffers,p=t.attributes,m={},v={};for(var _ in d)m[_]=0,v[_]=0;for(var _ in p)!p[_].size&&s.attributeData[_]?p[_].size=s.attributeData[_].size:p[_].size||console.warn("PIXI Geometry attribute '"+_+"' size cannot be determined (likely the bound shader does not have the attribute)"),m[p[_].buffer]+=p[_].size*Ab[p[_].type];for(var _ in p){var y=p[_],x=y.size;y.stride===void 0&&(m[y.buffer]===x*Ab[y.type]?y.stride=0:y.stride=m[y.buffer]),y.start===void 0&&(y.start=v[y.buffer],v[y.buffer]+=x*Ab[y.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(var b=0;b<d.length;b++){var w=d[b];a.bind(w),r&&w._glBuffers[o].refCount++}return this.activateVao(t,s),this._activeVao=f,l[s.id]=f,l[u]=f,f},e.prototype.disposeGeometry=function(t,n){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=t.buffers,s=(r=this.renderer)===null||r===void 0?void 0:r.buffer;if(t.disposeRunner.remove(this),!!i){if(s)for(var u=0;u<a.length;u++){var l=a[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a[u],n))}if(!n){for(var f in i)if(f[0]==="g"){var d=i[f];this._activeVao===d&&this.unbind(),o.deleteVertexArray(d)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var n=Object.keys(this.managedGeometries),r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],t)},e.prototype.activateVao=function(t,n){var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.buffers,s=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var u=null;for(var l in s){var f=s[l],d=a[f.buffer],p=d._glBuffers[i];if(n.attributeData[l]){u!==p&&(o.bind(d),u=p);var m=n.attributeData[l].location;if(r.enableVertexAttribArray(m),r.vertexAttribPointer(m,f.size,f.type||r.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)r.vertexAttribDivisor(m,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,n,r,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,u=s===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,n||a.indexBuffer.data.length,u,(r||0)*s,i||1):o.drawElements(t,n||a.indexBuffer.data.length,u,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(t,r,n||a.getSize(),i||1):o.drawArrays(t,r,n||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),bj=function(){function e(t){t===void 0&&(t=null),this.type=Sn.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Pe.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Sn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function dN(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function pN(e,t){var n=e.getShaderSource(t).split(`
`).map(function(l,f){return f+": "+l}),r=e.getShaderInfoLog(t),i=r.split(`
`),o={},a=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!o[l]?(o[l]=!0,!0):!1}),s=[""];a.forEach(function(l){n[l-1]="%c"+n[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var u=n.join(`
`);s[0]=u,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function k0e(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||pN(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||pN(e,r),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function Pb(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function Sj(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Pb(2*t);case"bvec3":return Pb(3*t);case"bvec4":return Pb(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var wj={},Rf=wj;function Ej(){if(Rf===wj||Rf&&Rf.isContextLost()){var e=Pe.ADAPTER.createCanvas(),t=void 0;Pe.PREFER_ENV>=Do.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Rf=t}return Rf}var um;function N0e(){if(!um){um=Wr.MEDIUM;var e=Ej();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);um=t.precision?Wr.HIGH:Wr.MEDIUM}}return um}function mN(e,t,n){if(e.substring(0,9)!=="precision"){var r=t;return t===Wr.HIGH&&n!==Wr.HIGH&&(r=Wr.MEDIUM),"precision "+r+` float;
`+e}else if(n!==Wr.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var L0e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Tj(e){return L0e[e]}var lm=null,vN={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Cj(e,t){if(!lm){var n=Object.keys(vN);lm={};for(var r=0;r<n.length;++r){var i=n[r];lm[e[i]]=vN[i]}}return lm[t]}var gu=[{test:function(e){return e.type==="float"&&e.size===1&&!e.isArray},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e,t){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0)},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1&&!e.isArray},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1&&!e.isArray},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],M0e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},F0e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function D0e(e,t){var n,r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var o=t[i];if(!o){!((n=e.uniforms[i])===null||n===void 0)&&n.group&&(e.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=e.uniforms[i],s=!1,u=0;u<gu.length;u++)if(gu[u].test(o,a)){r.push(gu[u].code(i,a)),s=!0;break}if(!s){var l=o.size===1&&!o.isArray?M0e:F0e,f=l[o.type].replace("location",'ud["'+i+'"].location');r.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+f+";")}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var B0e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function j0e(e){for(var t="",n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+="if(test == "+n+".0){}");return t}function Oj(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=B0e.replace(/%forloop%/gi,j0e(e));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))e=e/2|0;else break}return e}var kf;function $0e(){if(typeof kf=="boolean")return kf;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");kf=e({a:"b"},"a","b")===!0}catch{kf=!1}return kf}var U0e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,G0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,z0e=0,cm={},$c=function(){function e(t,n,r){r===void 0&&(r="pixi-shader"),this.id=z0e++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),cm[r]?(cm[r]++,r+="-"+cm[r]):cm[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=mN(this.vertexSrc,Pe.PRECISION_VERTEX,Wr.HIGH),this.fragmentSrc=mN(this.fragmentSrc,Pe.PRECISION_FRAGMENT,N0e())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return G0e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return U0e},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=t+n,o=jS[i];return o||(jS[i]=o=new e(t,n,r)),o},e}(),ya=function(){function e(t,n){this.uniformBindCount=0,this.program=t,n?n instanceof ds?this.uniformGroup=n:this.uniformGroup=new ds(n):this.uniformGroup=new ds({}),this.disposeRunner=new Kn("disposeShader")}return e.prototype.checkUniformExists=function(t,n){if(n.uniforms[t])return!0;for(var r in n.uniforms){var i=n.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=$c.from(t,n);return new e(i,r)},e}(),Ib=0,Rb=1,kb=2,Nb=3,Lb=4,Mb=5,Ps=function(){function e(){this.data=0,this.blendMode=ze.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<Ib)},set:function(t){!!(this.data&1<<Ib)!==t&&(this.data^=1<<Ib)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<Rb)},set:function(t){!!(this.data&1<<Rb)!==t&&(this.data^=1<<Rb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<kb)},set:function(t){!!(this.data&1<<kb)!==t&&(this.data^=1<<kb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Nb)},set:function(t){!!(this.data&1<<Nb)!==t&&(this.data^=1<<Nb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<Mb)},set:function(t){!!(this.data&1<<Mb)!==t&&(this.data^=1<<Mb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Lb)},set:function(t){!!(this.data&1<<Lb)!==t&&(this.data^=1<<Lb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==ze.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),H0e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,V0e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Qe=function(e){Vt(t,e);function t(n,r,i){var o=this,a=$c.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=Pe.FILTER_RESOLUTION,o.multisample=Pe.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Ps,o}return t.prototype.apply=function(n,r,i,o,a){n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return V0e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return H0e},enumerable:!1,configurable:!0}),t}(ya),W0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,X0e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,gN=new Rn,Vy=function(){function e(t,n){this._texture=t,this.mapCoord=new Rn,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,n){n===void 0&&(n=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];n[i]=o*r.a+a*r.c+r.tx,n[i+1]=o*r.b+a*r.d+r.ty}return n},e.prototype.update=function(t){var n=this._texture;if(!n||!n.valid||!t&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;var r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=n.orig,o=n.trim;o&&(gN.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(gN));var a=n.baseTexture,s=this.uClampFrame,u=this.clampMargin/a.resolution,l=this.clampOffset;return s[0]=(n._frame.x+u+l)/a.width,s[1]=(n._frame.y+u+l)/a.height,s[2]=(n._frame.x+n._frame.width-u+l)/a.width,s[3]=(n._frame.y+n._frame.height-u+l)/a.height,this.uClampOffset[0]=l/a.realWidth,this.uClampOffset[1]=l/a.realHeight,this.isSimple=n._frame.width===a.width&&n._frame.height===a.height&&n.rotate===0,!0},e}(),Aj=function(e){Vt(t,e);function t(n,r,i){var o=this,a=null;return typeof n!="string"&&r===void 0&&i===void 0&&(a=n,n=void 0,r=void 0,i=void 0),o=e.call(this,n||W0e,r||X0e,i)||this,o.maskSprite=a,o.maskMatrix=new Rn,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(n){this._maskSprite=n,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(n,r,i,o){var a=this._maskSprite,s=a._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Vy(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=n.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,n.applyFilter(this,r,i,o))},t}(Qe),GC=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,n){var r=n;if(!r.isMaskData){var i=this.maskDataPool.pop()||new bj;i.pooled=!0,i.maskObject=n,r=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(o),r._colorMask=o?o._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==Sn.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Sn.SCISSOR:this.renderer.scissor.push(r);break;case Sn.STENCIL:this.renderer.stencil.push(r);break;case Sn.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Sn.COLOR:this.pushColorMask(r);break}r.type===Sn.SPRITE&&this.maskStack.push(r)},e.prototype.pop=function(t){var n=this.maskStack.pop();if(!(!n||n._target!==t)){if(n.enabled)switch(n.type){case Sn.SCISSOR:this.renderer.scissor.pop(n);break;case Sn.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Sn.SPRITE:this.popSpriteMask(n);break;case Sn.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){var r=this.maskStack[this.maskStack.length-1];r.type===Sn.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},e.prototype.detect=function(t){var n=t.maskObject;n?n.isSprite?t.type=Sn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Sn.SCISSOR:t.type=Sn.STENCIL:t.type=Sn.COLOR},e.prototype.pushSpriteMask=function(t){var n,r,i=t.maskObject,o=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Aj]));var s=this.renderer,u=s.renderTexture,l,f;if(u.current){var d=u.current;l=t.resolution||d.resolution,f=(n=t.multisample)!==null&&n!==void 0?n:d.multisample}else l=t.resolution||s.resolution,f=(r=t.multisample)!==null&&r!==void 0?r:s.multisample;a[0].resolution=l,a[0].multisample=f,a[0].maskSprite=i;var p=o.filterArea;o.filterArea=i.getBounds(!0),s.filter.push(o,a),o.filterArea=p,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.pushColorMask=function(t){var n=t._colorMask,r=t._colorMask=n&t.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)},e.prototype.popColorMask=function(t){var n=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)},e.prototype.destroy=function(){this.renderer=null},e}(),Pj=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var n=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),yN=new Rn,_N=[],zC=function(e){Vt(t,e);function t(n){var r=e.call(this,n)||this;return r.glConst=Pe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return t.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0},t.prototype.calcScissorRect=function(n){var r;if(!n._scissorRectLocal){var i=n._scissorRect,o=n.maskObject,a=this.renderer,s=a.renderTexture,u=o.getBounds(!0,(r=_N.pop())!==null&&r!==void 0?r:new mt);this.roundFrameToPixels(u,s.current?s.current.resolution:a.resolution,s.sourceFrame,s.destinationFrame,a.projection.transform),i&&u.fit(i),n._scissorRectLocal=u}},t.isMatrixRotated=function(n){if(!n)return!1;var r=n.a,i=n.b,o=n.c,a=n.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(a)>1e-4)},t.prototype.testScissor=function(n){var r=n.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);var i=n._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(n,r,i,o,a){t.isMatrixRotated(a)||(a=a?yN.copyFrom(a):yN.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,n),n.fit(o),n.x=Math.round(n.x*r),n.y=Math.round(n.y*r),n.width=Math.round(n.width*r),n.height=Math.round(n.height*r))},t.prototype.push=function(n){n._scissorRectLocal||this.calcScissorRect(n);var r=this.renderer.gl;n._scissorRect||r.enable(r.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(n){var r=this.renderer.gl;n&&_N.push(n._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},t.prototype._useCurrent=function(){var n=this.maskStack[this.maskStack.length-1]._scissorRect,r;this.renderer.renderTexture.current?r=n.y:r=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,r,n.width,n.height)},t}(Pj),HC=function(e){Vt(t,e);function t(n){var r=e.call(this,n)||this;return r.glConst=Pe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return t.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._stencilCounter:0},t.prototype.push=function(n){var r=n.maskObject,i=this.renderer.gl,o=n._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),n._stencilCounter++;var a=n._colorMask;a!==0&&(n._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(n._colorMask=a,i.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()},t.prototype.pop=function(n){var r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=i?i._colorMask:15;o!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(i._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}},t.prototype._useCurrent=function(){var n=this.renderer.gl;n.stencilFunc(n.EQUAL,this.getStackLength(),4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},t}(Pj),VC=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Rn,this.transform=null}return e.prototype.update=function(t,n,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,n,r,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/n.width*2,o.d=a*(1/n.height*2),o.tx=-1-n.x*o.a,o.ty=-a-n.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),Hs=new mt,Nf=new mt,WC=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new mt,this.destinationFrame=new mt,this.viewportFrame=new mt}return e.prototype.bind=function(t,n,r){t===void 0&&(t=null);var i=this.renderer;this.current=t;var o,a,s;t?(o=t.baseTexture,s=o.resolution,n||(Hs.width=t.frame.width,Hs.height=t.frame.height,n=Hs),r||(Nf.x=t.frame.x,Nf.y=t.frame.y,Nf.width=n.width,Nf.height=n.height,r=Nf),a=o.framebuffer):(s=i.resolution,n||(Hs.width=i.screen.width,Hs.height=i.screen.height,n=Hs),r||(r=Hs,r.width=n.width,r.height=n.height));var u=this.viewportFrame;u.x=r.x*s,u.y=r.y*s,u.width=r.width*s,u.height=r.height*s,t||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(a,u),this.renderer.projection.update(r,n,s,!a),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,n){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=r.width!==i.width||r.height!==i.height;if(o){var a=this.viewportFrame,s=a.x,u=a.y,l=a.width,f=a.height;s=Math.round(s),u=Math.round(u),l=Math.round(l),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,u,l,f)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],n),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function q0e(e,t,n,r,i){n.buffer.update(i)}var K0e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Ij={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Rj(e){for(var t=e.map(function(u){return{data:u,offset:0,dataLen:0,dirty:0}}),n=0,r=0,i=0,o=0;o<t.length;o++){var a=t[o];if(n=Ij[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,r%n!==0&&r<16){var s=r%n%16;r+=s,i+=s}r+n>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=n,r=n):(a.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function kj(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort(function(i,o){return i.index-o.index}),n}function Nj(e,t){if(!e.autoManage)return{size:0,syncFunc:q0e};for(var n=kj(e.uniforms,t),r=Rj(n),i=r.uboElements,o=r.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var u=i[s],l=e.uniforms[u.data.name],f=u.data.name,d=!1,p=0;p<gu.length;p++){var m=gu[p];if(m.codeUbo&&m.test(u.data,l)){a.push("offset = "+u.offset/4+";",gu[p].codeUbo(u.data.name,l)),d=!0;break}}if(!d)if(u.data.size>1){var v=Tj(u.data.type),_=Math.max(Ij[u.data.type]/16,1),y=v/_,x=(4-y%4)%4;a.push(`
                cv = ud.`+f+`.value;
                v = uv.`+f+`;
                offset = `+u.offset/4+`;

                t = 0;

                for(var i=0; i < `+u.data.size*_+`; i++)
                {
                    for(var j = 0; j < `+y+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+x+`;
                }

                `)}else{var b=K0e[u.data.type];a.push(`
                cv = ud.`+f+`.value;
                v = uv.`+f+`;
                offset = `+u.offset/4+`;
                `+b+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var Y0e=function(){function e(){}return e}(),Lj=function(){function e(t,n){this.program=t,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function J0e(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=t.getActiveAttrib(e,i);if(o.name.indexOf("gl_")!==0){var a=Cj(t,o.type),s={type:a,name:o.name,size:Tj(a),location:t.getAttribLocation(e,o.name)};n[o.name]=s}}return n}function Z0e(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),u=Cj(t,o.type);n[a]={name:a,index:i,type:u,size:o.size,isArray:s,value:Sj(u,o.size)}}return n}function Mj(e,t){var n=dN(e,e.VERTEX_SHADER,t.vertexSrc),r=dN(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||k0e(e,i,n,r),t.attributeData=J0e(i,e),t.uniformData=Z0e(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(f,d){return f>d?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(n),e.deleteShader(r);var s={};for(var a in t.uniformData){var u=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:Sj(u.type,u.size)}}var l=new Lj(i,s);return l}var Q0e=0,fm={textureCount:0,uboCount:0},XC=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Q0e++}return e.prototype.systemCheck=function(){if(!$0e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,n){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(fm.textureCount=0,fm.uboCount=0,this.syncUniformGroup(t.uniformGroup,fm)),i},e.prototype.setUniforms=function(t){var n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,n){var r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,n))},e.prototype.syncUniforms=function(t,n,r){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(n.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var n=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=D0e(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[n],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,n){var r=this.getGlProgram();if(!t.static||t.dirtyId!==0||!r.uniformGroups[t.id]){t.dirtyId=0;var i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,n);t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,fm,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[n])},e.prototype.createSyncBufferGroup=function(t,n,r){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=Nj(t,this.shader.program.uniformData)),t.autoManage){var u=new Float32Array(s.size/4);t.buffer.update(u)}return n.uniformGroups[t.id]=s.syncFunc,n.uniformGroups[t.id]},e.prototype.getSignature=function(t,n,r){var i=t.uniforms,o=[r+"-"];for(var a in i)o.push(a),n[a]&&o.push(n[a].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var n=this.gl,r=t.program,i=Mj(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.disposeShader=function(t){this.shader===t&&(this.shader=null)},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function exe(e,t){return t===void 0&&(t=[]),t[ze.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.ADD]=[e.ONE,e.ONE],t[ze.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.NONE]=[0,0],t[ze.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[ze.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ze.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[ze.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[ze.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[ze.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[ze.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[ze.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[ze.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[ze.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[ze.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var txe=0,nxe=1,rxe=2,ixe=3,oxe=4,axe=5,qC=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ze.NONE,this._blendEq=!1,this.map=[],this.map[txe]=this.setBlend,this.map[nxe]=this.setOffset,this.map[rxe]=this.setCullFace,this.map[ixe]=this.setDepthTest,this.map[oxe]=this.setFrontFace,this.map[axe]=this.setDepthMask,this.checks=[],this.defaultState=new Ps,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=exe(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var n=this.stateId^t.data,r=0;n;)n&1&&this.map[r].call(this,!!(t.data&1<<r)),n=n>>1,r++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(t.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var n=this.blendModes[t],r=this.gl;n.length===2?r.blendFunc(n[0],n[1]):r.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,r.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,n){this.gl.polygonOffset(t,n)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,n){var r=this.checks.indexOf(t);n&&r===-1?this.checks.push(t):!n&&r!==-1&&this.checks.splice(r,1)},e.checkBlendMode=function(t,n){t.setBlendMode(n.blendMode)},e.checkPolygonOffset=function(t,n){t.setPolygonOffset(1,n.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),KC=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Pe.GC_MAX_IDLE,this.checkCountMax=Pe.GC_MAX_CHECK_COUNT,this.mode=Pe.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Xh.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,n=t.managedTextures,r=!1,i=0;i<n.length;i++){var o=n[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),n[i]=null,r=!0)}if(r){for(var a=0,i=0;i<n.length;i++)n[i]!==null&&(n[a++]=n[i]);n.length=a}},e.prototype.unload=function(t){var n=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&n.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function sxe(e){var t,n,r,i,o,a,s,u,l,f,d,p,m,v,_,y,x,b,w,T,C,O,A;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?A=(t={},t[He.UNSIGNED_BYTE]=(n={},n[Ce.RGBA]=e.RGBA8,n[Ce.RGB]=e.RGB8,n[Ce.RG]=e.RG8,n[Ce.RED]=e.R8,n[Ce.RGBA_INTEGER]=e.RGBA8UI,n[Ce.RGB_INTEGER]=e.RGB8UI,n[Ce.RG_INTEGER]=e.RG8UI,n[Ce.RED_INTEGER]=e.R8UI,n[Ce.ALPHA]=e.ALPHA,n[Ce.LUMINANCE]=e.LUMINANCE,n[Ce.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,n),t[He.BYTE]=(r={},r[Ce.RGBA]=e.RGBA8_SNORM,r[Ce.RGB]=e.RGB8_SNORM,r[Ce.RG]=e.RG8_SNORM,r[Ce.RED]=e.R8_SNORM,r[Ce.RGBA_INTEGER]=e.RGBA8I,r[Ce.RGB_INTEGER]=e.RGB8I,r[Ce.RG_INTEGER]=e.RG8I,r[Ce.RED_INTEGER]=e.R8I,r),t[He.UNSIGNED_SHORT]=(i={},i[Ce.RGBA_INTEGER]=e.RGBA16UI,i[Ce.RGB_INTEGER]=e.RGB16UI,i[Ce.RG_INTEGER]=e.RG16UI,i[Ce.RED_INTEGER]=e.R16UI,i[Ce.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[He.SHORT]=(o={},o[Ce.RGBA_INTEGER]=e.RGBA16I,o[Ce.RGB_INTEGER]=e.RGB16I,o[Ce.RG_INTEGER]=e.RG16I,o[Ce.RED_INTEGER]=e.R16I,o),t[He.UNSIGNED_INT]=(a={},a[Ce.RGBA_INTEGER]=e.RGBA32UI,a[Ce.RGB_INTEGER]=e.RGB32UI,a[Ce.RG_INTEGER]=e.RG32UI,a[Ce.RED_INTEGER]=e.R32UI,a[Ce.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[He.INT]=(s={},s[Ce.RGBA_INTEGER]=e.RGBA32I,s[Ce.RGB_INTEGER]=e.RGB32I,s[Ce.RG_INTEGER]=e.RG32I,s[Ce.RED_INTEGER]=e.R32I,s),t[He.FLOAT]=(u={},u[Ce.RGBA]=e.RGBA32F,u[Ce.RGB]=e.RGB32F,u[Ce.RG]=e.RG32F,u[Ce.RED]=e.R32F,u[Ce.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,u),t[He.HALF_FLOAT]=(l={},l[Ce.RGBA]=e.RGBA16F,l[Ce.RGB]=e.RGB16F,l[Ce.RG]=e.RG16F,l[Ce.RED]=e.R16F,l),t[He.UNSIGNED_SHORT_5_6_5]=(f={},f[Ce.RGB]=e.RGB565,f),t[He.UNSIGNED_SHORT_4_4_4_4]=(d={},d[Ce.RGBA]=e.RGBA4,d),t[He.UNSIGNED_SHORT_5_5_5_1]=(p={},p[Ce.RGBA]=e.RGB5_A1,p),t[He.UNSIGNED_INT_2_10_10_10_REV]=(m={},m[Ce.RGBA]=e.RGB10_A2,m[Ce.RGBA_INTEGER]=e.RGB10_A2UI,m),t[He.UNSIGNED_INT_10F_11F_11F_REV]=(v={},v[Ce.RGB]=e.R11F_G11F_B10F,v),t[He.UNSIGNED_INT_5_9_9_9_REV]=(_={},_[Ce.RGB]=e.RGB9_E5,_),t[He.UNSIGNED_INT_24_8]=(y={},y[Ce.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,y),t[He.FLOAT_32_UNSIGNED_INT_24_8_REV]=(x={},x[Ce.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,x),t):A=(b={},b[He.UNSIGNED_BYTE]=(w={},w[Ce.RGBA]=e.RGBA,w[Ce.RGB]=e.RGB,w[Ce.ALPHA]=e.ALPHA,w[Ce.LUMINANCE]=e.LUMINANCE,w[Ce.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,w),b[He.UNSIGNED_SHORT_5_6_5]=(T={},T[Ce.RGB]=e.RGB,T),b[He.UNSIGNED_SHORT_4_4_4_4]=(C={},C[Ce.RGBA]=e.RGBA,C),b[He.UNSIGNED_SHORT_5_5_5_1]=(O={},O[Ce.RGBA]=e.RGBA,O),b),A}var Ym=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=He.UNSIGNED_BYTE,this.internalFormat=Ce.RGBA,this.samplerType=0}return e}(),YC=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new gt,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=sxe(t);var n=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var r=0;r<n;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Ym(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ym(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,n){n===void 0&&(n=0);var r=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[n]!==t&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[n]=t}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var n=this,r=n.gl,i=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(r.activeTexture(r.TEXTURE0+o),this.currentLocation=o),r.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},e.prototype.ensureSamplerType=function(t){var n=this,r=n.boundTextures,i=n.hasIntegerTextures,o=n.CONTEXT_UID;if(i)for(var a=t-1;a>=0;--a){var s=r[a];if(s){var u=s._glTextures[o];u.samplerType!==Wh.FLOAT&&this.renderer.texture.unbind(s)}}},e.prototype.initTexture=function(t){var n=new Ym(this.gl.createTexture());return n.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),n},e.prototype.initTextureType=function(t,n){var r,i;n.internalFormat=(i=(r=this.internalFormats[t.type])===null||r===void 0?void 0:r[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===He.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=t.type},e.prototype.updateTexture=function(t){var n=t._glTextures[this.CONTEXT_UID];if(n){var r=this.renderer;if(this.initTextureType(t,n),t.resource&&t.resource.upload(r,t,n))n.samplerType!==Wh.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,a=r.gl;(n.width!==i||n.height!==o||n.dirtyId<0)&&(n.width=i,n.height=o,a.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,null))}t.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(t),n.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,n){var r=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!n)){var i=this.managedTextures.indexOf(t);i!==-1&&vu(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var n=t._glTextures[this.CONTEXT_UID];n&&((t.mipmap===br.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?n.mipmap=!1:n.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?n.wrapMode=no.CLAMP:n.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,n)||this.setStyle(t,n),n.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,n){var r=this.gl;if(n.mipmap&&t.mipmap!==br.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===lr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===lr.LINEAR){var o=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===lr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===lr.LINEAR?r.LINEAR:r.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),Fj={__proto__:null,FilterSystem:DC,BatchSystem:BC,ContextSystem:jC,FramebufferSystem:$C,GeometrySystem:UC,MaskSystem:GC,ScissorSystem:zC,StencilSystem:HC,ProjectionSystem:VC,RenderTextureSystem:WC,ShaderSystem:XC,StateSystem:qC,TextureGCSystem:KC,TextureSystem:YC},Fb=new Rn,Dj=function(e){Vt(t,e);function t(n,r){n===void 0&&(n=cc.UNKNOWN);var i=e.call(this)||this;return r=Object.assign({},Pe.RENDER_OPTIONS,r),i.options=r,i.type=n,i.screen=new mt(0,0,r.width,r.height),i.view=r.view||Pe.ADAPTER.createCanvas(),i.resolution=r.resolution||Pe.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,r.transparent!==void 0&&(kr("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(n){for(var r in n)this.plugins[r]=new n[r](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(n,r){this.view.width=Math.round(n*this.resolution),this.view.height=Math.round(r*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(n,r,i,o){r===void 0&&(r={}),typeof r=="number"&&(kr("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:i,region:o});var a=r.region,s=S0e(r,["region"]);o=a||n.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var u=ws.create(HS({width:o.width,height:o.height},s));return Fb.tx=-o.x,Fb.ty=-o.y,this.render(n,{renderTexture:u,clear:!1,transform:Fb,skipUpdateTransform:!!n.parent}),u},t.prototype.destroy=function(n){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;n&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=cc.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(n){this._backgroundColor=n,this._backgroundColorString=bC(n),In(n,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(n){this._backgroundColorRgba[3]=n},enumerable:!1,configurable:!0}),t}(Fc),uxe=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),lxe=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var n=this,r=n.gl,i=n.CONTEXT_UID,o=t._glBuffers[i]||this.createGLBuffer(t);r.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,n){var r=this,i=r.gl,o=r.CONTEXT_UID;if(this.boundBufferBases[n]!==t){var a=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[n]=t,i.bindBufferBase(i.UNIFORM_BUFFER,n,a.buffer)}},e.prototype.bindBufferRange=function(t,n,r){var i=this,o=i.gl,a=i.CONTEXT_UID;r=r||0;var s=t._glBuffers[a]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,n||0,s.buffer,r*256,256)},e.prototype.update=function(t){var n=this,r=n.gl,i=n.CONTEXT_UID,o=t._glBuffers[i];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,r.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{var a=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,a)}},e.prototype.dispose=function(t,n){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var n=Object.keys(this.managedBuffers),r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],t)},e.prototype.createGLBuffer=function(t){var n=this,r=n.CONTEXT_UID,i=n.gl;return t._glBuffers[r]=new uxe(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]},e}(),JC=function(e){Vt(t,e);function t(n){var r=e.call(this,cc.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Kn("destroy"),contextChange:new Kn("contextChange"),reset:new Kn("reset"),update:new Kn("update"),postrender:new Kn("postrender"),prerender:new Kn("prerender"),resize:new Kn("resize")},r.runners.contextChange.add(r),r.globalUniforms=new ds({projectionMatrix:new Rn},!0),r.addSystem(GC,"mask").addSystem(jC,"context").addSystem(qC,"state").addSystem(XC,"shader").addSystem(YC,"texture").addSystem(lxe,"buffer").addSystem(UC,"geometry").addSystem($C,"framebuffer").addSystem(zC,"scissor").addSystem(HC,"stencil").addSystem(VC,"projection").addSystem(KC,"textureGC").addSystem(DC,"filter").addSystem(WC,"renderTexture").addSystem(BC,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&r.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,nj(r.context.webGLVersion===2?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return t.create=function(n){if(rj())return new t(n);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var n=this.gl,r;if(this.context.webGLVersion===1){var i=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,null),r=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,i)}else{var i=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),r=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,i)}r>=Yt.HIGH?this.multisample=Yt.HIGH:r>=Yt.MEDIUM?this.multisample=Yt.MEDIUM:r>=Yt.LOW?this.multisample=Yt.LOW:this.multisample=Yt.NONE},t.prototype.addSystem=function(n,r){var i=new n(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');this[r]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(n,r){var i,o,a,s;if(r&&(r instanceof ws?(kr("6.0.0","Renderer#render arguments changed, use options instead."),i=r,o=arguments[2],a=arguments[3],s=arguments[4]):(i=r.renderTexture,o=r.clear,a=r.transform,s=r.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=n),!s){var u=n.enableTempParent();n.updateTransform(),n.disableTempParent(u)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),n.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(n,r,i,o){r===void 0&&(r={});var a=e.prototype.generateTexture.call(this,n,r,i,o);return this.framebuffer.blit(),a},t.prototype.resize=function(n,r){e.prototype.resize.call(this,n,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(n){this.runners.destroy.emit();for(var r in this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,n),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return kr("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(n,r){kr("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Vo.add({name:n,type:Nt.RendererPlugin,ref:r})},t.__plugins={},t}(Dj);Vo.handleByMap(Nt.RendererPlugin,JC.__plugins);function Bj(e){return JC.create(e)}var cxe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fxe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,jj=cxe,ZC=fxe,hxe=function(){function e(t){kr("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return e.prototype.destroy=function(){this.renderer=null},e}(),eg=function(){function e(){this.texArray=null,this.blend=0,this.type=Ii.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),tg=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),ng=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),$j=function(e){Vt(t,e);function t(n){var r=e.call(this,n)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Ps.for2d(),r.size=Pe.SPRITE_BATCH_SIZE*4,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),n.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return t.prototype.contextChange=function(){var n=this.renderer.gl;Pe.PREFER_ENV===Do.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),Pe.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Oj(this.MAX_TEXTURES,n)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var n=t._drawCallPool,r=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;n.length<i;)n.push(new eg);for(;r.length<o;)r.push(new tg);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(n){n._texture.valid&&(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)},t.prototype.buildTexturesAndDrawCalls=function(){var n=this,r=n._bufferedTextures,i=n.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,u=this.renderer.textureGC.count,l=++gt._globalBatch,f=0,d=o[0],p=0;a.copyBoundTextures(s,i);for(var m=0;m<this._bufferSize;++m){var v=r[m];r[m]=null,v._batchEnabled!==l&&(d.count>=i&&(a.boundArray(d,s,l,i),this.buildDrawCalls(d,p,m),p=m,d=o[++f],++l),v._batchEnabled=l,v.touched=u,d.elements[d.count++]=v)}d.count>0&&(a.boundArray(d,s,l,i),this.buildDrawCalls(d,p,this._bufferSize),++f,++l);for(var m=0;m<s.length;m++)s[m]=null;gt._globalBatch=l},t.prototype.buildDrawCalls=function(n,r,i){var o=this,a=o._bufferedElements,s=o._attributeBuffer,u=o._indexBuffer,l=o.vertexSize,f=t._drawCallPool,d=this._dcIndex,p=this._aIndex,m=this._iIndex,v=f[d];v.start=this._iIndex,v.texArray=n;for(var _=r;_<i;++_){var y=a[_],x=y._texture.baseTexture,b=wC[x.alphaMode?1:0][y.blendMode];a[_]=null,r<_&&v.blend!==b&&(v.size=m-v.start,r=_,v=f[++d],v.texArray=n,v.start=m),this.packInterleavedGeometry(y,s,u,p,m),p+=y.vertexData.length/2*l,m+=y.indices.length,v.blend=b}r<i&&(v.size=m-v.start,++d),this._dcIndex=d,this._aIndex=p,this._iIndex=m},t.prototype.bindAndClearTexArray=function(n){for(var r=this.renderer.texture,i=0;i<n.count;i++)r.bind(n.elements[i],n.ids[i]),n.elements[i]=null;n.count=0},t.prototype.updateGeometry=function(){var n=this,r=n._packedGeometries,i=n._attributeBuffer,o=n._indexBuffer;Pe.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var n=this._dcIndex,r=this.renderer,i=r.gl,o=r.state,a=t._drawCallPool,s=null,u=0;u<n;u++){var l=a[u],f=l.texArray,d=l.type,p=l.size,m=l.start,v=l.blend;s!==f&&(s=f,this.bindAndClearTexArray(f)),this.state.blendMode=v,o.set(this.state),i.drawElements(d,p,i.UNSIGNED_SHORT,m*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Pe.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(n){var r=Jh(Math.ceil(n/8)),i=BS(r),o=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new ng(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(n){var r=Jh(Math.ceil(n/12)),i=BS(r),o=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(n,r,i,o,a){for(var s=r.uint32View,u=r.float32View,l=o/this.vertexSize,f=n.uvs,d=n.indices,p=n.vertexData,m=n._texture.baseTexture._batchLocation,v=Math.min(n.worldAlpha,1),_=v<1&&n._texture.baseTexture.alphaMode?jy(n._tintRGB,v):n._tintRGB+(v*255<<24),y=0;y<p.length;y+=2)u[o++]=p[y],u[o++]=p[y+1],u[o++]=f[y],u[o++]=f[y+1],s[o++]=_,u[o++]=m;for(var y=0;y<d.length;y++)i[a++]=l+d[y]},t._drawCallPool=[],t._textureArrayPool=[],t}(Id),Uj=function(){function e(t,n){if(this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=r;this.defaultGroupCache[t]=ds.from({uSamplers:n},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new $c(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Rn,default:this.defaultGroupCache[t]};return new ya(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var n="";n+=`
`,n+=`
`;for(var r=0;r<t;r++)r>0&&(n+=`
else `),r<t-1&&(n+="if(vTextureId < "+r+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n},e}(),QC=function(e){Vt(t,e);function t(n){n===void 0&&(n=!1);var r=e.call(this)||this;return r._buffer=new An(null,n,!1),r._indexBuffer=new An(null,n,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,He.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,He.FLOAT).addAttribute("aColor",r._buffer,4,!0,He.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,He.FLOAT).addIndex(r._indexBuffer),r}return t}(jc),xN=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,bN=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Gj=function(){function e(){}return e.create=function(t){var n=Object.assign({vertex:xN,fragment:bN,geometryClass:QC,vertexSize:6},t),r=n.vertex,i=n.fragment,o=n.vertexSize,a=n.geometryClass;return function(s){Vt(u,s);function u(l){var f=s.call(this,l)||this;return f.shaderGenerator=new Uj(r,i),f.geometryClass=a,f.vertexSize=o,f}return u}($j)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return xN},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return bN},enumerable:!1,configurable:!0}),e}(),eO=Gj.create();Object.assign(eO,{extension:{name:"batch",type:Nt.RendererPlugin}});var zj={},dxe=function(e){Object.defineProperty(zj,e,{get:function(){return kr("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),vj[e]}})};for(var tO in vj)dxe(tO);var Hj={},pxe=function(e){Object.defineProperty(Hj,e,{get:function(){return kr("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),Fj[e]}})};for(var tO in Fj)pxe(tO);var mxe="6.5.10";/*!
 * @pixi/accessibility - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vj={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};gn.mixin(Vj);var vxe=9,hm=100,gxe=0,yxe=0,SN=2,wN=1,_xe=-1e3,xxe=-1e3,bxe=2,Wj=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ri.tablet||Ri.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width=hm+"px",n.style.height=hm+"px",n.style.position="absolute",n.style.top=gxe+"px",n.style.left=yxe+"px",n.style.zIndex=SN.toString(),this.div=n,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,n=document.createElement("button");n.style.width=wN+"px",n.style.height=wN+"px",n.style.position="absolute",n.style.top=_xe+"px",n.style.left=xxe+"px",n.style.zIndex=bxe.toString(),n.style.backgroundColor="#FF0000",n.title="select to enable accessibility for this content",n.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(n),this._hookDiv=n},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var n=t.children;if(n)for(var r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}},e.prototype.update=function(){var t=performance.now();if(!(Ri.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var n=this.renderer.view.getBoundingClientRect(),r=n.left,i=n.top,o=n.width,a=n.height,s=this.renderer,u=s.width,l=s.height,f=s.resolution,d=o/u*f,p=a/l*f,m=this.div;m.style.left=r+"px",m.style.top=i+"px",m.style.width=u+"px",m.style.height=l+"px";for(var v=0;v<this.children.length;v++){var _=this.children[v];if(_.renderId!==this.renderId)_._accessibleActive=!1,vu(this.children,v,1),this.div.removeChild(_._accessibleDiv),this.pool.push(_._accessibleDiv),_._accessibleDiv=null,v--;else{m=_._accessibleDiv;var y=_.hitArea,x=_.worldTransform;_.hitArea?(m.style.left=(x.tx+y.x*x.a)*d+"px",m.style.top=(x.ty+y.y*x.d)*p+"px",m.style.width=y.width*x.a*d+"px",m.style.height=y.height*x.d*p+"px"):(y=_.getBounds(),this.capHitArea(y),m.style.left=y.x*d+"px",m.style.top=y.y*p+"px",m.style.width=y.width*d+"px",m.style.height=y.height*p+"px",m.title!==_.accessibleTitle&&_.accessibleTitle!==null&&(m.title=_.accessibleTitle),m.getAttribute("aria-label")!==_.accessibleHint&&_.accessibleHint!==null&&m.setAttribute("aria-label",_.accessibleHint)),(_.accessibleTitle!==m.title||_.tabIndex!==m.tabIndex)&&(m.title=_.accessibleTitle,m.tabIndex=_.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var n=this.renderer,r=n.width,i=n.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=hm+"px",n.style.height=hm+"px",n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=SN.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=t.accessiblePointerEvents,n.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?n.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(n.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&n.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(n),t._accessibleActive=!0,t._accessibleDiv=n,n.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var n=this.renderer.plugins.interaction,r=t.target.displayObject,i=n.eventData;n.dispatchEvent(r,"click",i),n.dispatchEvent(r,"pointertap",i),n.dispatchEvent(r,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var n=this.renderer.plugins.interaction,r=t.target.displayObject,i=n.eventData;n.dispatchEvent(r,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var n=this.renderer.plugins.interaction,r=t.target.displayObject,i=n.eventData;n.dispatchEvent(r,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===vxe&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e.extension={name:"accessibility",type:[Nt.RendererPlugin,Nt.CanvasRendererPlugin]},e}();/*!
 * @pixi/interaction - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var WS=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ft,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,n,r){return t.worldTransform.applyInverse(r||this.global,n)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var n="buttons"in t&&t.buttons;this.buttons=Number.isInteger(n)?n:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XS=function(e,t){return XS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},XS(e,t)};function Sxe(e,t){XS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xj=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Jm=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,n){n?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),wxe=function(){function e(){this._tempPoint=new ft}return e.prototype.recursiveFindHit=function(t,n,r,i,o){var a;if(!n||!n.visible)return!1;var s=t.data.global;o=n.interactive||o;var u=!1,l=o,f=!0;if(n.hitArea)i&&(n.worldTransform.applyInverse(s,this._tempPoint),n.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,f=!1)),l=!1;else if(n._mask&&i){var d=n._mask.isMaskData?n._mask.maskObject:n._mask;d&&!(!((a=d.containsPoint)===null||a===void 0)&&a.call(d,s))&&(i=!1)}if(f&&n.interactiveChildren&&n.children)for(var p=n.children,m=p.length-1;m>=0;m--){var v=p[m],_=this.recursiveFindHit(t,v,r,i,l);if(_){if(!v.parent)continue;l=!1,_&&(t.target&&(i=!1),u=!0)}}return o&&(i&&!t.target&&!n.hitArea&&n.containsPoint&&n.containsPoint(s)&&(u=!0),n.interactive&&(u&&!t.target&&(t.target=n),r&&r(t,n,!!u))),u},e.prototype.findHit=function(t,n,r,i){this.recursiveFindHit(t,n,r,i,!1)},e}(),qj={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};gn.mixin(qj);var dm=1,pm={target:null,data:{global:null}},Kj=function(e){Sxe(t,e);function t(n,r){var i=e.call(this)||this;return r=r||{},i.renderer=n,i.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new WS,i.mouse.identifier=dm,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[dm]=i.mouse,i.interactionDataPool=[],i.eventData=new Xj,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new wxe,i._tempDisplayObject=new AC,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=r.useSystemTicker!==void 0?r.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(n){this._useSystemTicker=n,n?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(n,r){return pm.target=null,pm.data.global=n,r||(r=this.lastObjectRendered),this.processInteractive(pm,r,null,!0),pm.target},t.prototype.setTargetElement=function(n,r){r===void 0&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=n,this.resolution=r,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(cn.system.add(this.tickerUpdate,this,oo.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(cn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="none",n.msTouchAction="none"):this.supportsPointerEvents&&(n.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="",n.msTouchAction=""):this.supportsPointerEvents&&(n.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(n){this._deltaTime+=n,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var n in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(n)){var r=this.activeInteractionData[n];if(r.originalEvent&&r.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(n){n=n||"default";var r=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(r=!1),this.currentCursorMode!==n){this.currentCursorMode=n;var i=this.cursorStyles[n];if(i)switch(typeof i){case"string":r&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(n);break;case"object":r&&Object.assign(this.interactionDOMElement.style,i);break}else r&&typeof n=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,n)&&(this.interactionDOMElement.style.cursor=n)}},t.prototype.dispatchEvent=function(n,r,i){(!i.stopPropagationHint||n===i.stopsPropagatingAt)&&(i.currentTarget=n,i.type=r,n.emit(r,i),n[r]&&n[r](i))},t.prototype.delayDispatchEvent=function(n,r,i){this.delayedEvents.push({displayObject:n,eventString:r,eventData:i})},t.prototype.mapPositionToPoint=function(n,r,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;n.x=(r-o.left)*(this.interactionDOMElement.width/o.width)*a,n.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(n,r,i,o){var a=this.search.findHit(n,r,i,o),s=this.delayedEvents;if(!s.length)return a;n.stopPropagationHint=!1;var u=s.length;this.delayedEvents=[];for(var l=0;l<u;l++){var f=s[l],d=f.displayObject,p=f.eventString,m=f.eventData;m.stopsPropagatingAt===d&&(m.stopPropagationHint=!0),this.dispatchEvent(d,p,m)}return a},t.prototype.onPointerDown=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n);if(this.autoPreventDefault&&r[0].isNormalized){var i=n.cancelable||!("cancelable"in n);i&&n.preventDefault()}for(var o=r.length,a=0;a<o;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=n,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var f=s.button===2;this.emit(f?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(n,r,i){var o=n.data,a=n.data.identifier;if(i){if(r.trackedPointers[a]||(r.trackedPointers[a]=new Jm(a)),this.dispatchEvent(r,"pointerdown",n),o.pointerType==="touch")this.dispatchEvent(r,"touchstart",n);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;s?r.trackedPointers[a].rightDown=!0:r.trackedPointers[a].leftDown=!0,this.dispatchEvent(r,s?"rightdown":"mousedown",n)}}},t.prototype.onPointerComplete=function(n,r,i){var o=this.normalizeToPointerData(n),a=o.length,s=n.target;n.composedPath&&n.composedPath().length>0&&(s=n.composedPath()[0]);for(var u=s!==this.interactionDOMElement?"outside":"",l=0;l<a;l++){var f=o[l],d=this.getInteractionDataForPointerId(f),p=this.configureInteractionEventForDOMEvent(this.eventData,f,d);if(p.data.originalEvent=n,this.processInteractive(p,this.lastObjectRendered,i,r||!u),this.emit(r?"pointercancel":"pointerup"+u,p),f.pointerType==="mouse"||f.pointerType==="pen"){var m=f.button===2;this.emit(m?"rightup"+u:"mouseup"+u,p)}else f.pointerType==="touch"&&(this.emit(r?"touchcancel":"touchend"+u,p),this.releaseInteractionDataForPointerId(f.pointerId))}},t.prototype.onPointerCancel=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(n,r){var i=n.data,o=n.data.identifier;r.trackedPointers[o]!==void 0&&(delete r.trackedPointers[o],this.dispatchEvent(r,"pointercancel",n),i.pointerType==="touch"&&this.dispatchEvent(r,"touchcancel",n))},t.prototype.onPointerUp=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!1,this.processPointerUp)},t.prototype.processPointerUp=function(n,r,i){var o=n.data,a=n.data.identifier,s=r.trackedPointers[a],u=o.pointerType==="touch",l=o.pointerType==="mouse"||o.pointerType==="pen",f=!1;if(l){var d=o.button===2,p=Jm.FLAGS,m=d?p.RIGHT_DOWN:p.LEFT_DOWN,v=s!==void 0&&s.flags&m;i?(this.dispatchEvent(r,d?"rightup":"mouseup",n),v&&(this.dispatchEvent(r,d?"rightclick":"click",n),f=!0)):v&&this.dispatchEvent(r,d?"rightupoutside":"mouseupoutside",n),s&&(d?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(r,"pointerup",n),u&&this.dispatchEvent(r,"touchend",n),s&&((!l||f)&&this.dispatchEvent(r,"pointertap",n),u&&(this.dispatchEvent(r,"tap",n),s.over=!1))):s&&(this.dispatchEvent(r,"pointerupoutside",n),u&&this.dispatchEvent(r,"touchendoutside",n)),s&&s.none&&delete r.trackedPointers[a]},t.prototype.onPointerMove=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n);(r[0].pointerType==="mouse"||r[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=r.length,o=0;o<i;o++){var a=r[o],s=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,s);u.data.originalEvent=n,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),a.pointerType==="touch"&&this.emit("touchmove",u),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",u)}r[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(n,r,i){var o=n.data,a=o.pointerType==="touch",s=o.pointerType==="mouse"||o.pointerType==="pen";s&&this.processPointerOverOut(n,r,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(r,"pointermove",n),a&&this.dispatchEvent(r,"touchmove",n),s&&this.dispatchEvent(r,"mousemove",n))},t.prototype.onPointerOut=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n),i=r[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(n,r,i){var o=n.data,a=n.data.identifier,s=o.pointerType==="mouse"||o.pointerType==="pen",u=r.trackedPointers[a];i&&!u&&(u=r.trackedPointers[a]=new Jm(a)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(r,"pointerover",n),s&&this.delayDispatchEvent(r,"mouseover",n)),s&&this.cursor===null&&(this.cursor=r.cursor)):u.over&&(u.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),s&&this.dispatchEvent(r,"mouseout",n),u.none&&delete r.trackedPointers[a]))},t.prototype.onPointerOver=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n),i=r[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)}},t.prototype.getInteractionDataForPointerId=function(n){var r=n.pointerId,i;return r===dm||n.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[r]?i=this.activeInteractionData[r]:(i=this.interactionDataPool.pop()||new WS,i.identifier=r,this.activeInteractionData[r]=i),i.copyEvent(n),i},t.prototype.releaseInteractionDataForPointerId=function(n){var r=this.activeInteractionData[n];r&&(delete this.activeInteractionData[n],r.reset(),this.interactionDataPool.push(r))},t.prototype.configureInteractionEventForDOMEvent=function(n,r,i){return n.data=i,this.mapPositionToPoint(i.global,r.clientX,r.clientY),r.pointerType==="touch"&&(r.globalX=i.global.x,r.globalY=i.global.y),i.originalEvent=r,n.reset(),n},t.prototype.normalizeToPointerData=function(n){var r=[];if(this.supportsTouchEvents&&n instanceof TouchEvent)for(var i=0,o=n.changedTouches.length;i<o;i++){var a=n.changedTouches[i];typeof a.button>"u"&&(a.button=n.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=n.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=n.touches.length===1&&n.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,r.push(a)}else if(!globalThis.MouseEvent||n instanceof MouseEvent&&(!this.supportsPointerEvents||!(n instanceof globalThis.PointerEvent))){var s=n;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=dm),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,r.push(s)}else r.push(n);return r},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t.extension={name:"interaction",type:[Nt.RendererPlugin,Nt.CanvasRendererPlugin]},t}(Fc);/*!
 * @pixi/extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Exe=new mt,Txe=4,Yj=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,n,r){var i=new Image;return i.src=this.base64(t,n,r),i},e.prototype.base64=function(t,n,r){return this.canvas(t).toDataURL(n,r)},e.prototype.canvas=function(t,n){var r=this._rawPixels(t,n),i=r.pixels,o=r.width,a=r.height,s=r.flipY,u=new $S(o,a,1),l=u.context.getImageData(0,0,o,a);if(e.arrayPostDivide(i,l.data),u.context.putImageData(l,0,0),s){var f=new $S(u.width,u.height,1);f.context.scale(1,-1),f.context.drawImage(u.canvas,0,-a),u.destroy(),u=f}return u.canvas},e.prototype.pixels=function(t,n){var r=this._rawPixels(t,n).pixels;return e.arrayPostDivide(r,r),r},e.prototype._rawPixels=function(t,n){var r=this.renderer,i,o=!1,a,s=!1;if(t)if(t instanceof ws)a=t;else{var u=r.context.webGLVersion>=2?r.multisample:Yt.NONE;if(a=this.renderer.generateTexture(t,{multisample:u}),u!==Yt.NONE){var l=ws.create({width:a.width,height:a.height});r.framebuffer.bind(a.framebuffer),r.framebuffer.blit(l.framebuffer),r.framebuffer.bind(null),a.destroy(!0),a=l}s=!0}a?(i=a.baseTexture.resolution,n=n??a.frame,o=!1,r.renderTexture.bind(a)):(i=r.resolution,n||(n=Exe,n.width=r.width,n.height=r.height),o=!0,r.renderTexture.bind(null));var f=Math.round(n.width*i),d=Math.round(n.height*i),p=new Uint8Array(Txe*f*d),m=r.gl;return m.readPixels(Math.round(n.x*i),Math.round(n.y*i),f,d,m.RGBA,m.UNSIGNED_BYTE,p),s&&a.destroy(!0),{pixels:p,width:f,height:d,flipY:o}},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,n){for(var r=0;r<t.length;r+=4){var i=n[r+3]=t[r+3];i!==0?(n[r]=Math.round(Math.min(t[r]*255/i,255)),n[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),n[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(n[r]=t[r],n[r+1]=t[r+1],n[r+2]=t[r+2])}},e.extension={name:"extract",type:Nt.RendererPlugin},e}();/*!
 * @pixi/loaders - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mm=function(){function e(t,n,r){n===void 0&&(n=!1),this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function EN(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var fa=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var n=this._head;if(t)return!!n;for(var r=[];n;)r.push(n),n=n._next;return r},e.prototype.has=function(t){if(!(t instanceof mm))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,n),i=i._next;return!0},e.prototype.add=function(t,n){if(n===void 0&&(n=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return EN(this,new mm(t,!1,n))},e.prototype.once=function(t,n){if(n===void 0&&(n=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return EN(this,new mm(t,!0,n))},e.prototype.detach=function(t){if(!(t instanceof mm))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function Jj(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(a,s,u){s&&(i[n.q.name][s]=u)}),i}var Db,vm=null,Cxe=0,TN=200,Oxe=204,Axe=1223,Pxe=2;function CN(){}function ON(e,t,n){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=n)}function Bb(e){return e.toString().replace("object ","")}var hn=function(){function e(t,n,r){if(this._dequeue=CN,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=CN,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new fa,this.onProgress=new fa,this.onComplete=new fa,this.onAfterMiddleware=new fa}return e.setExtensionLoadType=function(t,n){ON(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){ON(e._xhrTypeMap,t,n)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var n=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(n)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:typeof Db>"u"&&(Db=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),Db&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,n){this._flags=n?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(n)?n[r]:n));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,n,r){r||(r=t+"/"+this._getExtension(n));var i=document.createElement("source");return i.src=n,i.type=r,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Bb(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Bb(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Bb(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,n="",r=typeof t.status>"u"?TN:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType>"u")&&(n=t.responseText),r===Cxe&&(n.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=TN:r===Axe&&(r=Oxe);var i=r/100|0;if(i===Pxe)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=e.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=t.response||n;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,n){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";n=n||globalThis.location,vm||(vm=document.createElement("a")),vm.href=t;var r=Jj(vm.href,{strictMode:!0}),i=!r.port&&n.port===""||r.port===n.port,o=r.protocol?r.protocol+":":"";return r.host!==n.hostname||!i||o!==n.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var n="";if(this.isDataUrl){var r=t.indexOf("/");n=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),o=t.indexOf("#"),a=Math.min(i>-1?i:t.length,o>-1?o:t.length);t=t.substring(0,a),n=t.substring(t.lastIndexOf(".")+1)}return n.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,avif:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,avif:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(hn||(hn={}));function Vs(){}function Ixe(e){return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,r)}}var Rxe=function(){function e(t,n){this.data=t,this.callback=n}return e}(),jb=function(){function e(t,n){var r=this;if(n===void 0&&(n=1),this.workers=0,this.saturated=Vs,this.unsaturated=Vs,this.empty=Vs,this.drain=Vs,this.error=Vs,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(r.started=!0,i==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var s=new Rxe(i,typeof a=="function"?a:Vs);o?r._tasks.unshift(s):r._tasks.push(s),setTimeout(r.process,1)},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var i=r._tasks.shift();r._tasks.length===0&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(i.data,Ixe(r._next(i)))}},this._worker=t,n===0)throw new Error("Concurrency must not be zero");this.concurrency=n,this.buffer=n/4}return e.prototype._next=function(t){var n=this;return function(){for(var r=arguments,i=[],o=0;o<arguments.length;o++)i[o]=r[o];n.workers-=1,t.callback.apply(t,i),i[0]!=null&&n.error(i[0],t.data),n.workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}},e.prototype.push=function(t,n){this._insert(t,!1,n)},e.prototype.kill=function(){this.workers=0,this.drain=Vs,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,n){this._insert(t,!0,n)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,n,r,i){var o=0,a=t.length;function s(u){if(u||o===a){r&&r(u);return}i?setTimeout(function(){n(t[o++],s)},1):n(t[o++],s)}s()},e.queue=function(t,n){return new e(t,n)},e}(),$b=100,kxe=/(#[\w-]+)?$/,pc=function(){function e(t,n){var r=this;t===void 0&&(t=""),n===void 0&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,l){return r._loadResource(u,l)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,l){return r._loadResource(u,l)},this._queue=jb.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new fa,this.onError=new fa,this.onLoad=new fa,this.onStart=new fa,this.onComplete=new fa;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return e.prototype._add=function(t,n,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(n=this._prepareUrl(n),this.resources[t]=new hn(t,n,r),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var u=o.progressChunk*(a.length+1),l=u/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var s=0;s<a.length;++s)a[s].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var n=this.resources[t];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(kr("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,r=$b/n,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var n=Jj(t,{strictMode:!0}),r;if(n.protocol||!n.path||t.indexOf("//")===0?r=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?r=this.baseUrl+"/"+t:r=this.baseUrl+t,this.defaultQueryString){var i=kxe.exec(r)[0];r=r.slice(0,r.length-i.length),r.indexOf("?")!==-1?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},e.prototype._loadResource=function(t,n){var r=this;t._dequeue=n,jb.eachSeries(this._beforeMiddleware,function(i,o){i.call(r,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=$b,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var n=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),jb.eachSeries(this._afterMiddleware,function(r,i){r.call(n,t,i)},function(){t.onAfterMiddleware.dispatch(t),n.progress=Math.min($b,n.progress+t.progressChunk),n.onProgress.dispatch(n,t),t.error?n.onError.dispatch(t.error,n,t):n.onLoad.dispatch(n,t),n._resourcesParsing.splice(n._resourcesParsing.indexOf(t),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return kr("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Vo.add({type:Nt.Loader,ref:t}),e},e._plugins=[],e}();Vo.handleByList(Nt.Loader,pc._plugins);pc.prototype.add=function(t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(typeof t=="object"&&(r=t,i=n||r.callback||r.onComplete,n=r.url,t=r.name||r.key||r.url),typeof n!="string"&&(i=r,r=n,n=t),typeof n!="string")throw new Error("No url passed to add resource to loader.");return typeof r=="function"&&(i=r,r=null),this._add(t,n,r,i)};var Zj=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?pc.shared:new pc},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.extension=Nt.Application,e}(),Qj=function(){function e(){}return e.add=function(){hn.setExtensionLoadType("svg",hn.LOAD_TYPE.XHR),hn.setExtensionXhrType("svg",hn.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){if(t.data&&(t.type===hn.TYPE.IMAGE||t.extension==="svg")){var r=t.data,i=t.url,o=t.name,a=t.metadata;We.fromLoader(r,i,o,a).then(function(s){t.texture=s,n()}).catch(n)}else n()},e.extension=Nt.Loader,e}(),Nxe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lxe(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=e.charCodeAt(n++)&255:r[o]=0;i[0]=r[0]>>2,i[1]=(r[0]&3)<<4|r[1]>>4,i[2]=(r[1]&15)<<2|r[2]>>6,i[3]=r[2]&63;var a=n-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)t+=Nxe.charAt(i[o])}return t}function Mxe(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===hn.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var n=e.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){e.data=new Image,e.data.src="data:"+n+";base64,"+Lxe(e.xhr.responseText),e.type=hn.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var r=globalThis.URL||globalThis.webkitURL,i=r.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=i,e.type=hn.TYPE.IMAGE,e.data.onload=function(){r.revokeObjectURL(i),e.data.onload=null,t()};return}}t()}var Fxe=function(){function e(){}return e.extension=Nt.Loader,e.use=Mxe,e}();Vo.add(Qj,Fxe);/*!
 * @pixi/compressed-textures - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kt,it;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(it||(it={}));var nd=(kt={},kt[it.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,kt[it.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,kt[it.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,kt[it.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,kt[it.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,kt[it.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,kt[it.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,kt[it.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,kt[it.COMPRESSED_R11_EAC]=.5,kt[it.COMPRESSED_SIGNED_R11_EAC]=.5,kt[it.COMPRESSED_RG11_EAC]=1,kt[it.COMPRESSED_SIGNED_RG11_EAC]=1,kt[it.COMPRESSED_RGB8_ETC2]=.5,kt[it.COMPRESSED_RGBA8_ETC2_EAC]=1,kt[it.COMPRESSED_SRGB8_ETC2]=.5,kt[it.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,kt[it.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,kt[it.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,kt[it.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,kt[it.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,kt[it.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,kt[it.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,kt[it.COMPRESSED_RGB_ETC1_WEBGL]=.5,kt[it.COMPRESSED_RGB_ATC_WEBGL]=.5,kt[it.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,kt[it.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,kt[it.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,kt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qS=function(e,t){return qS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},qS(e,t)};function e$(e,t){qS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Dxe(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(f){try{l(r.next(f))}catch(d){a(d)}}function u(f){try{l(r.throw(f))}catch(d){a(d)}}function l(f){f.done?o(f.value):i(f.value).then(s,u)}l((r=r.apply(e,t||[])).next())})}function Bxe(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(f){l=[6,f],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var t$=function(e){e$(t,e);function t(n,r){r===void 0&&(r={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof n=="string"?(o=n,a=new Uint8Array):(o=null,a=n),i=e.call(this,a,r)||this,i.origin=o,i.buffer=a?new ng(a):null,i.origin&&r.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(n){},t.prototype.load=function(){return Dxe(this,void 0,Promise,function(){var n,r,i;return Bxe(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return n=o.sent(),[4,n.blob()];case 2:return r=o.sent(),[4,r.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new ng(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(Du),rg=function(e){e$(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=t._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||t._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(n,r,i){var o=n.gl,a=n.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,u=this.levels;s<u;s++){var l=this._levelBuffers[s],f=l.levelID,d=l.levelWidth,p=l.levelHeight,m=l.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,f,this.format,d,p,0,m)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(n){if(n>=33776&&n<=33779)return"s3tc";if(n>=37488&&n<=37497)return"etc";if(n>=35840&&n<=35843)return"pvrtc";if(n>=36196)return"etc1";if(n>=35986&&n<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(n,r,i,o,a,s,u){for(var l=new Array(i),f=n.byteOffset,d=s,p=u,m=d+o-1&~(o-1),v=p+a-1&~(a-1),_=m*v*nd[r],y=0;y<i;y++)l[y]={levelID:y,levelWidth:i>1?d:m,levelHeight:i>1?p:v,levelBuffer:new Uint8Array(n.buffer,f,_)},f+=_,d=d>>1||1,p=p>>1||1,m=d+o-1&~(o-1),v=p+a-1&~(a-1),_=m*v*nd[r];return l},t}(t$),n$=function(){function e(){}return e.use=function(t,n){var r=t.data,i=this;if(t.type===hn.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var o=r.textures,a=void 0,s=void 0,u=0,l=o.length;u<l;u++){var f=o[u],d=f.src,p=f.format;if(p||(s=d),e.textureFormats[p]){a=d;break}}if(a=a||s,!a){n(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(a===t.url){n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var m={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},v=cu.resolve(t.url.replace(i.baseUrl,""),a),_=r.cacheID;i.add(_,v,m,function(y){if(y.error){n(y.error);return}var x=y.texture,b=x===void 0?null:x,w=y.textures,T=w===void 0?{}:w;Object.assign(t,{texture:b,textures:T}),n()})}else n()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=Pe.ADAPTER.createCanvas(),n=t.getContext("webgl");if(!n)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var r={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=r}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;e._textureFormats={};for(var n in t){var r=t[n];r&&Object.assign(e._textureFormats,Object.getPrototypeOf(r))}}return e._textureFormats},enumerable:!1,configurable:!0}),e.extension=Nt.Loader,e}();function r$(e,t,n){var r={textures:{},texture:null};if(!t)return r;var i=t.map(function(o){return new We(new gt(o,Object.assign({mipmap:br.OFF,alphaMode:Fi.NO_PREMULTIPLIED_ALPHA},n)))});return i.forEach(function(o,a){var s=o.baseTexture,u=e+"-"+(a+1);gt.addToCache(s,u),We.addToCache(o,u),a===0&&(gt.addToCache(s,e),We.addToCache(o,e),r.texture=o),r.textures[u]=o}),r}var Lf,Wi,Ub=4,gm=124,jxe=32,AN=20,$xe=542327876,ym={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Uxe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},_m={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Yi;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Yi||(Yi={}));var KS;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(KS||(KS={}));var Gxe=1,zxe=2,Hxe=4,Vxe=64,Wxe=512,Xxe=131072,qxe=827611204,Kxe=861165636,Yxe=894720068,Jxe=808540228,Zxe=4,Qxe=(Lf={},Lf[qxe]=it.COMPRESSED_RGBA_S3TC_DXT1_EXT,Lf[Kxe]=it.COMPRESSED_RGBA_S3TC_DXT3_EXT,Lf[Yxe]=it.COMPRESSED_RGBA_S3TC_DXT5_EXT,Lf),ebe=(Wi={},Wi[Yi.DXGI_FORMAT_BC1_TYPELESS]=it.COMPRESSED_RGBA_S3TC_DXT1_EXT,Wi[Yi.DXGI_FORMAT_BC1_UNORM]=it.COMPRESSED_RGBA_S3TC_DXT1_EXT,Wi[Yi.DXGI_FORMAT_BC2_TYPELESS]=it.COMPRESSED_RGBA_S3TC_DXT3_EXT,Wi[Yi.DXGI_FORMAT_BC2_UNORM]=it.COMPRESSED_RGBA_S3TC_DXT3_EXT,Wi[Yi.DXGI_FORMAT_BC3_TYPELESS]=it.COMPRESSED_RGBA_S3TC_DXT5_EXT,Wi[Yi.DXGI_FORMAT_BC3_UNORM]=it.COMPRESSED_RGBA_S3TC_DXT5_EXT,Wi[Yi.DXGI_FORMAT_BC1_UNORM_SRGB]=it.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Wi[Yi.DXGI_FORMAT_BC2_UNORM_SRGB]=it.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Wi[Yi.DXGI_FORMAT_BC3_UNORM_SRGB]=it.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Wi);function i$(e){var t=new Uint32Array(e),n=t[0];if(n!==$xe)throw new Error("Invalid DDS file magic word");var r=new Uint32Array(e,0,gm/Uint32Array.BYTES_PER_ELEMENT),i=r[ym.HEIGHT],o=r[ym.WIDTH],a=r[ym.MIPMAP_COUNT],s=new Uint32Array(e,ym.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,jxe/Uint32Array.BYTES_PER_ELEMENT),u=s[Gxe];if(u&Hxe){var l=s[Uxe.FOURCC];if(l!==Jxe){var f=Qxe[l],d=Ub+gm,p=new Uint8Array(e,d),m=new rg(p,{format:f,width:o,height:i,levels:a});return[m]}var v=Ub+gm,_=new Uint32Array(t.buffer,v,AN/Uint32Array.BYTES_PER_ELEMENT),y=_[_m.DXGI_FORMAT],x=_[_m.RESOURCE_DIMENSION],b=_[_m.MISC_FLAG],w=_[_m.ARRAY_SIZE],T=ebe[y];if(T===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+y);if(b===Zxe)throw new Error("DDSParser does not support cubemap textures");if(x===KS.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var C=new Array,O=Ub+gm+AN;if(w===1)C.push(new Uint8Array(e,O));else{for(var A=nd[T],M=0,D=o,B=i,G=0;G<a;G++){var U=Math.max(1,D+3&-4),H=Math.max(1,B+3&-4),Q=U*H*A;M+=Q,D=D>>>1,B=B>>>1}for(var ee=O,G=0;G<w;G++)C.push(new Uint8Array(e,ee,M)),ee+=M}return C.map(function(ne){return new rg(ne,{format:T,width:o,height:i,levels:a})})}throw u&Vxe?new Error("DDSParser does not support uncompressed texture data."):u&Wxe?new Error("DDSParser does not supported YUV uncompressed texture data."):u&Xxe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&zxe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Da,ia,Mf,PN=[171,75,84,88,32,49,49,187,13,10,26,10],tbe=67305985,Xi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},YS=64,JS=(Da={},Da[He.UNSIGNED_BYTE]=1,Da[He.UNSIGNED_SHORT]=2,Da[He.INT]=4,Da[He.UNSIGNED_INT]=4,Da[He.FLOAT]=4,Da[He.HALF_FLOAT]=8,Da),o$=(ia={},ia[Ce.RGBA]=4,ia[Ce.RGB]=3,ia[Ce.RG]=2,ia[Ce.RED]=1,ia[Ce.LUMINANCE]=1,ia[Ce.LUMINANCE_ALPHA]=2,ia[Ce.ALPHA]=1,ia),a$=(Mf={},Mf[He.UNSIGNED_SHORT_4_4_4_4]=2,Mf[He.UNSIGNED_SHORT_5_5_5_1]=2,Mf[He.UNSIGNED_SHORT_5_6_5]=2,Mf);function s$(e,t,n){n===void 0&&(n=!1);var r=new DataView(t);if(!nbe(e,r))return null;var i=r.getUint32(Xi.ENDIANNESS,!0)===tbe,o=r.getUint32(Xi.GL_TYPE,i),a=r.getUint32(Xi.GL_FORMAT,i),s=r.getUint32(Xi.GL_INTERNAL_FORMAT,i),u=r.getUint32(Xi.PIXEL_WIDTH,i),l=r.getUint32(Xi.PIXEL_HEIGHT,i)||1,f=r.getUint32(Xi.PIXEL_DEPTH,i)||1,d=r.getUint32(Xi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32(Xi.NUMBER_OF_FACES,i),m=r.getUint32(Xi.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(Xi.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||f!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");var _=4,y=4,x=u+3&-4,b=l+3&-4,w=new Array(d),T=u*l;o===0&&(T=x*b);var C;if(o!==0?JS[o]?C=JS[o]*o$[a]:C=a$[o]:C=nd[s],C===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var O=n?ibe(r,v,i):null,A=T*C,M=A,D=u,B=l,G=x,U=b,H=YS+v,Q=0;Q<m;Q++){for(var ee=r.getUint32(H,i),ne=H+4,ce=0;ce<d;ce++){var Ae=w[ce];Ae||(Ae=w[ce]=new Array(m)),Ae[Q]={levelID:Q,levelWidth:m>1||o!==0?D:G,levelHeight:m>1||o!==0?B:U,levelBuffer:new Uint8Array(t,ne,M)},ne+=M}H+=ee+4,H=H%4!==0?H+4-H%4:H,D=D>>1||1,B=B>>1||1,G=D+_-1&~(_-1),U=B+y-1&~(y-1),M=G*U*C}return o!==0?{uncompressed:w.map(function(pe){var fe=pe[0].levelBuffer,L=!1;return o===He.FLOAT?fe=new Float32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4):o===He.UNSIGNED_INT?(L=!0,fe=new Uint32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4)):o===He.INT&&(L=!0,fe=new Int32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4)),{resource:new Du(fe,{width:pe[0].levelWidth,height:pe[0].levelHeight}),type:o,format:L?rbe(a):a}}),kvData:O}:{compressed:w.map(function(pe){return new rg(null,{format:s,width:u,height:l,levels:m,levelBuffers:pe})}),kvData:O}}function nbe(e,t){for(var n=0;n<PN.length;n++)if(t.getUint8(n)!==PN[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0}function rbe(e){switch(e){case Ce.RGBA:return Ce.RGBA_INTEGER;case Ce.RGB:return Ce.RGB_INTEGER;case Ce.RG:return Ce.RG_INTEGER;case Ce.RED:return Ce.RED_INTEGER;default:return e}}function ibe(e,t,n){for(var r=new Map,i=0;i<t;){var o=e.getUint32(YS+i,n),a=YS+i+4,s=3-(o+3)%4;if(o===0||o>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<o&&e.getUint8(a+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=new TextDecoder().decode(new Uint8Array(e.buffer,a,u)),f=new DataView(e.buffer,a+u+1,o-u-1);r.set(l,f),i+=4+o+s}return r}hn.setExtensionXhrType("dds",hn.XHR_RESPONSE_TYPE.BUFFER);var u$=function(){function e(){}return e.use=function(t,n){if(t.extension==="dds"&&t.data)try{Object.assign(t,r$(t.name||t.url,i$(t.data),t.metadata))}catch(r){n(r);return}n()},e.extension=Nt.Loader,e}();hn.setExtensionXhrType("ktx",hn.XHR_RESPONSE_TYPE.BUFFER);var l$=function(){function e(){}return e.use=function(t,n){if(t.extension==="ktx"&&t.data)try{var r=t.name||t.url,i=s$(r,t.data,this.loadKeyValueData),o=i.compressed,a=i.uncompressed,s=i.kvData;if(o){var u=r$(r,o,t.metadata);if(s&&u.textures)for(var l in u.textures)u.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(t,u)}else if(a){var f={};a.forEach(function(d,p){var m=new We(new gt(d.resource,{mipmap:br.OFF,alphaMode:Fi.NO_PREMULTIPLIED_ALPHA,type:d.type,format:d.format})),v=r+"-"+(p+1);s&&(m.baseTexture.ktxKeyValueData=s),gt.addToCache(m.baseTexture,v),We.addToCache(m,v),p===0&&(f[r]=m,gt.addToCache(m.baseTexture,r),We.addToCache(m,r)),f[v]=m}),Object.assign(t,{textures:f})}}catch(d){n(d);return}n()},e.extension=Nt.Loader,e.loadKeyValueData=!1,e}();/*!
 * @pixi/particle-container - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZS=function(e,t){return ZS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ZS(e,t)};function c$(e,t){ZS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var obe=function(e){c$(t,e);function t(n,r,i,o){n===void 0&&(n=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,s=16384;return i>s&&(i=s),a._properties=[!1,!0,!1,!1,!1],a._maxSize=n,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=ze.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(r),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(n){n&&(this._properties[0]="vertices"in n||"scale"in n?!!n.vertices||!!n.scale:this._properties[0],this._properties[1]="position"in n?!!n.position:this._properties[1],this._properties[2]="rotation"in n?!!n.rotation:this._properties[2],this._properties[3]="uvs"in n?!!n.uvs:this._properties[3],this._properties[4]="tint"in n||"alpha"in n?!!n.tint||!!n.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,In(n,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(n){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),n.batch.setObjectRenderer(n.plugins.particle),n.plugins.particle.render(this))},t.prototype.onChildrenChange=function(n){for(var r=Math.floor(n/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._buffers=null}},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(ur),IN=function(){function e(t,n,r){this.geometry=new jc,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||He.FLOAT,offset:o.offset},n[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,n=0;this.indexBuffer=new An(oj(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=n,n+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new An(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];i.offset=a,a+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new An(this.staticData,!0,!1);for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===He.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===He.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,n,r){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,n,r,o.type===He.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,n,r){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,n,r,o.type===He.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),abe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,sbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,f$=function(e){c$(t,e);function t(n){var r=e.call(this,n)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Rn,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:He.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=ya.from(sbe,abe,{}),r.state=Ps.for2d(),r}return t.prototype.render=function(n){var r=n.children,i=n._maxSize,o=n._batchSize,a=this.renderer,s=r.length;if(s!==0){s>i&&!n.autoResize&&(s=i);var u=n._buffers;u||(u=n._buffers=this.generateBuffers(n));var l=r[0]._texture.baseTexture,f=l.alphaMode>0;this.state.blendMode=EC(n.blendMode,f),a.state.set(this.state);var d=a.gl,p=n.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=ij(n.tintRgb,n.worldAlpha,this.shader.uniforms.uColor,f),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var m=!1,v=0,_=0;v<s;v+=o,_+=1){var y=s-v;y>o&&(y=o),_>=u.length&&u.push(this._generateOneMoreBuffer(n));var x=u[_];x.uploadDynamic(r,v,y);var b=n._bufferUpdateIDs[_]||0;m=m||x._updateID<b,m&&(x._updateID=n._updateID,x.uploadStatic(r,v,y)),a.geometry.bind(x.geometry),d.drawElements(d.TRIANGLES,y*6,d.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(n){for(var r=[],i=n._maxSize,o=n._batchSize,a=n._properties,s=0;s<i;s+=o)r.push(new IN(this.properties,a,o));return r},t.prototype._generateOneMoreBuffer=function(n){var r=n._batchSize,i=n._properties;return new IN(this.properties,i,r)},t.prototype.uploadVertices=function(n,r,i,o,a,s){for(var u=0,l=0,f=0,d=0,p=0;p<i;++p){var m=n[r+p],v=m._texture,_=m.scale.x,y=m.scale.y,x=v.trim,b=v.orig;x?(l=x.x-m.anchor.x*b.width,u=l+x.width,d=x.y-m.anchor.y*b.height,f=d+x.height):(u=b.width*(1-m.anchor.x),l=b.width*-m.anchor.x,f=b.height*(1-m.anchor.y),d=b.height*-m.anchor.y),o[s]=l*_,o[s+1]=d*y,o[s+a]=u*_,o[s+a+1]=d*y,o[s+a*2]=u*_,o[s+a*2+1]=f*y,o[s+a*3]=l*_,o[s+a*3+1]=f*y,s+=a*4}},t.prototype.uploadPosition=function(n,r,i,o,a,s){for(var u=0;u<i;u++){var l=n[r+u].position;o[s]=l.x,o[s+1]=l.y,o[s+a]=l.x,o[s+a+1]=l.y,o[s+a*2]=l.x,o[s+a*2+1]=l.y,o[s+a*3]=l.x,o[s+a*3+1]=l.y,s+=a*4}},t.prototype.uploadRotation=function(n,r,i,o,a,s){for(var u=0;u<i;u++){var l=n[r+u].rotation;o[s]=l,o[s+a]=l,o[s+a*2]=l,o[s+a*3]=l,s+=a*4}},t.prototype.uploadUvs=function(n,r,i,o,a,s){for(var u=0;u<i;++u){var l=n[r+u]._texture._uvs;l?(o[s]=l.x0,o[s+1]=l.y0,o[s+a]=l.x1,o[s+a+1]=l.y1,o[s+a*2]=l.x2,o[s+a*2+1]=l.y2,o[s+a*3]=l.x3,o[s+a*3+1]=l.y3,s+=a*4):(o[s]=0,o[s+1]=0,o[s+a]=0,o[s+a+1]=0,o[s+a*2]=0,o[s+a*2+1]=0,o[s+a*3]=0,o[s+a*3+1]=0,s+=a*4)}},t.prototype.uploadTint=function(n,r,i,o,a,s){for(var u=0;u<i;++u){var l=n[r+u],f=l._texture.baseTexture.alphaMode>0,d=l.alpha,p=d<1&&f?jy(l._tintRGB,d):l._tintRGB+(d*255<<24);o[s]=p,o[s+a]=p,o[s+a*2]=p,o[s+a*3]=p,s+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t.extension={name:"particle",type:Nt.RendererPlugin},t}(Id);/*!
 * @pixi/graphics - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Oo;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(Oo||(Oo={}));var ma;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(ma||(ma={}));var mc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},nO=function(){function e(){this.color=16777215,this.alpha=1,this.texture=We.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=We.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QS=function(e,t){return QS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},QS(e,t)};function rO(e,t){QS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function RN(e,t){var n,r;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,s=e[i-2],u=e[i-1];a<i;a+=2){var l=e[a],f=e[a+1];o+=(l-s)*(f+u),s=l,u=f}if(!t&&o>0||t&&o<=0)for(var d=i/2,a=d+d%2;a<i;a+=2){var p=i-a-2,m=i-a-1,v=a,_=a+1;n=[e[v],e[p]],e[p]=n[0],e[v]=n[1],r=[e[_],e[m]],e[m]=r[0],e[_]=r[1]}}}var iO={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(n.length>=6){RN(n,!1);for(var a=[],s=0;s<r.length;s++){var u=r[s];RN(u.points,!0),a.push(n.length/2),n=n.concat(u.points)}var l=dC(n,a,2);if(!l)return;for(var f=i.length/2,s=0;s<l.length;s+=3)o.push(l[s]+f),o.push(l[s+1]+f),o.push(l[s+2]+f);for(var s=0;s<n.length;s++)i.push(n[s])}}},rd={build:function(e){var t=e.points,n,r,i,o,a,s;if(e.type===Bn.CIRC){var u=e.shape;n=u.x,r=u.y,a=s=u.radius,i=o=0}else if(e.type===Bn.ELIP){var l=e.shape;n=l.x,r=l.y,a=l.width,s=l.height,i=o=0}else{var f=e.shape,d=f.width/2,p=f.height/2;n=f.x+d,r=f.y+p,a=s=Math.max(0,Math.min(f.radius,Math.min(d,p))),i=d-a,o=p-s}if(!(a>=0&&s>=0&&i>=0&&o>=0)){t.length=0;return}var m=Math.ceil(2.3*Math.sqrt(a+s)),v=m*8+(i?4:0)+(o?4:0);if(t.length=v,v!==0){if(m===0){t.length=8,t[0]=t[6]=n+i,t[1]=t[3]=r+o,t[2]=t[4]=n-i,t[5]=t[7]=r-o;return}var _=0,y=m*4+(i?2:0)+2,x=y,b=v;{var w=i+a,T=o,C=n+w,O=n-w,A=r+T;if(t[_++]=C,t[_++]=A,t[--y]=A,t[--y]=O,o){var M=r-T;t[x++]=O,t[x++]=M,t[--b]=M,t[--b]=C}}for(var D=1;D<m;D++){var B=Math.PI/2*(D/m),w=i+Math.cos(B)*a,T=o+Math.sin(B)*s,C=n+w,O=n-w,A=r+T,M=r-T;t[_++]=C,t[_++]=A,t[--y]=A,t[--y]=O,t[x++]=O,t[x++]=M,t[--b]=M,t[--b]=C}{var w=i,T=o+s,C=n+w,O=n-w,A=r+T,M=r-T;t[_++]=C,t[_++]=A,t[--b]=M,t[--b]=C,i&&(t[_++]=O,t[_++]=A,t[--b]=M,t[--b]=O)}}},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices;if(n.length!==0){var o=r.length/2,a=o,s,u;if(e.type!==Bn.RREC){var l=e.shape;s=l.x,u=l.y}else{var f=e.shape;s=f.x+f.width/2,u=f.y+f.height/2}var d=e.matrix;r.push(e.matrix?d.a*s+d.c*u+d.tx:s,e.matrix?d.b*s+d.d*u+d.ty:u),o++,r.push(n[0],n[1]);for(var p=2;p<n.length;p+=2)r.push(n[p],n[p+1]),i.push(o++,a,o);i.push(a+1,a,o)}}},h$={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function ml(e,t,n){var r=t-e;return e+r*n}function xm(e,t,n,r,i,o,a){a===void 0&&(a=[]);for(var s=20,u=a,l=0,f=0,d=0,p=0,m=0,v=0,_=0,y=0;_<=s;++_)y=_/s,l=ml(e,n,y),f=ml(t,r,y),d=ml(n,i,y),p=ml(r,o,y),m=ml(l,d,y),v=ml(f,p,y),!(_===0&&u[u.length-2]===m&&u[u.length-1]===v)&&u.push(m,v);return u}var d$={build:function(e){if(id.nextRoundedRectBehavior){rd.build(e);return}var t=e.shape,n=e.points,r=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));n.length=0,s?(xm(r,i+s,r,i,r+s,i,n),xm(r+o-s,i,r+o,i,r+o,i+s,n),xm(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),xm(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)},triangulate:function(e,t){if(id.nextRoundedRectBehavior){rd.triangulate(e,t);return}for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=dC(n,null,2),s=0,u=a.length;s<u;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var s=0,u=n.length;s<u;s++)r.push(n[s],n[++s])}};function kN(e,t,n,r,i,o,a,s){var u=e-n*i,l=t-r*i,f=e+n*o,d=t+r*o,p,m;a?(p=r,m=-n):(p=-r,m=n);var v=u+p,_=l+m,y=f+p,x=d+m;return s.push(v,_),s.push(y,x),2}function Ws(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,f=Math.atan2(u,l),d=Math.atan2(i-e,o-t);s&&f<d?f+=Math.PI*2:!s&&f>d&&(d+=Math.PI*2);var p=f,m=d-f,v=Math.abs(m),_=Math.sqrt(u*u+l*l),y=(15*v*Math.sqrt(_)/Math.PI>>0)+1,x=m/y;if(p+=x,s){a.push(e,t),a.push(n,r);for(var b=1,w=p;b<y;b++,w+=x)a.push(e,t),a.push(e+Math.sin(w)*_,t+Math.cos(w)*_);a.push(e,t),a.push(i,o)}else{a.push(n,r),a.push(e,t);for(var b=1,w=p;b<y;b++,w+=x)a.push(e+Math.sin(w)*_,t+Math.cos(w)*_),a.push(e,t);a.push(i,o),a.push(e,t)}return y*2}function ube(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(r.length!==0){var o=e.lineStyle,a=new ft(r[0],r[1]),s=new ft(r[r.length-2],r[r.length-1]),u=n.type!==Bn.POLY||n.closeStroke,l=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(u){r=r.slice(),l&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var f=(a.x+s.x)*.5,d=(s.y+a.y)*.5;r.unshift(f,d),r.push(f,d)}var p=t.points,m=r.length/2,v=r.length,_=p.length/2,y=o.width/2,x=y*y,b=o.miterLimit*o.miterLimit,w=r[0],T=r[1],C=r[2],O=r[3],A=0,M=0,D=-(T-O),B=w-C,G=0,U=0,H=Math.sqrt(D*D+B*B);D/=H,B/=H,D*=y,B*=y;var Q=o.alignment,ee=(1-Q)*2,ne=Q*2;u||(o.cap===ma.ROUND?v+=Ws(w-D*(ee-ne)*.5,T-B*(ee-ne)*.5,w-D*ee,T-B*ee,w+D*ne,T+B*ne,p,!0)+2:o.cap===ma.SQUARE&&(v+=kN(w,T,D,B,ee,ne,!0,p))),p.push(w-D*ee,T-B*ee),p.push(w+D*ne,T+B*ne);for(var ce=1;ce<m-1;++ce){w=r[(ce-1)*2],T=r[(ce-1)*2+1],C=r[ce*2],O=r[ce*2+1],A=r[(ce+1)*2],M=r[(ce+1)*2+1],D=-(T-O),B=w-C,H=Math.sqrt(D*D+B*B),D/=H,B/=H,D*=y,B*=y,G=-(O-M),U=C-A,H=Math.sqrt(G*G+U*U),G/=H,U/=H,G*=y,U*=y;var Ae=C-w,pe=T-O,fe=C-A,L=M-O,Z=Ae*fe+pe*L,re=pe*fe-L*Ae,ae=re<0;if(Math.abs(re)<.001*Math.abs(Z)){p.push(C-D*ee,O-B*ee),p.push(C+D*ne,O+B*ne),Z>=0&&(o.join===Oo.ROUND?v+=Ws(C,O,C-D*ee,O-B*ee,C-G*ee,O-U*ee,p,!1)+4:v+=2,p.push(C-G*ne,O-U*ne),p.push(C+G*ee,O+U*ee));continue}var le=(-D+w)*(-B+O)-(-D+C)*(-B+T),de=(-G+A)*(-U+O)-(-G+C)*(-U+M),ge=(Ae*de-fe*le)/re,Ie=(L*le-pe*de)/re,ke=(ge-C)*(ge-C)+(Ie-O)*(Ie-O),Ze=C+(ge-C)*ee,Be=O+(Ie-O)*ee,Ue=C-(ge-C)*ne,je=O-(Ie-O)*ne,Se=Math.min(Ae*Ae+pe*pe,fe*fe+L*L),Ge=ae?ee:ne,yt=Se+Ge*Ge*x,Je=ke<=yt;Je?o.join===Oo.BEVEL||ke/x>b?(ae?(p.push(Ze,Be),p.push(C+D*ne,O+B*ne),p.push(Ze,Be),p.push(C+G*ne,O+U*ne)):(p.push(C-D*ee,O-B*ee),p.push(Ue,je),p.push(C-G*ee,O-U*ee),p.push(Ue,je)),v+=2):o.join===Oo.ROUND?ae?(p.push(Ze,Be),p.push(C+D*ne,O+B*ne),v+=Ws(C,O,C+D*ne,O+B*ne,C+G*ne,O+U*ne,p,!0)+4,p.push(Ze,Be),p.push(C+G*ne,O+U*ne)):(p.push(C-D*ee,O-B*ee),p.push(Ue,je),v+=Ws(C,O,C-D*ee,O-B*ee,C-G*ee,O-U*ee,p,!1)+4,p.push(C-G*ee,O-U*ee),p.push(Ue,je)):(p.push(Ze,Be),p.push(Ue,je)):(p.push(C-D*ee,O-B*ee),p.push(C+D*ne,O+B*ne),o.join===Oo.ROUND?ae?v+=Ws(C,O,C+D*ne,O+B*ne,C+G*ne,O+U*ne,p,!0)+2:v+=Ws(C,O,C-D*ee,O-B*ee,C-G*ee,O-U*ee,p,!1)+2:o.join===Oo.MITER&&ke/x<=b&&(ae?(p.push(Ue,je),p.push(Ue,je)):(p.push(Ze,Be),p.push(Ze,Be)),v+=2),p.push(C-G*ee,O-U*ee),p.push(C+G*ne,O+U*ne),v+=2)}w=r[(m-2)*2],T=r[(m-2)*2+1],C=r[(m-1)*2],O=r[(m-1)*2+1],D=-(T-O),B=w-C,H=Math.sqrt(D*D+B*B),D/=H,B/=H,D*=y,B*=y,p.push(C-D*ee,O-B*ee),p.push(C+D*ne,O+B*ne),u||(o.cap===ma.ROUND?v+=Ws(C-D*(ee-ne)*.5,O-B*(ee-ne)*.5,C-D*ee,O-B*ee,C+D*ne,O+B*ne,p,!1)+2:o.cap===ma.SQUARE&&(v+=kN(C,O,D,B,ee,ne,!1,p)));for(var It=t.indices,Cn=mc.epsilon*mc.epsilon,ce=_;ce<v+_-2;++ce)w=p[ce*2],T=p[ce*2+1],C=p[(ce+1)*2],O=p[(ce+1)*2+1],A=p[(ce+2)*2],M=p[(ce+2)*2+1],!(Math.abs(w*(O-M)+C*(M-T)+A*(T-O))<Cn)&&It.push(ce,ce+1,ce+2)}}function lbe(e,t){var n=0,r=e.shape,i=e.points||r.points,o=r.type!==Bn.POLY||r.closeStroke;if(i.length!==0){var a=t.points,s=t.indices,u=i.length/2,l=a.length/2,f=l;for(a.push(i[0],i[1]),n=1;n<u;n++)a.push(i[n*2],i[n*2+1]),s.push(f,f+1),f++;o&&s.push(f,l)}}function ew(e,t){e.lineStyle.native?lbe(e,t):ube(e,t)}var tw=function(){function e(){}return e.curveTo=function(t,n,r,i,o,a){var s=a[a.length-2],u=a[a.length-1],l=u-n,f=s-t,d=i-n,p=r-t,m=Math.abs(l*p-f*d);if(m<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==n)&&a.push(t,n),null;var v=l*l+f*f,_=d*d+p*p,y=l*d+f*p,x=o*Math.sqrt(v)/m,b=o*Math.sqrt(_)/m,w=x*y/v,T=b*y/_,C=x*p+b*f,O=x*d+b*l,A=f*(b+w),M=l*(b+w),D=p*(x+T),B=d*(x+T),G=Math.atan2(M-O,A-C),U=Math.atan2(B-O,D-C);return{cx:C+t,cy:O+n,radius:o,startAngle:G,endAngle:U,anticlockwise:f*d>p*l}},e.arc=function(t,n,r,i,o,a,s,u,l){for(var f=s-a,d=mc._segmentsCount(Math.abs(f)*o,Math.ceil(Math.abs(f)/Qh)*40),p=f/(d*2),m=p*2,v=Math.cos(p),_=Math.sin(p),y=d-1,x=y%1/y,b=0;b<=y;++b){var w=b+x*b,T=p+a+m*w,C=Math.cos(T),O=-Math.sin(T);l.push((v*C+_*O)*o+r,(v*-O+_*C)*o+i)}},e}(),p$=function(){function e(){}return e.curveLength=function(t,n,r,i,o,a,s,u){for(var l=10,f=0,d=0,p=0,m=0,v=0,_=0,y=0,x=0,b=0,w=0,T=0,C=t,O=n,A=1;A<=l;++A)d=A/l,p=d*d,m=p*d,v=1-d,_=v*v,y=_*v,x=y*t+3*_*d*r+3*v*p*o+m*s,b=y*n+3*_*d*i+3*v*p*a+m*u,w=C-x,T=O-b,C=x,O=b,f+=Math.sqrt(w*w+T*T);return f},e.curveTo=function(t,n,r,i,o,a,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var f=mc._segmentsCount(e.curveLength(u,l,t,n,r,i,o,a)),d=0,p=0,m=0,v=0,_=0;s.push(u,l);for(var y=1,x=0;y<=f;++y)x=y/f,d=1-x,p=d*d,m=p*d,v=x*x,_=v*x,s.push(m*u+3*p*x*t+3*d*v*r+_*o,m*l+3*p*x*n+3*d*v*i+_*a)},e}(),m$=function(){function e(){}return e.curveLength=function(t,n,r,i,o,a){var s=t-2*r+o,u=n-2*i+a,l=2*r-2*t,f=2*i-2*n,d=4*(s*s+u*u),p=4*(s*l+u*f),m=l*l+f*f,v=2*Math.sqrt(d+p+m),_=Math.sqrt(d),y=2*d*_,x=2*Math.sqrt(m),b=p/_;return(y*v+_*p*(v-x)+(4*m*d-p*p)*Math.log((2*_+b+v)/(b+x)))/(4*y)},e.curveTo=function(t,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=mc._segmentsCount(e.curveLength(a,s,t,n,r,i)),l=0,f=0,d=1;d<=u;++d){var p=d/u;l=a+(t-a)*p,f=s+(n-s)*p,o.push(l+(t+(r-t)*p-l)*p,f+(n+(i-n)*p-f)*p)}},e}(),v$=function(){function e(){this.reset()}return e.prototype.begin=function(t,n,r){this.reset(),this.style=t,this.start=n,this.attribStart=r},e.prototype.end=function(t,n){this.attribSize=n-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Xs,Zm=(Xs={},Xs[Bn.POLY]=iO,Xs[Bn.CIRC]=rd,Xs[Bn.ELIP]=rd,Xs[Bn.RECT]=h$,Xs[Bn.RREC]=d$,Xs),nw=[],eh=[],rw=function(){function e(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),vl=new ft,g$=function(e){rO(t,e);function t(){var n=e.call(this)||this;return n.closePointEps=1e-4,n.boundsPadding=0,n.uvsFloat32=null,n.indicesUint16=null,n.batchable=!1,n.points=[],n.colors=[],n.uvs=[],n.indices=[],n.textureIds=[],n.graphicsData=[],n.drawCalls=[],n.batchDirty=-1,n.batches=[],n.dirty=0,n.cacheDirty=-1,n.clearDirty=0,n.shapeIndex=0,n._bounds=new ed,n.boundsDirty=-1,n}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),eh.push(this.drawCalls[n]);this.drawCalls.length=0;for(var n=0;n<this.batches.length;n++){var r=this.batches[n];r.reset(),nw.push(r)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(n,r,i,o){r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new rw(n,r,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(n,r){if(r===void 0&&(r=null),!this.graphicsData.length)return null;var i=new rw(n,null,null,r),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(n){for(var r=this.graphicsData,i=0;i<r.length;++i){var o=r[i];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(n,vl):vl.copyFrom(n),o.shape.contains(vl.x,vl.y))){var a=!1;if(o.holes)for(var s=0;s<o.holes.length;s++){var u=o.holes[s];if(u.shape.contains(vl.x,vl.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,r=this.graphicsData,i=null,o=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],o=i.style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var s=r[a],u=s.fillStyle,l=s.lineStyle,f=Zm[s.type];f.build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(u.visible||l.visible)&&this.processHoles(s.holes);for(var d=0;d<2;d++){var p=d===0?u:l;if(p.visible){var m=p.texture.baseTexture,v=this.indices.length,_=this.points.length/2;m.wrapMode=no.REPEAT,d===0?this.processFill(s):this.processLine(s);var y=this.points.length/2-_;y!==0&&(i&&!this._compareStyles(o,p)&&(i.end(v,_),i=null),i||(i=nw.pop()||new v$,i.begin(p,v,_),this.batches.push(i),o=p),this.addUvs(this.points,n,p.texture,_,y,p.matrix))}}}var x=this.indices.length,b=this.points.length/2;if(i&&i.end(x,b),this.batches.length===0){this.batchable=!0;return}var w=b>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&w===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=w?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(n,r){return!(!n||!r||n.texture.baseTexture!==r.texture.baseTexture||n.color+n.alpha!==r.color+r.alpha||!!n.native!=!!r.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var n=0,r=this.graphicsData.length;n<r;n++){var i=this.graphicsData[n],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var n=this.batches,r=0,i=n.length;r<i;r++)for(var o=n[r],a=0;a<o.size;a++){var s=o.start+a;this.indicesUint16[s]=this.indicesUint16[s]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var n=this.batches,r=0;r<n.length;r++)if(n[r].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var n=++gt._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),eh.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=eh.pop();a||(a=new eg,a.texArray=new tg),a.texArray.count=0,a.start=0,a.size=0,a.type=Ii.TRIANGLES;var s=0,u=null,l=0,f=!1,d=Ii.TRIANGLES,p=0;this.drawCalls.push(a);for(var r=0;r<this.batches.length;r++){var m=this.batches[r],v=8,_=m.style,y=_.texture.baseTexture;f!==!!_.native&&(f=!!_.native,d=f?Ii.LINES:Ii.TRIANGLES,u=null,s=v,n++),u!==y&&(u=y,y._batchEnabled!==n&&(s===v&&(n++,s=0,a.size>0&&(a=eh.pop(),a||(a=new eg,a.texArray=new tg),this.drawCalls.push(a)),a.start=p,a.size=0,a.texArray.count=0,a.type=d),y.touched=1,y._batchEnabled=n,y._batchLocation=s,y.wrapMode=no.REPEAT,a.texArray.elements[a.texArray.count++]=y,s++)),a.size+=m.size,p+=m.size,l=y._batchLocation,this.addColors(i,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(o,l,m.attribSize,m.attribStart)}gt._globalBatch=n,this.packAttributes()},t.prototype.packAttributes=function(){for(var n=this.points,r=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(n.length*3*4),s=new Float32Array(a),u=new Uint32Array(a),l=0,f=0;f<n.length/2;f++)s[l++]=n[f*2],s[l++]=n[f*2+1],s[l++]=r[f*2],s[l++]=r[f*2+1],u[l++]=i[f],s[l++]=o[f];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(n){if(n.holes.length)iO.triangulate(n,this);else{var r=Zm[n.type];r.triangulate(n,this)}},t.prototype.processLine=function(n){ew(n,this);for(var r=0;r<n.holes.length;r++)ew(n.holes[r],this)},t.prototype.processHoles=function(n){for(var r=0;r<n.length;r++){var i=n[r],o=Zm[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var n=this._bounds;n.clear(),n.addVertexData(this.points,0,this.points.length),n.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(n,r){for(var i=0;i<n.length/2;i++){var o=n[i*2],a=n[i*2+1];n[i*2]=r.a*o+r.c*a+r.tx,n[i*2+1]=r.b*o+r.d*a+r.ty}},t.prototype.addColors=function(n,r,i,o,a){a===void 0&&(a=0);var s=(r>>16)+(r&65280)+((r&255)<<16),u=jy(s,i);n.length=Math.max(n.length,a+o);for(var l=0;l<o;l++)n[a+l]=u},t.prototype.addTextureIds=function(n,r,i,o){o===void 0&&(o=0),n.length=Math.max(n.length,o+i);for(var a=0;a<i;a++)n[o+a]=r},t.prototype.addUvs=function(n,r,i,o,a,s){s===void 0&&(s=null);for(var u=0,l=r.length,f=i.frame;u<a;){var d=n[(o+u)*2],p=n[(o+u)*2+1];if(s){var m=s.a*d+s.c*p+s.tx;p=s.b*d+s.d*p+s.ty,d=m}u++,r.push(d/f.width,p/f.height)}var v=i.baseTexture;(f.width<v.width||f.height<v.height)&&this.adjustUvs(r,i,l,a)},t.prototype.adjustUvs=function(n,r,i,o){for(var a=r.baseTexture,s=1e-6,u=i+o*2,l=r.frame,f=l.width/a.width,d=l.height/a.height,p=l.x/l.width,m=l.y/l.height,v=Math.floor(n[i]+s),_=Math.floor(n[i+1]+s),y=i+2;y<u;y+=2)v=Math.min(v,Math.floor(n[y]+s)),_=Math.min(_,Math.floor(n[y+1]+s));p-=v,m-=_;for(var y=i;y<u;y+=2)n[y]=(n[y]+p)*f,n[y+1]=(n[y+1]+m)*d},t.BATCHABLE_SIZE=100,t}(QC),y$=function(e){rO(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.width=0,n.alignment=.5,n.native=!1,n.cap=ma.BUTT,n.join=Oo.MITER,n.miterLimit=10,n}return t.prototype.clone=function(){var n=new t;return n.color=this.color,n.alpha=this.alpha,n.texture=this.texture,n.matrix=this.matrix,n.visible=this.visible,n.width=this.width,n.alignment=this.alignment,n.native=this.native,n.cap=this.cap,n.join=this.join,n.miterLimit=this.miterLimit,n},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(nO),cbe=new Float32Array(3),Gb={},id=function(e){rO(t,e);function t(n){n===void 0&&(n=null);var r=e.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new nO,r._lineStyle=new y$,r._matrix=null,r._holeMode=!1,r.state=Ps.for2d(),r._geometry=n||new g$,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=ze.NORMAL,r}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(n,r,i,o,a){return n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof n=="number"&&(n={width:n,color:r,alpha:i,alignment:o,native:a}),this.lineTextureStyle(n)},t.prototype.lineTextureStyle=function(n){n=Object.assign({width:0,texture:We.WHITE,color:n&&n.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:ma.BUTT,join:Oo.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();var r=n.width>0&&n.alpha>0;return r?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:r},n)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var n=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new xh,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[r-2],n[r-1]))}else this.currentPath=new xh,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(n,r){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=r,this},t.prototype.lineTo=function(n,r){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==n||a!==r)&&i.push(n,r),this},t.prototype._initCurve=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[n,r]):this.moveTo(n,r)},t.prototype.quadraticCurveTo=function(n,r,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),m$.curveTo(n,r,i,o,a),this},t.prototype.bezierCurveTo=function(n,r,i,o,a,s){return this._initCurve(),p$.curveTo(n,r,i,o,a,s,this.currentPath.points),this},t.prototype.arcTo=function(n,r,i,o,a){this._initCurve(n,r);var s=this.currentPath.points,u=tw.curveTo(n,r,i,o,a,s);if(u){var l=u.cx,f=u.cy,d=u.radius,p=u.startAngle,m=u.endAngle,v=u.anticlockwise;this.arc(l,f,d,p,m,v)}return this},t.prototype.arc=function(n,r,i,o,a,s){if(s===void 0&&(s=!1),o===a)return this;!s&&a<=o?a+=Qh:s&&o<=a&&(o+=Qh);var u=a-o;if(u===0)return this;var l=n+Math.cos(o)*i,f=r+Math.sin(o)*i,d=this._geometry.closePointEps,p=this.currentPath?this.currentPath.points:null;if(p){var m=Math.abs(p[p.length-2]-l),v=Math.abs(p[p.length-1]-f);m<d&&v<d||p.push(l,f)}else this.moveTo(l,f),p=this.currentPath.points;return tw.arc(l,f,n,r,i,o,a,s,p),this},t.prototype.beginFill=function(n,r){return n===void 0&&(n=0),r===void 0&&(r=1),this.beginTextureFill({texture:We.WHITE,color:n,alpha:r})},t.prototype.beginTextureFill=function(n){n=Object.assign({texture:We.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();var r=n.alpha>0;return r?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:r},n)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(n,r,i,o){return this.drawShape(new mt(n,r,i,o))},t.prototype.drawRoundedRect=function(n,r,i,o,a){return this.drawShape(new dj(n,r,i,o,a))},t.prototype.drawCircle=function(n,r,i){return this.drawShape(new fj(n,r,i))},t.prototype.drawEllipse=function(n,r,i,o){return this.drawShape(new hj(n,r,i,o))},t.prototype.drawPolygon=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];var o,a=!0,s=r[0];s.points?(a=s.closeStroke,o=s.points):Array.isArray(r[0])?o=r[0]:o=r;var u=new xh(o);return u.closeStroke=a,this.drawShape(u),this},t.prototype.drawShape=function(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var n=this._geometry.graphicsData;return n.length===1&&n[0].shape.type===Bn.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)},t.prototype._render=function(n){this.finishPoly();var r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))},t.prototype._populateBatches=function(){var n=this._geometry,r=this.blendMode,i=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(n.points);for(var o=0;o<i;o++){var a=n.batches[o],s=a.style.color,u=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),l=new Float32Array(n.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),f=new Uint16Array(n.indicesUint16.buffer,a.start*2,a.size),d={vertexData:u,blendMode:r,indices:f,uvs:l,_batchRGB:In(s),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=d}},t.prototype._renderBatched=function(n){if(this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,i=this.batches.length;r<i;r++){var o=this.batches[r];o.worldAlpha=this.worldAlpha*o.alpha,n.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(n){var r=this._resolveDirectShader(n),i=this._geometry,o=this.tint,a=this.worldAlpha,s=r.uniforms,u=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(o>>16&255)/255*a,s.tint[1]=(o>>8&255)/255*a,s.tint[2]=(o&255)/255*a,s.tint[3]=a,n.shader.bind(r),n.geometry.bind(i,r),n.state.set(this.state);for(var l=0,f=u.length;l<f;l++)this._renderDrawCallDirect(n,i.drawCalls[l])},t.prototype._renderDrawCallDirect=function(n,r){for(var i=r.texArray,o=r.type,a=r.size,s=r.start,u=i.count,l=0;l<u;l++)n.texture.bind(i.elements[l],l);n.geometry.draw(o,a,s)},t.prototype._resolveDirectShader=function(n){var r=this.shader,i=this.pluginName;if(!r){if(!Gb[i]){for(var o=n.plugins[i].MAX_TEXTURES,a=new Int32Array(o),s=0;s<o;s++)a[s]=s;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new Rn,default:ds.from({uSamplers:a},!0)},l=n.plugins[i]._shader.program;Gb[i]=new ya(l,u)}r=Gb[i]}return r},t.prototype._calculateBounds=function(){this.finishPoly();var n=this._geometry;if(n.graphicsData.length){var r=n.bounds,i=r.minX,o=r.minY,a=r.maxX,s=r.maxY;this._bounds.addFrame(this.transform,i,o,a,s)}},t.prototype.containsPoint=function(n){return this.worldTransform.applyInverse(n,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var n=In(this.tint,cbe),r=0;r<this.batches.length;r++){var i=this.batches[r],o=i._batchRGB,a=n[0]*o[0]*255,s=n[1]*o[1]*255,u=n[2]*o[2]*255,l=(a<<16)+(s<<8)+(u|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},t.prototype.calculateVertices=function(){var n=this.transform._worldID;if(this._transformID!==n){this._transformID=n;for(var r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,u=r.tx,l=r.ty,f=this._geometry.points,d=this.vertexData,p=0,m=0;m<f.length;m+=2){var v=f[m],_=f[m+1];d[p++]=i*v+a*_+u,d[p++]=s*_+o*v+l}}},t.prototype.closePath=function(){var n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(n){return this._matrix=n,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(n){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,n)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new ft,t}(ur),fbe={buildPoly:iO,buildCircle:rd,buildRectangle:h$,buildRoundedRectangle:d$,buildLine:ew,ArcUtils:tw,BezierUtils:p$,QuadraticUtils:m$,BatchPart:v$,FILL_COMMANDS:Zm,BATCH_POOL:nw,DRAW_CALL_POOL:eh};/*!
 * @pixi/sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iw=function(e,t){return iw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},iw(e,t)};function hbe(e,t){iw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ff=new ft,dbe=new Uint16Array([0,1,2,0,2,3]),Pi=function(e){hbe(t,e);function t(n){var r=e.call(this)||this;return r._anchor=new es(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=ze.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=n||We.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=dbe,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Pe.ROUND_PIXELS,r}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=fu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=fu(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var n=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===n._updateID)){this._textureID!==n._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=n._updateID;var r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,u=r.tx,l=r.ty,f=this.vertexData,d=n.trim,p=n.orig,m=this._anchor,v=0,_=0,y=0,x=0;if(d?(_=d.x-m._x*p.width,v=_+d.width,x=d.y-m._y*p.height,y=x+d.height):(_=-m._x*p.width,v=_+p.width,x=-m._y*p.height,y=x+p.height),f[0]=i*_+a*x+u,f[1]=s*x+o*_+l,f[2]=i*v+a*x+u,f[3]=s*x+o*v+l,f[4]=i*v+a*y+u,f[5]=s*y+o*v+l,f[6]=i*_+a*y+u,f[7]=s*y+o*_+l,this._roundPixels)for(var b=Pe.RESOLUTION,w=0;w<f.length;++w)f[w]=Math.round((f[w]*b|0)/b)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var n=this._texture,r=this.vertexTrimmedData,i=n.orig,o=this._anchor,a=this.transform.worldTransform,s=a.a,u=a.b,l=a.c,f=a.d,d=a.tx,p=a.ty,m=-o._x*i.width,v=m+i.width,_=-o._y*i.height,y=_+i.height;r[0]=s*m+l*_+d,r[1]=f*_+u*m+p,r[2]=s*v+l*_+d,r[3]=f*_+u*v+p,r[4]=s*v+l*y+d,r[5]=f*y+u*v+p,r[6]=s*m+l*y+d,r[7]=f*y+u*m+p},t.prototype._render=function(n){this.calculateVertices(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var n=this._texture.trim,r=this._texture.orig;!n||n.width===r.width&&n.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(n){return this.children.length===0?(this._localBounds||(this._localBounds=new ed),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new mt),n=this._localBoundsRect),this._localBounds.getRectangle(n)):e.prototype.getLocalBounds.call(this,n)},t.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,Ff);var r=this._texture.orig.width,i=this._texture.orig.height,o=-r*this.anchor.x,a=0;return Ff.x>=o&&Ff.x<o+r&&(a=-i*this.anchor.y,Ff.y>=a&&Ff.y<a+i)},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var r=typeof n=="boolean"?n:n&&n.texture;if(r){var i=typeof n=="boolean"?n:n&&n.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(n,r){var i=n instanceof We?n:We.from(n,r);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){var r=fu(this.scale.x)||1;this.scale.x=r*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){var r=fu(this.scale.y)||1;this.scale.y=r*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(n){this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(n){this._texture!==n&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=n||We.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,n&&(n.baseTexture.valid?this._onTextureUpdate():n.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(ur);/*!
 * @pixi/text - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ow=function(e,t){return ow=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ow(e,t)};function pbe(e,t){ow(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vc;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(vc||(vc={}));var zb={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:vc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},mbe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ou=function(){function e(t){this.styleID=0,this.reset(),Vb(this,t,t)}return e.prototype.clone=function(){var t={};return Vb(t,this,zb),new e(t)},e.prototype.reset=function(){Vb(this,zb,zb)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var n=Hb(t);this._dropShadowColor!==n&&(this._dropShadowColor=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var n=Hb(t);this._fill!==n&&(this._fill=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){vbe(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var n=Hb(t);this._stroke!==n&&(this._stroke=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(var r=n.length-1;r>=0;r--){var i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&mbe.indexOf(i)<0&&(i='"'+i+'"'),n[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+n.join(",")},e}();function NN(e){return typeof e=="number"?bC(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function Hb(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=NN(e[t]);return e}else return NN(e)}function vbe(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function Vb(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var bm={willReadFrequently:!0},co=function(){function e(t,n,r,i,o,a,s,u,l){this.text=t,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return e.measureText=function(t,n,r,i){i===void 0&&(i=e._canvas),r=r??n.wordWrap;var o=n.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d",bm);s.font=o;for(var u=r?e.wordWrap(t,n,i):t,l=u.split(/(?:\r\n|\r|\n)/),f=new Array(l.length),d=0,p=0;p<l.length;p++){var m=s.measureText(l[p]).width+(l[p].length-1)*n.letterSpacing;f[p]=m,d=Math.max(d,m)}var v=d+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var _=n.lineHeight||a.fontSize+n.strokeThickness,y=Math.max(_,a.fontSize+n.strokeThickness)+(l.length-1)*(_+n.leading);return n.dropShadow&&(y+=n.dropShadowDistance),new e(t,n,v,y,l,f,_+n.leading,d,a)},e.wordWrap=function(t,n,r){r===void 0&&(r=e._canvas);for(var i=r.getContext("2d",bm),o=0,a="",s="",u=Object.create(null),l=n.letterSpacing,f=n.whiteSpace,d=e.collapseSpaces(f),p=e.collapseNewlines(f),m=!d,v=n.wordWrapWidth+l,_=e.tokenize(t),y=0;y<_.length;y++){var x=_[y];if(e.isNewline(x)){if(!p){s+=e.addLine(a),m=!d,a="",o=0;continue}x=" "}if(d){var b=e.isBreakingSpace(x),w=e.isBreakingSpace(a[a.length-1]);if(b&&w)continue}var T=e.getFromCache(x,l,u,i);if(T>v)if(a!==""&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(x,n.breakWords))for(var C=e.wordWrapSplit(x),O=0;O<C.length;O++){for(var A=C[O],M=1;C[O+M];){var D=C[O+M],B=A[A.length-1];if(!e.canBreakChars(B,D,x,O,n.breakWords))A+=D;else break;M++}O+=A.length-1;var G=e.getFromCache(A,l,u,i);G+o>v&&(s+=e.addLine(a),m=!1,a="",o=0),a+=A,o+=G}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var U=y===_.length-1;s+=e.addLine(x,!U),m=!1,a="",o=0}else T+o>v&&(m=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(x)||m)&&(a+=x,o+=T)}return s+=e.addLine(a,!1),s},e.addLine=function(t,n){return n===void 0&&(n=!0),t=e.trimRight(t),t=n?t+`
`:t,t},e.getFromCache=function(t,n,r,i){var o=r[t];if(typeof o!="number"){var a=t.length*n;o=i.measureText(t).width+a,r[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,n){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var n=[],r="";if(typeof t!="string")return n;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];if(e.isBreakingSpace(o,a)||e.isNewline(o)){r!==""&&(n.push(r),r=""),n.push(o);continue}r+=o}return r!==""&&n.push(r),n},e.canBreakWords=function(t,n){return n},e.canBreakChars=function(t,n,r,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*s);s=s*e.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,f=l.length,d=a*4,p=0,m=0,v=!1;for(p=0;p<s;++p){for(var _=0;_<d;_+=4)if(l[m+_]!==255){v=!0;break}if(!v)m+=d;else break}for(n.ascent=s-p,m=f-d,v=!1,p=u;p>s;--p){for(var _=0;_<d;_+=4)if(l[m+_]!==255){v=!0;break}if(!v)m-=d;else break}return n.descent=p-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var n=new OffscreenCanvas(0,0),r=n.getContext("2d",bm);if(r&&r.measureText)return e.__canvas=n,n;t=Pe.ADAPTER.createCanvas()}catch{t=Pe.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",bm)),e.__context},enumerable:!1,configurable:!0}),e}();co._fonts={};co.METRICS_STRING="|q";co.BASELINE_SYMBOL="M";co.BASELINE_MULTIPLIER=1.4;co.HEIGHT_MULTIPLIER=2;co._newlines=[10,13];co._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var gbe={texture:!0,children:!1,baseTexture:!0},oO=function(e){pbe(t,e);function t(n,r,i){var o=this,a=!1;i||(i=Pe.ADAPTER.createCanvas(),a=!0),i.width=3,i.height=3;var s=We.from(i);return s.orig=new mt,s.trim=new mt,o=e.call(this,s)||this,o._ownCanvas=a,o.canvas=i,o.context=i.getContext("2d",{willReadFrequently:!0}),o._resolution=Pe.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=n,o.style=r,o.localStyleID=-1,o}return t.prototype.updateText=function(n){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!(!this.dirty&&n)){this._font=this._style.toFontString();var i=this.context,o=co.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,u=o.lines,l=o.lineHeight,f=o.lineWidths,d=o.maxLineWidth,p=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;for(var m,v,_=r.dropShadow?2:1,y=0;y<_;++y){var x=r.dropShadow&&y===0,b=x?Math.ceil(Math.max(1,s)+r.padding*2):0,w=b*this._resolution;if(x){i.fillStyle="black",i.strokeStyle="black";var T=r.dropShadowColor,C=In(typeof T=="number"?T:SC(T)),O=r.dropShadowBlur*this._resolution,A=r.dropShadowDistance*this._resolution;i.shadowColor="rgba("+C[0]*255+","+C[1]*255+","+C[2]*255+","+r.dropShadowAlpha+")",i.shadowBlur=O,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*A,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*A+w}else i.fillStyle=this._generateFillStyle(r,u,o),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var M=(l-p.fontSize)/2;(!t.nextLineHeightBehavior||l-p.fontSize<0)&&(M=0);for(var D=0;D<u.length;D++)m=r.strokeThickness/2,v=r.strokeThickness/2+D*l+p.ascent+M,r.align==="right"?m+=d-f[D]:r.align==="center"&&(m+=(d-f[D])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[D],m+r.padding,v+r.padding-b,!0),r.fill&&this.drawLetterSpacing(u[D],m+r.padding,v+r.padding-b)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(n,r,i,o){o===void 0&&(o=!1);var a=this._style,s=a.letterSpacing,u=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||u){u&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),o?this.context.strokeText(n,r,i):this.context.fillText(n,r,i);return}for(var l=r,f=Array.from?Array.from(n):n.split(""),d=this.context.measureText(n).width,p=0,m=0;m<f.length;++m){var v=f[m];o?this.context.strokeText(v,l,i):this.context.fillText(v,l,i);for(var _="",y=m+1;y<f.length;++y)_+=f[y];p=this.context.measureText(_).width,l+=d-p+s,d=p}},t.prototype.updateTexture=function(){var n=this.canvas;if(this._style.trim){var r=sj(n);r.data&&(n.width=r.width,n.height=r.height,this.context.putImageData(r.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,s=i.baseTexture;i.trim.width=i._frame.width=n.width/this._resolution,i.trim.height=i._frame.height=n.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(n.width,n.height,this._resolution),i.updateUvs(),this.dirty=!1},t.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,n)},t.prototype.updateTransform=function(){this.updateText(!0),e.prototype.updateTransform.call(this)},t.prototype.getBounds=function(n,r){return this.updateText(!0),this._textureID===-1&&(n=!1),e.prototype.getBounds.call(this,n,r)},t.prototype.getLocalBounds=function(n){return this.updateText(!0),e.prototype.getLocalBounds.call(this,n)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(n,r,i){var o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,s=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,l=this.canvas.width/this._resolution-s-u*2,f=this.canvas.height/this._resolution-s-u*2,d=o.slice(),p=n.fillGradientStops.slice();if(!p.length)for(var m=d.length+1,v=1;v<m;++v)p.push(v/m);if(d.unshift(o[0]),p.unshift(0),d.push(o[o.length-1]),p.push(1),n.fillGradientType===vc.LINEAR_VERTICAL){a=this.context.createLinearGradient(l/2,u,l/2,f+u);for(var _=i.fontProperties.fontSize+n.strokeThickness,v=0;v<r.length;v++){var y=i.lineHeight*(v-1)+_,x=i.lineHeight*v,b=x;v>0&&y>x&&(b=(x+y)/2);var w=x+_,T=i.lineHeight*(v+1),C=w;v+1<r.length&&T<w&&(C=(w+T)/2);for(var O=(C-b)/f,A=0;A<d.length;A++){var M=0;typeof p[A]=="number"?M=p[A]:M=A/d.length;var D=Math.min(1,Math.max(0,b/f+M*O));D=Number(D.toFixed(5)),a.addColorStop(D,d[A])}}}else{a=this.context.createLinearGradient(u,f/2,l+u,f/2);for(var B=d.length+1,G=1,v=0;v<d.length;v++){var U=void 0;typeof p[v]=="number"?U=p[v]:U=G/B,a.addColorStop(U,d[v]),G++}}return a},t.prototype.destroy=function(n){typeof n=="boolean"&&(n={children:n}),n=Object.assign({},gbe,n),e.prototype.destroy.call(this,n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){this.updateText(!0);var r=fu(this.scale.x)||1;this.scale.x=r*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){this.updateText(!0);var r=fu(this.scale.y)||1;this.scale.y=r*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(n){n=n||{},n instanceof Ou?this._style=n:this._style=new Ou(n),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(Pi);/*!
 * @pixi/prepare - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pe.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aw=function(e,t){return aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aw(e,t)};function ybe(e,t){aw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _$=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function _be(e,t){var n=!1;if(e&&e._textures&&e._textures.length){for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof We){var i=e._textures[r].baseTexture;t.indexOf(i)===-1&&(t.push(i),n=!0)}}return n}function xbe(e,t){if(e.baseTexture instanceof gt){var n=e.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function bbe(e,t){if(e._texture&&e._texture instanceof We){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function Sbe(e,t){return t instanceof oO?(t.updateText(!0),!0):!1}function wbe(e,t){if(t instanceof Ou){var n=t.toFontString();return co.measureFont(n),!0}return!1}function Ebe(e,t){if(e instanceof oO){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function Tbe(e,t){return e instanceof Ou?(t.indexOf(e)===-1&&t.push(e),!0):!1}var x$=function(){function e(t){var n=this;this.limiter=new _$(Pe.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(Ebe),this.registerFindHook(Tbe),this.registerFindHook(_be),this.registerFindHook(xbe),this.registerFindHook(bbe),this.registerUploadHook(Sbe),this.registerUploadHook(wbe)}return e.prototype.upload=function(t,n){var r=this;return typeof t=="function"&&(n=t,t=null),n&&kr("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){t&&r.add(t);var o=function(){n==null||n(),i()};r.queue.length?(r.completes.push(o),r.ticking||(r.ticking=!0,cn.system.addOnce(r.tick,r,oo.UTILITY))):o()})},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],n=!1;if(t&&!t._destroyed){for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)cn.system.addOnce(this.tick,this,oo.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var r=0,i=o.length;r<i;r++)o[r]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var n=0,r=this.addHooks.length;n<r&&!this.addHooks[n](t,this.queue);n++);if(t instanceof ur)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},e.prototype.destroy=function(){this.ticking&&cn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function b$(e,t){return t instanceof gt?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function Cbe(e,t){if(!(t instanceof id))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&b$(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function Obe(e,t){return e instanceof id?(t.push(e),!0):!1}var S$=function(e){ybe(t,e);function t(n){var r=e.call(this,n)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Obe),r.registerUploadHook(b$),r.registerUploadHook(Cbe),r}return t.extension={name:"prepare",type:Nt.RendererPlugin},t}(x$),Abe=function(){function e(t){this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();/*!
 * @pixi/spritesheet - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var w$=function(){function e(t,n,r){r===void 0&&(r=null),this.linkedSheets=[],this._texture=t instanceof We?t:null,this.baseTexture=t instanceof gt?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var n=this.data.meta.scale,r=Zh(t,null);return r===null&&(r=n!==void 0?parseFloat(n):1),r!==1&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){var n=this;return t&&kr("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(r){n._callback=function(i){t==null||t(i),r(i)},n._batchIndex=0,n._frameKeys.length<=e.BATCH_SIZE?(n._processFrames(0),n._processAnimations(),n._parseComplete()):n._nextBatch()})},e.prototype._processFrames=function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,l=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,f=new mt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);o.rotated?s=new mt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):s=new mt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(u=new mt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new We(this.baseTexture,s,f,u,o.rotated?2:0,o.anchor),We.addToCache(this.textures[i],i)}n++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var n in t){this.animations[n]=[];for(var r=0;r<t[n].length;r++){var i=t[n][r];this.animations[n].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var n;t===void 0&&(t=!1);for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((n=this._texture)===null||n===void 0||n.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},e.BATCH_SIZE=1e3,e}(),E$=function(){function e(){}return e.use=function(t,n){var r,i,o=this,a=t.name+"_image";if(!t.data||t.type!==hn.TYPE.JSON||!t.data.frames||o.resources[a]){n();return}var s=(i=(r=t.data)===null||r===void 0?void 0:r.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var u=function(v){if(typeof v!="string")return"continue";var _=v.replace(".json",""),y=cu.resolve(t.url.replace(o.baseUrl,""),v);if(o.resources[_]||Object.values(o.resources).some(function(b){return cu.format(cu.parse(b.url))===y}))return"continue";var x={crossOrigin:t.crossOrigin,loadType:hn.LOAD_TYPE.XHR,xhrType:hn.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(_,y,x)},l=0,f=s;l<f.length;l++){var d=f[l];u(d)}var p={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},m=e.getResourcePath(t,o.baseUrl);o.add(a,m,p,function(_){if(_.error){n(_.error);return}var y=new w$(_.texture,t.data,t.url);y.parse().then(function(){t.spritesheet=y,t.textures=y.textures,n()})})},e.getResourcePath=function(t,n){return t.isDataUrl?t.data.meta.image:cu.resolve(t.url.replace(n,""),t.data.meta.image)},e.extension=Nt.Loader,e}();/*!
 * @pixi/sprite-tiling - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sw=function(e,t){return sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},sw(e,t)};function T$(e,t){sw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Df=new ft,Pbe=function(e){T$(t,e);function t(n,r,i){r===void 0&&(r=100),i===void 0&&(i=100);var o=e.call(this,n)||this;return o.tileTransform=new CC,o._width=r,o._height=i,o.uvMatrix=o.texture.uvMatrix||new Vy(n),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(n){this.uvMatrix.clampMargin=n,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(n){this.tileTransform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(n){this.tileTransform.position.copyFrom(n)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(n){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var n=this._width*-this._anchor._x,r=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,n,r,i,o)},t.prototype.getLocalBounds=function(n){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new mt),n=this._localBoundsRect),this._bounds.getRectangle(n)):e.prototype.getLocalBounds.call(this,n)},t.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,Df);var r=this._width,i=this._height,o=-r*this.anchor._x;if(Df.x>=o&&Df.x<o+r){var a=-i*this.anchor._y;if(Df.y>=a&&Df.y<a+i)return!0}return!1},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this.tileTransform=null,this.uvMatrix=null},t.from=function(n,r){var i=n instanceof We?n:We.from(n,r);return new t(i,r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n},enumerable:!1,configurable:!0}),t}(Pi),Ibe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,LN=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Rbe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,kbe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Nbe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Sm=new Rn,C$=function(e){T$(t,e);function t(n){var r=e.call(this,n)||this;return n.runners.contextChange.add(r),r.quad=new FC,r.state=Ps.for2d(),r}return t.prototype.contextChange=function(){var n=this.renderer,r={globals:n.globalUniforms};this.simpleShader=ya.from(LN,Ibe,r),this.shader=n.context.webGLVersion>1?ya.from(kbe,Nbe,r):ya.from(LN,Rbe,r)},t.prototype.render=function(n){var r=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=n._width*-n.anchor.x,o[1]=o[3]=n._height*-n.anchor.y,o[2]=o[4]=n._width*(1-n.anchor.x),o[5]=o[7]=n._height*(1-n.anchor.y);var a=n.uvRespectAnchor?n.anchor.x:0,s=n.uvRespectAnchor?n.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-s,o[2]=o[4]=1-a,o[5]=o[7]=1-s,i.invalidate();var u=n._texture,l=u.baseTexture,f=l.alphaMode>0,d=n.tileTransform.localTransform,p=n.uvMatrix,m=l.isPowerOfTwo&&u.frame.width===l.width&&u.frame.height===l.height;m&&(l._glTextures[r.CONTEXT_UID]?m=l.wrapMode!==no.CLAMP:l.wrapMode===no.CLAMP&&(l.wrapMode=no.REPEAT));var v=m?this.simpleShader:this.shader,_=u.width,y=u.height,x=n._width,b=n._height;Sm.set(d.a*_/x,d.b*_/b,d.c*y/x,d.d*y/b,d.tx/x,d.ty/b),Sm.invert(),m?Sm.prepend(p.mapCoord):(v.uniforms.uMapCoord=p.mapCoord.toArray(!0),v.uniforms.uClampFrame=p.uClampFrame,v.uniforms.uClampOffset=p.uClampOffset),v.uniforms.uTransform=Sm.toArray(!0),v.uniforms.uColor=TC(n.tint,n.worldAlpha,v.uniforms.uColor,f),v.uniforms.translationMatrix=n.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(i),this.state.blendMode=EC(n.blendMode,f),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t.extension={name:"tilingSprite",type:Nt.RendererPlugin},t}(Id);/*!
 * @pixi/mesh - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uw=function(e,t){return uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},uw(e,t)};function aO(e,t){uw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var O$=function(){function e(t,n){this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}},e}(),Wb=new ft,MN=new xh,gc=function(e){aO(t,e);function t(n,r,i,o){o===void 0&&(o=Ii.TRIANGLES);var a=e.call(this)||this;return a.geometry=n,a.shader=r,a.state=i||Ps.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Pe.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(n){this.shader=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(n){this.shader.tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(n){this.shader.texture=n},enumerable:!1,configurable:!0}),t.prototype._render=function(n){var r=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ii.TRIANGLES&&r.length<t.BATCHABLE_SIZE*2?this._renderToBatch(n):this._renderDefault(n)},t.prototype._renderDefault=function(n){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),n.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(r),n.state.set(this.state),n.geometry.bind(this.geometry,r),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(n){var r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[o]),n.plugins[o].render(this)},t.prototype.calculateVertices=function(){var n=this.geometry,r=n.buffers[0],i=r.data,o=r._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,s=a.a,u=a.b,l=a.c,f=a.d,d=a.tx,p=a.ty,m=this.vertexData,v=0;v<m.length/2;v++){var _=i[v*2],y=i[v*2+1];m[v*2]=s*_+l*y+d,m[v*2+1]=u*_+f*y+p}if(this._roundPixels)for(var x=Pe.RESOLUTION,v=0;v<m.length;++v)m[v]=Math.round((m[v]*x|0)/x);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var n=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new O$(n,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,Wb);for(var r=this.geometry.getBuffer("aVertexPosition").data,i=MN.points,o=this.geometry.getIndex().data,a=o.length,s=this.drawMode===4?3:1,u=0;u+2<a;u+=s){var l=o[u]*2,f=o[u+1]*2,d=o[u+2]*2;if(i[0]=r[l],i[1]=r[l+1],i[2]=r[f],i[3]=r[f+1],i[4]=r[d],i[5]=r[d+1],MN.contains(Wb.x,Wb.y))return!0}return!1},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(ur),Lbe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Mbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,yc=function(e){aO(t,e);function t(n,r){var i=this,o={uSampler:n,alpha:1,uTextureMatrix:Rn.IDENTITY,uColor:new Float32Array([1,1,1,1])};return r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(o,r.uniforms),i=e.call(this,r.program||$c.from(Mbe,Lbe),o)||this,i._colorDirty=!1,i.uvMatrix=new Vy(n),i.batchable=r.program===void 0,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(n){this.uniforms.uSampler!==n&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!n.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=n,this.uvMatrix.texture=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(n){n!==this._alpha&&(this._alpha=n,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){n!==this._tint&&(this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var n=this.texture.baseTexture;TC(this._tint,this._alpha,this.uniforms.uColor,n.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(ya),Rd=function(e){aO(t,e);function t(n,r,i){var o=e.call(this)||this,a=new An(n),s=new An(r,!0),u=new An(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,He.FLOAT).addAttribute("aTextureCoord",s,2,!1,He.FLOAT).addIndex(u),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(jc);/*!
 * @pixi/text-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lw=function(e,t){return lw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},lw(e,t)};function Fbe(e,t){lw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var od=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),A$=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var n=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in n){var o=n[i].match(/^[a-z]+/gm)[0],a=n[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var u in a){var l=a[u].split("="),f=l[0],d=l[1].replace(/"/gm,""),p=parseFloat(d),m=isNaN(p)?d:p;s[f]=m}r[o].push(s)}var v=new od;return r.info.forEach(function(_){return v.info.push({face:_.face,size:parseInt(_.size,10)})}),r.common.forEach(function(_){return v.common.push({lineHeight:parseInt(_.lineHeight,10)})}),r.page.forEach(function(_){return v.page.push({id:parseInt(_.id,10),file:_.file})}),r.char.forEach(function(_){return v.char.push({id:parseInt(_.id,10),page:parseInt(_.page,10),x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xoffset:parseInt(_.xoffset,10),yoffset:parseInt(_.yoffset,10),xadvance:parseInt(_.xadvance,10)})}),r.kerning.forEach(function(_){return v.kerning.push({first:parseInt(_.first,10),second:parseInt(_.second,10),amount:parseInt(_.amount,10)})}),r.distanceField.forEach(function(_){return v.distanceField.push({distanceRange:parseInt(_.distanceRange,10),fieldType:_.fieldType})}),v},e}(),ig=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var n=new od,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),u=t.getElementsByTagName("distanceField"),l=0;l<r.length;l++)n.info.push({face:r[l].getAttribute("face"),size:parseInt(r[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)n.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<o.length;l++)n.page.push({id:parseInt(o[l].getAttribute("id"),10)||0,file:o[l].getAttribute("file")});for(var l=0;l<a.length;l++){var f=a[l];n.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)n.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<u.length;l++)n.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return n},e}(),P$=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var n=new globalThis.DOMParser().parseFromString(t,"text/xml");return ig.test(n)}return!1},e.parse=function(t){var n=new globalThis.DOMParser().parseFromString(t,"text/xml");return ig.parse(n)},e}(),Xb=[A$,ig,P$];function sO(e){for(var t=0;t<Xb.length;t++)if(Xb[t].test(e))return Xb[t];return null}function Dbe(e,t,n,r,i,o){var a=n.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,u=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,f=e.width/r-u-l*2,d=e.height/r-u-l*2,p=a.slice(),m=n.fillGradientStops.slice();if(!m.length)for(var v=p.length+1,_=1;_<v;++_)m.push(_/v);if(p.unshift(a[0]),m.unshift(0),p.push(a[a.length-1]),m.push(1),n.fillGradientType===vc.LINEAR_VERTICAL){s=t.createLinearGradient(f/2,l,f/2,d+l);for(var y=0,x=o.fontProperties.fontSize+n.strokeThickness,b=x/d,_=0;_<i.length;_++)for(var w=o.lineHeight*_,T=0;T<p.length;T++){var C=0;typeof m[T]=="number"?C=m[T]:C=T/p.length;var O=w/d+C*b,A=Math.max(y,O);A=Math.min(A,1),s.addColorStop(A,p[T]),y=A}}else{s=t.createLinearGradient(l,d/2,f+l,d/2);for(var M=p.length+1,D=1,_=0;_<p.length;_++){var B=void 0;typeof m[_]=="number"?B=m[_]:B=D/M,s.addColorStop(B,p[_]),D++}}return s}function Bbe(e,t,n,r,i,o,a){var s=n.text,u=n.fontProperties;t.translate(r,i),t.scale(o,o);var l=a.strokeThickness/2,f=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=Dbe(e,t,a,o,[s],n),t.strokeStyle=a.stroke,a.dropShadow){var d=a.dropShadowColor,p=In(typeof d=="number"?d:SC(d)),m=a.dropShadowBlur*o,v=a.dropShadowDistance*o;t.shadowColor="rgba("+p[0]*255+","+p[1]*255+","+p[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=m,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*v,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*v}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,l,f+n.lineHeight-u.descent),a.fill&&t.fillText(s,l,f+n.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function I$(e){return Array.from?Array.from(e):e.split("")}function jbe(e){typeof e=="string"&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,I$(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Qm(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var sa=function(){function e(t,n,r){var i,o,a=t.info[0],s=t.common[0],u=t.page[0],l=t.distanceField[0],f=Zh(u.file),d={};this._ownsTextures=r,this.font=a.face,this.size=a.size,this.lineHeight=s.lineHeight/f,this.chars={},this.pageTextures=d;for(var p=0;p<t.page.length;p++){var m=t.page[p],v=m.id,_=m.file;d[v]=n instanceof Array?n[p]:n[_],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[v].baseTexture.alphaMode=Fi.NO_PREMULTIPLIED_ALPHA,d[v].baseTexture.mipmap=br.OFF)}for(var p=0;p<t.char.length;p++){var y=t.char[p],v=y.id,x=y.page,b=t.char[p],w=b.x,T=b.y,C=b.width,O=b.height,A=b.xoffset,M=b.yoffset,D=b.xadvance;w/=f,T/=f,C/=f,O/=f,A/=f,M/=f,D/=f;var B=new mt(w+d[x].frame.x/f,T+d[x].frame.y/f,C,O);this.chars[v]={xOffset:A,yOffset:M,xAdvance:D,kerning:{},texture:new We(d[x].baseTexture,B),page:x}}for(var p=0;p<t.kerning.length;p++){var G=t.kerning[p],U=G.first,H=G.second,Q=G.amount;U/=f,H/=f,Q/=f,this.chars[H]&&(this.chars[H].kerning[U]=Q)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(o=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,n,r){var i;if(t instanceof od)i=t;else{var o=sO(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}n instanceof We&&(n=[n]);var a=new e(i,n,r);return e.available[a.font]=a,a},e.uninstall=function(t){var n=e.available[t];if(!n)throw new Error("No font found named '"+t+"'");n.destroy(),delete e.available[t]},e.from=function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,f=jbe(o),d=n instanceof Ou?n:new Ou(n),p=u,m=new od;m.info[0]={face:d.fontFamily,size:d.fontSize},m.common[0]={lineHeight:d.fontSize};for(var v=0,_=0,y,x,b,w=0,T=[],C=0;C<f.length;C++){y||(y=Pe.ADAPTER.createCanvas(),y.width=u,y.height=l,x=y.getContext("2d"),b=new gt(y,{resolution:s}),T.push(new We(b)),m.page.push({id:T.length-1,file:""}));var O=f[C],A=co.measureText(O,d,!1,y),M=A.width,D=Math.ceil(A.height),B=Math.ceil((d.fontStyle==="italic"?2:1)*M);if(_>=l-D*s){if(_===0)throw new Error("[BitmapFont] textureHeight "+l+"px is too small "+("(fontFamily: '"+d.fontFamily+"', fontSize: "+d.fontSize+"px, char: '"+O+"')"));--C,y=null,x=null,b=null,_=0,v=0,w=0;continue}if(w=Math.max(D+A.fontProperties.descent,w),B*s+v>=p){if(v===0)throw new Error("[BitmapFont] textureWidth "+u+"px is too small "+("(fontFamily: '"+d.fontFamily+"', fontSize: "+d.fontSize+"px, char: '"+O+"')"));--C,_+=w*s,_=Math.ceil(_),v=0,w=0;continue}Bbe(y,x,A,v,_,s,d);var G=Qm(A.text);m.char.push({id:G,page:T.length-1,x:v/s,y:_/s,width:B,height:D,xoffset:0,yoffset:0,xadvance:Math.ceil(M-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),v+=(B+2*a)*s,v=Math.ceil(v)}if(!(r!=null&&r.skipKerning))for(var C=0,U=f.length;C<U;C++)for(var H=f[C],Q=0;Q<U;Q++){var ee=f[Q],ne=x.measureText(H).width,ce=x.measureText(ee).width,Ae=x.measureText(H+ee).width,pe=Ae-(ne+ce);pe&&m.kerning.push({first:Qm(H),second:Qm(ee),amount:pe})}var fe=new e(m,T,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=fe,fe},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),$be=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Ube=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,FN=[],DN=[],BN=[],Gbe=function(e){Fbe(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,r),a=o.align,s=o.tint,u=o.maxWidth,l=o.letterSpacing,f=o.fontName,d=o.fontSize;if(!sa.available[f])throw new Error('Missing BitmapFont "'+f+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._font=void 0,i._fontName=f,i._fontSize=d,i.text=n,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new es(function(){i.dirty=!0},i,0,0),i._roundPixels=Pe.ROUND_PIXELS,i.dirty=!0,i._resolution=Pe.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var n,r=sa.available[this._fontName],i=this.fontSize,o=i/r.size,a=new ft,s=[],u=[],l=[],f=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=I$(f),p=this._maxWidth*r.size/i,m=r.distanceFieldType==="none"?FN:DN,v=null,_=0,y=0,x=0,b=-1,w=0,T=0,C=0,O=0,A=0;A<d.length;A++){var M=d[A],D=Qm(M);if(/(?:\s)/.test(M)&&(b=A,w=_,O++),M==="\r"||M===`
`){u.push(_),l.push(-1),y=Math.max(y,_),++x,++T,a.x=0,a.y+=r.lineHeight,v=null,O=0;continue}var B=r.chars[D];if(B){v&&B.kerning[v]&&(a.x+=B.kerning[v]);var G=BN.pop()||{texture:We.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ft};G.texture=B.texture,G.line=x,G.charCode=D,G.position.x=a.x+B.xOffset+this._letterSpacing/2,G.position.y=a.y+B.yOffset,G.prevSpaces=O,s.push(G),_=G.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),a.x+=B.xAdvance+this._letterSpacing,C=Math.max(C,B.yOffset+B.texture.height),v=D,b!==-1&&p>0&&a.x>p&&(++T,vu(s,1+b-T,1+A-b),A=b,b=-1,u.push(w),l.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,w),x++,a.x=0,a.y+=r.lineHeight,v=null,O=0)}}var U=d[d.length-1];U!=="\r"&&U!==`
`&&(/(?:\s)/.test(U)&&(_=w),u.push(_),y=Math.max(y,_),l.push(-1));for(var H=[],A=0;A<=x;A++){var Q=0;this._align==="right"?Q=y-u[A]:this._align==="center"?Q=(y-u[A])/2:this._align==="justify"&&(Q=l[A]<0?0:(y-u[A])/l[A]),H.push(Q)}var ee=s.length,ne={},ce=[],Ae=this._activePagesMeshData;m.push.apply(m,Ae);for(var A=0;A<ee;A++){var pe=s[A].texture,fe=pe.baseTexture.uid;if(!ne[fe]){var L=m.pop();if(!L){var Z=new Rd,re=void 0,ae=void 0;r.distanceFieldType==="none"?(re=new yc(We.EMPTY),ae=ze.NORMAL):(re=new yc(We.EMPTY,{program:$c.from(Ube,$be),uniforms:{uFWidth:0}}),ae=ze.NORMAL_NPM);var le=new gc(Z,re);le.blendMode=ae,L={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:le,vertices:null,uvs:null,indices:null}}L.index=0,L.indexCount=0,L.vertexCount=0,L.uvsCount=0,L.total=0;var de=this._textureCache;de[fe]=de[fe]||new We(pe.baseTexture),L.mesh.texture=de[fe],L.mesh.tint=this._tint,ce.push(L),ne[fe]=L}ne[fe].total++}for(var A=0;A<Ae.length;A++)ce.indexOf(Ae[A])===-1&&this.removeChild(Ae[A].mesh);for(var A=0;A<ce.length;A++)ce[A].mesh.parent!==this&&this.addChild(ce[A].mesh);this._activePagesMeshData=ce;for(var A in ne){var L=ne[A],ge=L.total;if(!(((n=L.indices)===null||n===void 0?void 0:n.length)>6*ge)||L.vertices.length<gc.BATCHABLE_SIZE*2)L.vertices=new Float32Array(4*2*ge),L.uvs=new Float32Array(4*2*ge),L.indices=new Uint16Array(6*ge);else for(var Ie=L.total,ke=L.vertices,Ze=Ie*4*2;Ze<ke.length;Ze++)ke[Ze]=0;L.mesh.size=6*ge}for(var A=0;A<ee;A++){var M=s[A],Be=M.position.x+H[M.line]*(this._align==="justify"?M.prevSpaces:1);this._roundPixels&&(Be=Math.round(Be));var Ue=Be*o,je=M.position.y*o,pe=M.texture,Se=ne[pe.baseTexture.uid],Ge=pe.frame,yt=pe._uvs,Je=Se.index++;Se.indices[Je*6+0]=0+Je*4,Se.indices[Je*6+1]=1+Je*4,Se.indices[Je*6+2]=2+Je*4,Se.indices[Je*6+3]=0+Je*4,Se.indices[Je*6+4]=2+Je*4,Se.indices[Je*6+5]=3+Je*4,Se.vertices[Je*8+0]=Ue,Se.vertices[Je*8+1]=je,Se.vertices[Je*8+2]=Ue+Ge.width*o,Se.vertices[Je*8+3]=je,Se.vertices[Je*8+4]=Ue+Ge.width*o,Se.vertices[Je*8+5]=je+Ge.height*o,Se.vertices[Je*8+6]=Ue,Se.vertices[Je*8+7]=je+Ge.height*o,Se.uvs[Je*8+0]=yt.x0,Se.uvs[Je*8+1]=yt.y0,Se.uvs[Je*8+2]=yt.x1,Se.uvs[Je*8+3]=yt.y1,Se.uvs[Je*8+4]=yt.x2,Se.uvs[Je*8+5]=yt.y2,Se.uvs[Je*8+6]=yt.x3,Se.uvs[Je*8+7]=yt.y3}this._textWidth=y*o,this._textHeight=(a.y+r.lineHeight)*o;for(var A in ne){var L=ne[A];if(this.anchor.x!==0||this.anchor.y!==0)for(var It=0,Cn=this._textWidth*this.anchor.x,kn=this._textHeight*this.anchor.y,Un=0;Un<L.total;Un++)L.vertices[It++]-=Cn,L.vertices[It++]-=kn,L.vertices[It++]-=Cn,L.vertices[It++]-=kn,L.vertices[It++]-=Cn,L.vertices[It++]-=kn,L.vertices[It++]-=Cn,L.vertices[It++]-=kn;this._maxLineHeight=C*o;var ji=L.mesh.geometry.getBuffer("aVertexPosition"),mo=L.mesh.geometry.getBuffer("aTextureCoord"),Rs=L.mesh.geometry.getIndex();ji.data=L.vertices,mo.data=L.uvs,Rs.data=L.indices,ji.update(),mo.update(),Rs.update()}for(var A=0;A<s.length;A++)BN.push(s[A]);this._font=r,this.dirty=!1},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0);var r=sa.available[this._fontName],i=r.distanceFieldRange,o=r.distanceFieldType,a=r.size;if(o!=="none")for(var s=this.worldTransform,u=s.a,l=s.b,f=s.c,d=s.d,p=Math.sqrt(u*u+l*l),m=Math.sqrt(f*f+d*d),v=(Math.abs(p)+Math.abs(m))/2,_=this.fontSize/a,y=0,x=this._activePagesMeshData;y<x.length;y++){var b=x[y];b.mesh.shader.uniforms.uFWidth=v*i*_*this._resolution}e.prototype._render.call(this,n)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){var n=sa.available[this._fontName];if(!n)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==n&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){if(this._tint!==n){this._tint=n;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(n){this._align!==n&&(this._align=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(n){if(!sa.available[n])throw new Error('Missing BitmapFont "'+n+'"');this._fontName!==n&&(this._fontName=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){var n;return(n=this._fontSize)!==null&&n!==void 0?n:sa.available[this._fontName].size},set:function(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(n){typeof n=="number"?this._anchor.set(n):this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(n){var r=this._textureCache,i=sa.available[this._fontName],o=i.distanceFieldType==="none"?FN:DN;o.push.apply(o,this._activePagesMeshData);for(var a=0,s=this._activePagesMeshData;a<s.length;a++){var u=s[a];this.removeChild(u.mesh)}this._activePagesMeshData=[],o.filter(function(d){return r[d.mesh.texture.baseTexture.uid]}).forEach(function(d){d.mesh.texture=We.EMPTY});for(var l in r){var f=r[l];f.destroy(),delete r[l]}this._font=null,this._textureCache=null,e.prototype.destroy.call(this,n)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(ur),R$=function(){function e(){}return e.add=function(){hn.setExtensionXhrType("fnt",hn.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){var r=sO(t.data);if(!r){n();return}for(var i=e.getBaseUrl(this,t),o=r.parse(t.data),a={},s=function(_){a[_.metadata.pageFile]=_.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=sa.install(o,a,!0),n())},u=0;u<o.page.length;++u){var l=o.page[u].file,f=i+l,d=!1;for(var p in this.resources){var m=this.resources[p];if(m.url===f){m.metadata.pageFile=l,m.texture?s(m):m.onAfterMiddleware.add(s),d=!0;break}}if(!d){var v={crossOrigin:t.crossOrigin,loadType:hn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(f,v,s)}}},e.getBaseUrl=function(t,n){var r=n.isDataUrl?"":e.dirname(n.url);return n.isDataUrl&&(r==="."&&(r=""),t.baseUrl&&r&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(t.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/"),r},e.dirname=function(t){var n=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return n===t?".":n===""?"/":n},e.extension=Nt.Loader,e}();/*!
 * @pixi/filter-alpha - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cw=function(e,t){return cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},cw(e,t)};function zbe(e,t){cw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Hbe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,k$=function(e){zbe(t,e);function t(n){n===void 0&&(n=1);var r=e.call(this,jj,Hbe,{uAlpha:1})||this;return r.alpha=n,r}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-blur - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fw=function(e,t){return fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fw(e,t)};function N$(e,t){fw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vbe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Wbe(e,t){var n=Math.ceil(e/2),r=Vbe,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(n-1)+".0"),i+=s,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",e.toString()),r}var Xbe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qbe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Kbe(e){for(var t=Xbe[e],n=t.length,r=qbe,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,s=0;s<e;s++){var u=o.replace("%index%",s.toString());a=s,s>=n&&(a=e-s-1),u=u.replace("%value%",t[a].toString()),i+=u,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",e.toString()),r}var ad=function(e){N$(t,e);function t(n,r,i,o,a){r===void 0&&(r=8),i===void 0&&(i=4),o===void 0&&(o=Pe.FILTER_RESOLUTION),a===void 0&&(a=5);var s=this,u=Wbe(a,n),l=Kbe(a);return s=e.call(this,u,l)||this,s.horizontal=n,s.resolution=o,s._quality=0,s.quality=i,s.blur=r,s}return t.prototype.apply=function(n,r,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/n.renderer.width*(n.renderer.width/r.width):this.uniforms.strength=1/n.renderer.height*(n.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)n.applyFilter(this,r,i,o);else{var a=n.getFilterTexture(),s=n.renderer,u=r,l=a;this.state.blend=!1,n.applyFilter(this,u,l,ui.CLEAR);for(var f=1;f<this.passes-1;f++){n.bindAndClear(u,ui.BLIT),this.uniforms.uSampler=l;var d=l;l=u,u=d,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,n.applyFilter(this,l,i,o),n.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(n){this.padding=1+Math.abs(n)*2,this.strength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(n){this._quality=n,this.passes=n},enumerable:!1,configurable:!0}),t}(Qe),Ybe=function(e){N$(t,e);function t(n,r,i,o){n===void 0&&(n=8),r===void 0&&(r=4),i===void 0&&(i=Pe.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new ad(!0,n,r,i,o),a.blurYFilter=new ad(!1,n,r,i,o),a.resolution=i,a.quality=r,a.blur=n,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(n,r,i,o){var a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){var u=n.getFilterTexture();this.blurXFilter.apply(n,r,u,ui.CLEAR),this.blurYFilter.apply(n,u,i,o),n.returnFilterTexture(u)}else s?this.blurYFilter.apply(n,r,i,o):this.blurXFilter.apply(n,r,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(n){this.blurXFilter.quality=this.blurYFilter.quality=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(n){this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(n){this.blurYFilter.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(n){this._repeatEdgePixels=n,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-color-matrix - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hw=function(e,t){return hw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},hw(e,t)};function Jbe(e,t){hw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Zbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,dw=function(e){Jbe(t,e);function t(){var n=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return n=e.call(this,ZC,Zbe,r)||this,n.alpha=1,n}return t.prototype._loadMatrix=function(n,r){r===void 0&&(r=!1);var i=n;r&&(this._multiply(i,this.uniforms.m,n),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(n,r,i){return n[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],n[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],n[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],n[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],n[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],n[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],n[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],n[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],n[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],n[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],n[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],n[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],n[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],n[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],n[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],n[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],n[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],n[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],n[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],n[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],n},t.prototype._colorMatrix=function(n){var r=new Float32Array(n);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},t.prototype.brightness=function(n,r){var i=[n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.tint=function(n,r){var i=n>>16&255,o=n>>8&255,a=n&255,s=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(s,r)},t.prototype.greyscale=function(n,r){var i=[n,n,n,0,0,n,n,n,0,0,n,n,n,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.blackAndWhite=function(n){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.hue=function(n,r){n=(n||0)/180*Math.PI;var i=Math.cos(n),o=Math.sin(n),a=Math.sqrt,s=1/3,u=a(s),l=i+(1-i)*s,f=s*(1-i)-u*o,d=s*(1-i)+u*o,p=s*(1-i)+u*o,m=i+s*(1-i),v=s*(1-i)-u*o,_=s*(1-i)-u*o,y=s*(1-i)+u*o,x=i+s*(1-i),b=[l,f,d,0,0,p,m,v,0,0,_,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,r)},t.prototype.contrast=function(n,r){var i=(n||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,r)},t.prototype.saturate=function(n,r){n===void 0&&(n=0);var i=n*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,r)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(n){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.sepia=function(n){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.technicolor=function(n){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.polaroid=function(n){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.toBGR=function(n){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.kodachrome=function(n){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.browni=function(n){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.vintage=function(n){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.colorTone=function(n,r,i,o,a){n=n||.2,r=r||.15,i=i||16770432,o=o||3375104;var s=(i>>16&255)/255,u=(i>>8&255)/255,l=(i&255)/255,f=(o>>16&255)/255,d=(o>>8&255)/255,p=(o&255)/255,m=[.3,.59,.11,0,0,s,u,l,n,0,f,d,p,r,0,s-f,u-d,l-p,0,0];this._loadMatrix(m,a)},t.prototype.night=function(n,r){n=n||.1;var i=[n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.predator=function(n,r){var i=[11.224130630493164*n,-4.794486999511719*n,-2.8746118545532227*n,0*n,.40342438220977783*n,-3.6330697536468506*n,9.193157196044922*n,-2.951810836791992*n,0*n,-1.316135048866272*n,-3.2184197902679443*n,-4.2375030517578125*n,7.476448059082031*n,0*n,.8044459223747253*n,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.lsd=function(n){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.reset=function(){var n=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(n,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(n){this.uniforms.m=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),t}(Qe);dw.prototype.grayscale=dw.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pw=function(e,t){return pw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},pw(e,t)};function Qbe(e,t){pw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var e1e=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,t1e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,n1e=function(e){Qbe(t,e);function t(n,r){var i=this,o=new Rn;return n.renderable=!1,i=e.call(this,t1e,e1e,{mapSampler:n._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=n,i.maskMatrix=o,r==null&&(r=20),i.scale=new ft(r,r),i}return t.prototype.apply=function(n,r,i,o){this.uniforms.filterMatrix=n.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),u=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&u!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/u,this.uniforms.rotation[3]=a.d/u),n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(n){this.uniforms.mapSampler=n},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-fxaa - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mw=function(e,t){return mw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},mw(e,t)};function r1e(e,t){mw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var i1e=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,o1e=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,a1e=function(e){r1e(t,e);function t(){return e.call(this,i1e,o1e)||this}return t}(Qe);/*!
 * @pixi/filter-noise - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vw=function(e,t){return vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},vw(e,t)};function s1e(e,t){vw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var u1e=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,l1e=function(e){s1e(t,e);function t(n,r){n===void 0&&(n=.5),r===void 0&&(r=Math.random());var i=e.call(this,ZC,u1e,{uNoise:0,uSeed:0})||this;return i.noise=n,i.seed=r,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(n){this.uniforms.uNoise=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(n){this.uniforms.uSeed=n},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var L$=new Rn;gn.prototype._cacheAsBitmap=!1;gn.prototype._cacheData=null;gn.prototype._cacheAsBitmapResolution=null;gn.prototype._cacheAsBitmapMultisample=Yt.NONE;var c1e=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(gn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new c1e),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});gn.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};gn.prototype._initCachedDisplayObject=function(t){var n;if(!(this._cacheData&&this._cacheData.sprite)){var r=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(Pe.RESOLUTION);var a=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),u=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,f=ws.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(n=this.cacheAsBitmapMultisample)!==null&&n!==void 0?n:t.multisample}),d="cacheAsBitmap_"+Ss();this._cacheData.textureCacheId=d,gt.addToCache(f.baseTexture,d),We.addToCache(f,d);var p=this.transform.localTransform.copyTo(L$).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:f,clear:!0,transform:p,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(a,s,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var m=new Pi(f);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(i.x/i.width),m.anchor.y=-(i.y/i.height),m.alpha=r,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)}};gn.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};gn.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;n.ceil(Pe.RESOLUTION);var a=ws.create({width:n.width,height:n.height}),s="cacheAsBitmap_"+Ss();this._cacheData.textureCacheId=s,gt.addToCache(a.baseTexture,s),We.addToCache(a,s);var u=L$;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=n.x,u.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var l=new Pi(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(n.x/n.width),l.anchor.y=-(n.y/n.height),l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};gn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};gn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};gn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,gt.removeFromCache(this._cacheData.textureCacheId),We.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};gn.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */gn.prototype.name=null;ur.prototype.getChildByName=function(t,n){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(n)for(var r=0,i=this.children.length;r<i;r++){var o=this.children[r];if(o.getChildByName){var a=o.getChildByName(t,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */gn.prototype.getGlobalPosition=function(t,n){return t===void 0&&(t=new ft),n===void 0&&(n=!1),this.parent?this.parent.toGlobal(this.position,t,n):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/app - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var M$=function(){function e(){}return e.init=function(t){var n=this;Object.defineProperty(this,"resizeTo",{set:function(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){n._resizeTo&&(n.cancelResize(),n._resizeId=requestAnimationFrame(function(){return n.resize()}))},this.cancelResize=function(){n._resizeId&&(cancelAnimationFrame(n._resizeId),n._resizeId=null)},this.resize=function(){if(n._resizeTo){n.cancelResize();var r,i;if(n._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=n._resizeTo,a=o.clientWidth,s=o.clientHeight;r=a,i=s}n.renderer.resize(r,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e.extension=Nt.Application,e}(),og=function(){function e(t){var n=this;this.stage=new ur,t=Object.assign({forceCanvas:!1},t),this.renderer=Bj(t),e._plugins.forEach(function(r){r.init.call(n,t)})}return e.registerPlugin=function(t){kr("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Vo.add({type:Nt.Application,ref:t})},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(r)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}();Vo.handleByList(Nt.Application,og._plugins);Vo.add(M$);/*!
 * @pixi/mesh-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gw=function(e,t){return gw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gw(e,t)};function Uc(e,t){gw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var F$=function(e){Uc(t,e);function t(n,r,i,o){n===void 0&&(n=100),r===void 0&&(r=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=n,a.height=r,a.build(),a}return t.prototype.build=function(){for(var n=this.segWidth*this.segHeight,r=[],i=[],o=[],a=this.segWidth-1,s=this.segHeight-1,u=this.width/a,l=this.height/s,f=0;f<n;f++){var d=f%this.segWidth,p=f/this.segWidth|0;r.push(d*u,p*l),i.push(d/a,p/s)}for(var m=a*s,f=0;f<m;f++){var v=f%a,_=f/a|0,y=_*this.segWidth+v,x=_*this.segWidth+v+1,b=(_+1)*this.segWidth+v,w=(_+1)*this.segWidth+v+1;o.push(y,x,b,x,w,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Rd),D$=function(e){Uc(t,e);function t(n,r,i){n===void 0&&(n=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6))||this;return o.points=r,o._width=n,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var n=this.points;if(n){var r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(n.length<1)){r.data.length/4!==n.length&&(r.data=new Float32Array(n.length*4),i.data=new Float32Array(n.length*4),o.data=new Uint16Array((n.length-1)*6));var a=i.data,s=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var u=0,l=n[0],f=this._width*this.textureScale,d=n.length,p=0;p<d;p++){var m=p*4;if(this.textureScale>0){var v=l.x-n[p].x,_=l.y-n[p].y,y=Math.sqrt(v*v+_*_);l=n[p],u+=y/f}else u=p/(d-1);a[m]=u,a[m+1]=0,a[m+2]=u,a[m+3]=1}for(var x=0,p=0;p<d-1;p++){var m=p*2;s[x++]=m,s[x++]=m+1,s[x++]=m+2,s[x++]=m+2,s[x++]=m+1,s[x++]=m+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var n=this.points;if(!(n.length<1)){for(var r=n[0],i,o=0,a=0,s=this.buffers[0].data,u=n.length,l=0;l<u;l++){var f=n[l],d=l*4;l<n.length-1?i=n[l+1]:i=f,a=-(i.x-r.x),o=i.y-r.y;var p=Math.sqrt(o*o+a*a),m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=p,a/=p,o*=m,a*=m,s[d]=f.x+o,s[d+1]=f.y+a,s[d+2]=f.x-o,s[d+3]=f.y-a,r=f}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Rd),f1e=function(e){Uc(t,e);function t(n,r,i){i===void 0&&(i=0);var o=this,a=new D$(n.height,r,i),s=new yc(n);return i>0&&(n.baseTexture.wrapMode=no.REPEAT),o=e.call(this,a,s)||this,o.autoUpdate=!0,o}return t.prototype._render=function(n){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,n)},t}(gc),B$=function(e){Uc(t,e);function t(n,r,i){var o=this,a=new F$(n.width,n.height,r,i),s=new yc(We.WHITE);return o=e.call(this,a,s)||this,o.texture=n,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var n=this.geometry,r=this.shader.texture,i=r.width,o=r.height;this.autoResize&&(n.width!==i||n.height!==o)&&(n.width=this.shader.texture.width,n.height=this.shader.texture.height,n.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(n){this.shader.texture!==n&&(this.shader.texture=n,this._textureID=-1,n.baseTexture.valid?this.textureUpdated():n.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(n){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,n)},t.prototype.destroy=function(n){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,n)},t}(gc),h1e=function(e){Uc(t,e);function t(n,r,i,o,a){n===void 0&&(n=We.EMPTY);var s=this,u=new Rd(r,i,o);u.getBuffer("aVertexPosition").static=!1;var l=new yc(n);return s=e.call(this,u,l,null,a)||this,s.autoUpdate=!0,s}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),t.prototype._render=function(n){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,n)},t}(gc),wm=10,d1e=function(e){Uc(t,e);function t(n,r,i,o,a){r===void 0&&(r=wm),i===void 0&&(i=wm),o===void 0&&(o=wm),a===void 0&&(a=wm);var s=e.call(this,We.WHITE,4,4)||this;return s._origWidth=n.orig.width,s._origHeight=n.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=o,s._topHeight=i,s._bottomHeight=a,s.texture=n,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var n=this.vertices,r=this._getMinScale();n[9]=n[11]=n[13]=n[15]=this._topHeight*r,n[17]=n[19]=n[21]=n[23]=this._height-this._bottomHeight*r,n[25]=n[27]=n[29]=n[31]=this._height},t.prototype.updateVerticalVertices=function(){var n=this.vertices,r=this._getMinScale();n[2]=n[10]=n[18]=n[26]=this._leftWidth*r,n[4]=n[12]=n[20]=n[28]=this._width-this._rightWidth*r,n[6]=n[14]=n[22]=n[30]=this._width},t.prototype._getMinScale=function(){var n=this._leftWidth+this._rightWidth,r=this._width>n?1:this._width/n,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(r,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(n){this._leftWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(n){this._rightWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(n){this._topHeight=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(n){this._bottomHeight=n,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var n=this.texture,r=this.geometry.buffers[1].data;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var i=1/this._origWidth,o=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=o*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(B$);/*!
 * @pixi/sprite-animated - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yw=function(e,t){return yw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},yw(e,t)};function p1e(e,t){yw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var m1e=function(e){p1e(t,e);function t(n,r){r===void 0&&(r=!0);var i=e.call(this,n[0]instanceof We?n[0]:n[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=n,i}return t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(cn.shared.add(this.update,this,oo.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(n){this.stop();var r=this.currentFrame;this._currentTime=n,r!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(n){var r=this.currentFrame;this._currentTime=n,r!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(n){if(this._playing){var r=this.animationSpeed*n,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=r/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var n=this.currentFrame;this._previousFrame!==n&&(this._previousFrame=n,this._texture=this._textures[n],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(n){this.stop(),e.prototype.destroy.call(this,n),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(n){for(var r=[],i=0;i<n.length;++i)r.push(We.from(n[i]));return new t(r)},t.fromImages=function(n){for(var r=[],i=0;i<n.length;++i)r.push(We.from(n[i]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(n){if(n[0]instanceof We)this._textures=n,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<n.length;r++)this._textures.push(n[r].texture),this._durations.push(n[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var n=Math.floor(this._currentTime)%this._textures.length;return n<0&&(n+=this._textures.length),n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Pi);/*!
 * pixi.js - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Vo.add(Wj,Yj,Kj,f$,S$,eO,C$,R$,n$,u$,l$,E$,mj,Zj);var j$={AlphaFilter:k$,BlurFilter:Ybe,BlurFilterPass:ad,ColorMatrixFilter:dw,DisplacementFilter:n1e,FXAAFilter:a1e,NoiseFilter:l1e};const v1e=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Fi},AbstractBatchRenderer:$j,AbstractMultiResource:Gy,AbstractRenderer:Dj,AccessibilityManager:Wj,AnimatedSprite:m1e,AppLoaderPlugin:Zj,Application:og,ArrayResource:PC,Attribute:VS,get BLEND_MODES(){return ze},get BUFFER_BITS(){return Vh},get BUFFER_TYPE(){return ro},BaseImageResource:jo,BasePrepare:x$,BaseRenderTexture:LC,BaseTexture:gt,BatchDrawCall:eg,BatchGeometry:QC,BatchPluginFactory:Gj,BatchRenderer:eO,BatchShaderGenerator:Uj,BatchSystem:BC,BatchTextureArray:tg,BitmapFont:sa,BitmapFontData:od,BitmapFontLoader:R$,BitmapText:Gbe,BlobResource:t$,Bounds:ed,BrowserAdapter:IB,Buffer:An,BufferResource:Du,get CLEAR_MODES(){return ui},get COLOR_MASK_BITS(){return SS},CanvasResource:IC,Circle:fj,CompressedTextureLoader:n$,CompressedTextureResource:rg,Container:ur,ContextSystem:jC,CountLimiter:_$,CubeResource:RC,DDSLoader:u$,DEG_TO_RAD:Bo,get DRAW_MODES(){return Ii},DisplayObject:gn,get ENV(){return Do},Ellipse:hj,get ExtensionType(){return Nt},Extract:Yj,get FORMATS(){return Ce},FORMATS_TO_COMPONENTS:o$,FillStyle:nO,Filter:Qe,FilterState:_j,FilterSystem:DC,Framebuffer:Qv,FramebufferSystem:$C,get GC_MODES(){return Xh},GLFramebuffer:xj,GLProgram:Lj,GLTexture:Ym,GRAPHICS_CURVES:mc,Geometry:jc,GeometrySystem:UC,Graphics:id,GraphicsData:rw,GraphicsGeometry:g$,IGLUniformData:Y0e,INSTALLED:td,get INTERNAL_FORMATS(){return it},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:nd,ImageBitmapResource:NC,ImageResource:zy,InteractionData:WS,InteractionEvent:Xj,InteractionManager:Kj,InteractionTrackingData:Jm,KTXLoader:l$,get LINE_CAP(){return ma},get LINE_JOIN(){return Oo},LineStyle:y$,Loader:pc,get LoaderResource(){return hn},get MASK_TYPES(){return Sn},get MIPMAP_MODES(){return br},get MSAA_QUALITY(){return Yt},MaskData:bj,MaskSystem:GC,Matrix:Rn,Mesh:gc,MeshBatchUvs:O$,MeshGeometry:Rd,MeshMaterial:yc,NineSlicePlane:d1e,ObjectRenderer:Id,ObservablePoint:es,PI_2:Qh,get PRECISION(){return Wr},ParticleContainer:obe,ParticleRenderer:f$,PlaneGeometry:F$,Point:ft,Polygon:xh,Prepare:S$,Program:$c,ProjectionSystem:VC,Quad:yj,QuadUv:FC,RAD_TO_DEG:cj,get RENDERER_TYPE(){return cc},Rectangle:mt,RenderTexture:ws,RenderTexturePool:gj,RenderTextureSystem:WC,Renderer:JC,ResizePlugin:M$,Resource:Cu,RopeGeometry:D$,RoundedRectangle:dj,Runner:Kn,get SAMPLER_TYPES(){return Wh},get SCALE_MODES(){return lr},get SHAPES(){return Bn},SVGResource:kC,ScissorSystem:zC,Shader:ya,ShaderSystem:XC,SimpleMesh:h1e,SimplePlane:B$,SimpleRope:f1e,Sprite:Pi,SpriteMaskFilter:Aj,Spritesheet:w$,SpritesheetLoader:E$,State:Ps,StateSystem:qC,StencilSystem:HC,System:hxe,get TARGETS(){return hs},get TEXT_GRADIENT(){return vc},get TYPES(){return He},TYPES_TO_BYTES_PER_COMPONENT:JS,TYPES_TO_BYTES_PER_PIXEL:a$,TemporaryDisplayObject:AC,Text:oO,TextFormat:A$,TextMetrics:co,TextStyle:Ou,Texture:We,TextureGCSystem:KC,TextureLoader:Qj,TextureMatrix:Vy,TextureSystem:YC,TextureUvs:MC,Ticker:cn,TickerPlugin:mj,TilingSprite:Pbe,TilingSpriteRenderer:C$,TimeLimiter:Abe,Transform:CC,get UPDATE_PRIORITY(){return oo},UniformGroup:ds,VERSION:mxe,VideoResource:Hy,ViewableBuffer:ng,get WRAP_MODES(){return no},XMLFormat:ig,XMLStringFormat:P$,accessibleTarget:Vj,autoDetectFormat:sO,autoDetectRenderer:Bj,autoDetectResource:Uy,checkMaxIfStatementsInShader:Oj,createUBOElements:Rj,defaultFilterVertex:ZC,defaultVertex:jj,extensions:Vo,filters:j$,generateProgram:Mj,generateUniformBufferSync:Nj,getTestContext:Ej,getUBOData:kj,graphicsUtils:fbe,groupD8:en,interactiveTarget:qj,isMobile:Ri,parseDDS:i$,parseKTX:s$,resources:zj,settings:Pe,systems:Hj,uniformParsers:gu,utils:_0e},Symbol.toStringTag,{value:"Module"}));let Em;const g1e=new Uint8Array(16);function y1e(){if(!Em&&(Em=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Em))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Em(g1e)}const ir=[];for(let e=0;e<256;++e)ir.push((e+256).toString(16).slice(1));function _1e(e,t=0){return ir[e[t+0]]+ir[e[t+1]]+ir[e[t+2]]+ir[e[t+3]]+"-"+ir[e[t+4]]+ir[e[t+5]]+"-"+ir[e[t+6]]+ir[e[t+7]]+"-"+ir[e[t+8]]+ir[e[t+9]]+"-"+ir[e[t+10]]+ir[e[t+11]]+ir[e[t+12]]+ir[e[t+13]]+ir[e[t+14]]+ir[e[t+15]]}const x1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jN={randomUUID:x1e};function si(e,t,n){if(jN.randomUUID&&!t&&!e)return jN.randomUUID();e=e||{};const r=e.random||(e.rng||y1e)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return _1e(r)}const uO=()=>{he.warn("");for(let e=0;e<I.gameplay.performController.performList.length;e++){const t=I.gameplay.performController.performList[e];t.stopFunction(),clearTimeout(t.stopTimeout),I.gameplay.performController.performList.splice(e,1),e--}},$$=()=>{const e=W.getState().stage,t=Pt(e.PerformList);W.dispatch(Ft.removeAllPerform()),t.forEach(n=>{i_(n.script)})},U$=(e,t=!0)=>{const n=W.dispatch,r=I.backlogManager.getBacklog()[e];he.debug("backlog",r),t&&Ho(r.saveScene.sceneUrl).then(o=>{I.sceneManager.sceneData.currentScene=fo(o,r.saveScene.sceneName,r.saveScene.sceneUrl);const a=I.sceneManager.sceneData.currentScene.subSceneList;I.sceneManager.settledScenes.push(I.sceneManager.sceneData.currentScene.sceneUrl);const s=wd(a);Ed(s)}),I.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,I.sceneManager.sceneData.sceneStack=Pt(r.saveScene.sceneStack),uO();for(let o=I.backlogManager.getBacklog().length-1;o>e;o--)I.backlogManager.getBacklog().pop();I.backlogManager.isSaveBacklogNext=!0;const i=Pt(r.currentStageState);n(my(i)),setTimeout($$,0),n(at({component:"showBacklog",visibility:!1})),n(at({component:"showTextBox",visibility:!0}))};function Wy(e){const t=document.getElementById("ebg");t&&(t.style.backgroundImage=`url("${e}")`)}const b1e=e=>{const n=W.getState().saveData.saveData[e];he.debug("",n),S1e(n)};function S1e(e){if(!e){he.info("");return}const t=e;Ho(t.sceneData.sceneUrl).then(o=>{I.sceneManager.sceneData.currentScene=fo(o,t.sceneData.sceneName,t.sceneData.sceneUrl);const a=I.sceneManager.sceneData.currentScene.subSceneList;I.sceneManager.settledScenes.push(I.sceneManager.sceneData.currentScene.sceneUrl);const s=wd(a);Ed(s)}),I.sceneManager.sceneData.currentSentenceId=t.sceneData.currentSentenceId,I.sceneManager.sceneData.sceneStack=Pt(t.sceneData.sceneStack),uO();const n=t.backlog;I.backlogManager.getBacklog().splice(0,I.backlogManager.getBacklog().length);for(const o of n)I.backlogManager.getBacklog().push(o);const r=Pt(t.nowStageState),i=W.dispatch;i(my(r)),setTimeout($$,0),i(at({component:"showTitle",visibility:!1})),i(at({component:"showMenuPanel",visibility:!1})),Wy(W.getState().stage.bgName)}function ev(e,t){for(let n=e;n<=t;n++){const r=W.getState().saveData.saveData[n];Lu.setItem(`${I.gameKey}-saves${n}`,r).then(()=>{he.info(`${n}`)})}}function Xy(e,t){for(let n=e;n<=t;n++)Lu.getItem(`${I.gameKey}-saves${n}`).then(r=>{W.dispatch(pa.saveGame({index:n,saveData:r})),he.info(`${n}`)})}async function tv(){const e=W.getState().saveData.quickSaveData;await Lu.setItem(`${I.gameKey}-saves-fast`,e),he.info("")}async function G$(){const e=await Lu.getItem(`${I.gameKey}-saves-fast`);W.dispatch(pa.setFastSave(e)),he.info("")}const $N=e=>{const t=z$(e);W.dispatch(pa.saveGame({index:e,saveData:t})),ev(e,e)};function z$(e,t=!0){const n=W.getState().stage,r=Pt(I.backlogManager.getBacklog());let i="";if(t){const a=document.getElementById("pixiCanvas"),s=document.createElement("canvas"),u=s.getContext("2d");s.width=480,s.height=270,u.drawImage(a,0,0,480,270),i=s.toDataURL("image/webp",.5),s.remove()}return{nowStageState:Pt(n),backlog:r,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:I.sceneManager.sceneData.currentSentenceId,sceneStack:Pt(I.sceneManager.sceneData.sceneStack),sceneName:I.sceneManager.sceneData.currentScene.sceneName,sceneUrl:I.sceneManager.sceneData.currentScene.sceneUrl},previewImage:i}}function w1e(){`${I.gameName}${I.gameKey}`,`${I.gameName}${I.gameKey}`}async function E1e(){const e=z$(-1,!1),t=Pt(e);W.dispatch(pa.setFastSave(t)),await tv()}const T1e=e=>{const t=W.dispatch;lc.get(e).then(async n=>{var a,s;let r=n.data,i=Hc.parseConfig(r);he.info("",i);const o=i.find(u=>u.command==="Game_key");I.gameKey=((a=o==null?void 0:o.args)==null?void 0:a[0])??"",w1e(),await lre(),G$(),Xy(0,0),i.forEach(u=>{const{command:l,args:f}=u;if(f.length>0)if(f.length>1)t(mR({key:l,value:f.join("|")}));else{let d=f[0].trim();/^(true|false)$/g.test(f[0])?d=d==="true":/^[0-9]+\.?[0-9]+$/g.test(f[0])&&(d=Number(d)),t(mR({key:l,value:d})),l==="Enable_Appreciation"&&t(hre(d))}}),(s=window==null?void 0:window.renderPromise)==null||s.call(window),delete window.renderPromise,nn()})},qy=(e,t=!0)=>{var i;e&&I.backlogManager.makeBacklogEmpty(),t&&I.sceneManager.resetScene(),(i=I.gameplay.pixiStage)==null||i.removeAllAnimations(),I.gameplay.performController.removeAllPerform(),I.gameplay.resetGamePlay();const n=Pt(HD),r=W.getState().stage.GameVar;W.dispatch(my(n)),t||W.dispatch(we({key:"GameVar",value:r}))};let _w;const C1e=(e,t,n=!1)=>{he.warn(""+e+":"+t);const r=W.dispatch;r(at({component:"showTitle",visibility:!1})),r(at({component:"showMenuPanel",visibility:!1})),r(at({component:"isShowLogo",visibility:!1}));const i=document.getElementById("Title_enter_page");i&&(i.style.display="none");const o=Pt(I.sceneManager.sceneData.currentScene),a=ln(e,un.scene);Ho(a).then(s=>{const u=O1e(o,I.sceneManager.sceneData.currentScene,t),l=Math.min(t,u),f=A1e(l,e),d=f>=0&&n;qy(!d),I.sceneManager.sceneData.currentScene=fo(s,e,a);const p=I.sceneManager.sceneData.currentScene.sceneName;I.gameplay.isFast=!0,d&&U$(f,!1),_w&&clearTimeout(_w),lO(t,p)})};function lO(e,t){I.sceneManager.sceneData.currentSentenceId<e&&I.sceneManager.sceneData.currentScene.sceneName===t?(wr(),_w=setTimeout(()=>lO(e,t),2)):I.gameplay.isFast=!1}function O1e(e,t,n){let r=0;for(let i=0;i<n&&i<e.sentenceList.length;i++){const o=JSON.stringify(e.sentenceList[i]),a=JSON.stringify(t.sentenceList[i]);if(o!==a)break;r=i}return r}function A1e(e,t){let n=-1;return I.backlogManager.getBacklog().forEach((r,i)=>{const o=r.saveScene.currentSentenceId,a=r.saveScene.sceneName;o<=e&&a===t&&(n=i)}),n}const P1e=()=>{window.JMP=lO};var ja=(e=>(e[e.JUMP=0]="JUMP",e[e.SYNCFC=1]="SYNCFC",e[e.SYNCFE=2]="SYNCFE",e[e.EXE_COMMAND=3]="EXE_COMMAND",e[e.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",e[e.SET_COMPONENT_VISIBILITY=5]="SET_COMPONENT_VISIBILITY",e[e.TEMP_SCENE=6]="TEMP_SCENE",e[e.FONT_OPTIMIZATION=7]="FONT_OPTIMIZATION",e))(ja||{});const I1e=()=>{const e=window.location.hostname,t=window.location.protocol,n=window.location.port;let r="";if(n&&n!=="80"&&n!=="443"&&(r=`:${n}`),t!=="http:"&&t!=="https:")return;let i=`ws://${e}${r}/api/webgalsync`;t==="https:"&&(i=`wss://${e}${r}/api/webgalsync`),he.info("socket"+i);const o=new WebSocket(i);o.onopen=()=>{he.info("socket");function a(){const s={event:"message",data:{command:ja.SYNCFC,sceneMsg:{scene:I.sceneManager.sceneData.currentScene.sceneName,sentence:I.sceneManager.sceneData.currentSentenceId},stageSyncMsg:W.getState().stage,message:"sync"}};o.send(JSON.stringify(s)),setTimeout(a,1e3)}a()},o.onmessage=a=>{const s=a.data,l=JSON.parse(s).data;if(l.command===ja.JUMP&&C1e(l.sceneMsg.scene,l.sceneMsg.sentence,l.message==="exp"),l.command===ja.EXE_COMMAND){const f=l.message;Hc.parse(f,"temp.txt","temp.txt").sentenceList.forEach(p=>{i_(p)})}if(l.command===ja.REFETCH_TEMPLATE_FILES){const f=document.getElementById("Title_enter_page");f&&(f.style.display="none"),I.events.styleUpdate.emit()}if(l.command===ja.SET_COMPONENT_VISIBILITY){const f=l.message;JSON.parse(f).forEach(p=>{p&&W.dispatch(at({component:p.component,visibility:p.visibility}))})}if(l.command===ja.TEMP_SCENE){const f=l.message;qy(!0),I.sceneManager.sceneData.currentScene=fo(f,"temp","./temp.txt"),W.dispatch(at({component:"showTitle",visibility:!1})),W.dispatch(at({component:"showMenuPanel",visibility:!1})),W.dispatch(at({component:"showPanicOverlay",visibility:!1})),setTimeout(()=>{wr()},100)}if(l.command===ja.FONT_OPTIMIZATION){const f=l.message;W.dispatch(dre(f==="true"))}},o.onerror=a=>{he.info(" Terre ")}},R1e="1.2.0",H$={version:R1e,contributors:[]},k1e=navigator.userAgent,cO=!!k1e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),N1e=()=>{he.info(`WebGAL v${H$.version}`),he.info("Github: https://github.com/OpenWebGAL/WebGAL "),he.info("Made with  by OpenWebGAL"),cO&&alert(`iOS 
| Please use landscape mode on iOS for the best experience
| iOS `),L1e("./game/userStyleSheet.css"),M1e(),T1e("./game/config.txt");const e=ln("start.txt",un.scene);Ho(e).then(t=>{I.sceneManager.sceneData.currentScene=fo(t,"start.txt",e);const n=I.sceneManager.sceneData.currentScene.subSceneList;I.sceneManager.settledScenes.push(e);const r=wd(n);Ed(r)}),I.gameplay.pixiStage=new Mo,P1e(),I1e()};function L1e(e){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function M1e(){lc.get("./game/animation/animationTable.json").then(e=>{const t=e.data;for(const n of t)lc.get(`./game/animation/${n}.json`).then(r=>{if(r.data){const i={name:n,effects:r.data};I.animationManager.addAnimation(i)}})})}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xw=function(e,t){return xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},xw(e,t)};function F1e(e,t){xw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var D1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,B1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,j1e=function(e){F1e(t,e);function t(n,r){r===void 0&&(r=0);var i=e.call(this,D1e,B1e)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof n=="number"?(i.seed=n,n=void 0):i.seed=r,Object.assign(i,t.defaults,n),i}return t.prototype.apply=function(n,r,i,o){var a,s;this.uniforms.dimensions[0]=(a=r.filterFrame)===null||a===void 0?void 0:a.width,this.uniforms.dimensions[1]=(s=r.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(n){this.uniforms.sepia=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(n){this.uniforms.noise=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(n){this.uniforms.noiseSize=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(n){this.uniforms.scratch=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(n){this.uniforms.scratchDensity=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(n){this.uniforms.scratchWidth=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(n){this.uniforms.vignetting=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(n){this.uniforms.vignettingAlpha=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(n){this.uniforms.vignettingBlur=n},enumerable:!1,configurable:!0}),t.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},t}(Qe);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bw=function(e,t){return bw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bw(e,t)};function $1e(e,t){bw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var U1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G1e=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,z1e=function(e){$1e(t,e);function t(n,r){n===void 0&&(n=1),r===void 0&&(r=5);var i=e.call(this,U1e,G1e)||this;return i.scale=n,i.angle=r,i}return Object.defineProperty(t.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(n){this.uniforms.scale=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(n){this.uniforms.angle=n},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sw=function(e,t){return Sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sw(e,t)};function H1e(e,t){Sw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var V1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,W1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,X1e=function(e){H1e(t,e);function t(n){var r=e.call(this,V1e,W1e)||this;return r.time=0,r.uniforms.amplitude=new Float32Array(2),r.uniforms.waveLength=new Float32Array(2),r.uniforms.alpha=new Float32Array(2),r.uniforms.dimensions=new Float32Array(2),Object.assign(r,t.defaults,n),r}return t.prototype.apply=function(n,r,i,o){var a,s;this.uniforms.dimensions[0]=(a=r.filterFrame)===null||a===void 0?void 0:a.width,this.uniforms.dimensions[1]=(s=r.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(n){this.uniforms.mirror=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(n){this.uniforms.boundary=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(n){this.uniforms.amplitude[0]=n[0],this.uniforms.amplitude[1]=n[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(n){this.uniforms.waveLength[0]=n[0],this.uniforms.waveLength[1]=n[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(n){this.uniforms.alpha[0]=n[0],this.uniforms.alpha[1]=n[1]},enumerable:!1,configurable:!0}),t.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},t}(Qe);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ww=function(e,t){return ww=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ww(e,t)};function q1e(e,t){ww(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var K1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Y1e=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,J1e=function(e){q1e(t,e);function t(n){var r=e.call(this,K1e,Y1e)||this;return r.offset=100,r.fillMode=t.TRANSPARENT,r.average=!1,r.seed=0,r.minSize=8,r.sampleSize=512,r._slices=0,r._offsets=new Float32Array(1),r._sizes=new Float32Array(1),r._direction=-1,r.uniforms.dimensions=new Float32Array(2),r._canvas=document.createElement("canvas"),r._canvas.width=4,r._canvas.height=r.sampleSize,r.texture=We.from(r._canvas,{scaleMode:lr.NEAREST}),Object.assign(r,t.defaults,n),r}return t.prototype.apply=function(n,r,i,o){var a=r.filterFrame,s=a.width,u=a.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.aspect=u/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,n.applyFilter(this,r,i,o)},t.prototype._randomizeSizes=function(){var n=this._sizes,r=this._slices-1,i=this.sampleSize,o=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var a=this._slices,s=1,u=0;u<r;u++){var l=s/(a-u),f=Math.max(l*(1-Math.random()*.6),o);n[u]=f,s-=f}n[r]=s}else{for(var s=1,d=Math.sqrt(1/this._slices),u=0;u<r;u++){var f=Math.max(d*s*Math.random(),o);n[u]=f,s-=f}n[r]=s}this.shuffle()},t.prototype.shuffle=function(){for(var n=this._sizes,r=this._slices-1,i=r;i>0;i--){var o=Math.random()*i>>0,a=n[i];n[i]=n[o],n[o]=a}},t.prototype._randomizeOffsets=function(){for(var n=0;n<this._slices;n++)this._offsets[n]=Math.random()*(Math.random()<.5?-1:1)},t.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},t.prototype.redraw=function(){var n=this.sampleSize,r=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,n);for(var o,a=0,s=0;s<this._slices;s++){o=Math.floor(this._offsets[s]*256);var u=this._sizes[s]*n,l=o>0?o:0,f=o<0?-o:0;i.fillStyle="rgba("+l+", "+f+", 0, 1)",i.fillRect(0,a>>0,n,u+1>>0),a+=u}r.baseTexture.update(),this.uniforms.displacementMap=r},Object.defineProperty(t.prototype,"sizes",{get:function(){return this._sizes},set:function(n){for(var r=Math.min(this._slices,n.length),i=0;i<r;i++)this._sizes[i]=n[i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(n){for(var r=Math.min(this._slices,n.length),i=0;i<r;i++)this._offsets[i]=n[i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slices",{get:function(){return this._slices},set:function(n){this._slices!==n&&(this._slices=n,this.uniforms.slices=n,this._sizes=this.uniforms.slicesWidth=new Float32Array(n),this._offsets=this.uniforms.slicesOffset=new Float32Array(n),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(n){if(this._direction!==n){this._direction=n;var r=n*Bo;this.uniforms.sinDir=Math.sin(r),this.uniforms.cosDir=Math.cos(r)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"red",{get:function(){return this.uniforms.red},set:function(n){this.uniforms.red=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"green",{get:function(){return this.uniforms.green},set:function(n){this.uniforms.green=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(n){this.uniforms.blue=n},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var n;(n=this.texture)===null||n===void 0||n.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},t.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},t.TRANSPARENT=0,t.ORIGINAL=1,t.LOOP=2,t.CLAMP=3,t.MIRROR=4,t}(Qe);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ew=function(e,t){return Ew=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ew(e,t)};function Z1e(e,t){Ew(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Q1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eSe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,tSe=function(e){Z1e(t,e);function t(n,r,i){n===void 0&&(n=[-10,0]),r===void 0&&(r=[0,10]),i===void 0&&(i=[0,0]);var o=e.call(this,Q1e,eSe)||this;return o.red=n,o.green=r,o.blue=i,o}return Object.defineProperty(t.prototype,"red",{get:function(){return this.uniforms.red},set:function(n){this.uniforms.red=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"green",{get:function(){return this.uniforms.green},set:function(n){this.uniforms.green=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(n){this.uniforms.blue=n},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tw=function(e,t){return Tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Tw(e,t)};function nSe(e,t){Tw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iSe=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,oSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,aSe=function(e){nSe(t,e);function t(n){var r=e.call(this,rSe,oSe.replace("${perlin}",iSe))||this;r.parallel=!0,r.time=0,r._angle=0,r.uniforms.dimensions=new Float32Array(2);var i=Object.assign(t.defaults,n);return r._angleLight=new ft,r.angle=i.angle,r.gain=i.gain,r.lacunarity=i.lacunarity,r.alpha=i.alpha,r.parallel=i.parallel,r.center=i.center,r.time=i.time,r}return t.prototype.apply=function(n,r,i,o){var a=r.filterFrame,s=a.width,u=a.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.aspect=u/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n;var r=n*Bo;this._angleLight.x=Math.cos(r),this._angleLight.y=Math.sin(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(n){this.uniforms.gain=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(n){this.uniforms.lacunarity=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(n){this.uniforms.alpha=n},enumerable:!1,configurable:!0}),t.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},t}(Qe);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cw=function(e,t){return Cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Cw(e,t)};function sSe(e,t){Cw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var uSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,lSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`,cSe=function(e){sSe(t,e);function t(n){var r=e.call(this,uSe,lSe)||this;return r.gamma=1,r.saturation=1,r.contrast=1,r.brightness=1,r.red=1,r.green=1,r.blue=1,r.alpha=1,Object.assign(r,n),r}return t.prototype.apply=function(n,r,i,o){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,n.applyFilter(this,r,i,o)},t}(Qe);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ow=function(e,t){return Ow=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ow(e,t)};function fSe(e,t){Ow(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dSe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,pSe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,ag=function(e){fSe(t,e);function t(n,r,i){n===void 0&&(n=4),r===void 0&&(r=3),i===void 0&&(i=!1);var o=e.call(this,hSe,i?pSe:dSe)||this;return o._kernels=[],o._blur=4,o._quality=3,o.uniforms.uOffset=new Float32Array(2),o._pixelSize=new ft,o.pixelSize=1,o._clamp=i,Array.isArray(n)?o.kernels=n:(o._blur=n,o.quality=r),o}return t.prototype.apply=function(n,r,i,o){var a=this._pixelSize.x/r._frame.width,s=this._pixelSize.y/r._frame.height,u;if(this._quality===1||this._blur===0)u=this._kernels[0]+.5,this.uniforms.uOffset[0]=u*a,this.uniforms.uOffset[1]=u*s,n.applyFilter(this,r,i,o);else{for(var l=n.getFilterTexture(),f=r,d=l,p=void 0,m=this._quality-1,v=0;v<m;v++)u=this._kernels[v]+.5,this.uniforms.uOffset[0]=u*a,this.uniforms.uOffset[1]=u*s,n.applyFilter(this,f,d,1),p=f,f=d,d=p;u=this._kernels[m]+.5,this.uniforms.uOffset[0]=u*a,this.uniforms.uOffset[1]=u*s,n.applyFilter(this,f,i,o),n.returnFilterTexture(l)}},t.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(n,r){return n+r+.5},0))},t.prototype._generateKernels=function(){var n=this._blur,r=this._quality,i=[n];if(n>0)for(var o=n,a=n/r,s=1;s<r;s++)o-=a,i.push(o);this._kernels=i,this._updatePadding()},Object.defineProperty(t.prototype,"kernels",{get:function(){return this._kernels},set:function(n){Array.isArray(n)&&n.length>0?(this._kernels=n,this._quality=n.length,this._blur=Math.max.apply(Math,n)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(n){typeof n=="number"?(this._pixelSize.x=n,this._pixelSize.y=n):Array.isArray(n)?(this._pixelSize.x=n[0],this._pixelSize.y=n[1]):n instanceof ft?(this._pixelSize.x=n.x,this._pixelSize.y=n.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(n){this._quality=Math.max(1,Math.round(n)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this._blur},set:function(n){this._blur=n,this._generateKernels()},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Aw=function(e,t){return Aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Aw(e,t)};function V$(e,t){Aw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var W$=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mSe=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,vSe=function(e){V$(t,e);function t(n){n===void 0&&(n=.5);var r=e.call(this,W$,mSe)||this;return r.threshold=n,r}return Object.defineProperty(t.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(n){this.uniforms.threshold=n},enumerable:!1,configurable:!0}),t}(Qe),gSe=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`,ySe=function(e){V$(t,e);function t(n){var r=e.call(this,W$,gSe)||this;r.bloomScale=1,r.brightness=1,r._resolution=Pe.FILTER_RESOLUTION,typeof n=="number"&&(n={threshold:n});var i=Object.assign(t.defaults,n);r.bloomScale=i.bloomScale,r.brightness=i.brightness;var o=i.kernels,a=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;return r._extractFilter=new vSe(i.threshold),r._extractFilter.resolution=l,r._blurFilter=o?new ag(o):new ag(a,s),r.pixelSize=u,r.resolution=l,r}return t.prototype.apply=function(n,r,i,o,a){var s=n.getFilterTexture();this._extractFilter.apply(n,r,s,1,a);var u=n.getFilterTexture();this._blurFilter.apply(n,s,u,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=u,n.applyFilter(this,r,i,o),n.returnFilterTexture(u),n.returnFilterTexture(s)},Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n,this._extractFilter&&(this._extractFilter.resolution=n),this._blurFilter&&(this._blurFilter.resolution=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(n){this._extractFilter.threshold=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(n){this._blurFilter.kernels=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(n){this._blurFilter.blur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(n){this._blurFilter.quality=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(n){this._blurFilter.pixelSize=n},enumerable:!1,configurable:!0}),t.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:Pe.FILTER_RESOLUTION},t}(Qe);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pw=function(e,t){return Pw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Pw(e,t)};function _Se(e,t){Pw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bSe=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(e){_Se(t,e);function t(n){n===void 0&&(n=8);var r=e.call(this,xSe,bSe)||this;return r.size=n,r}return Object.defineProperty(t.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(n){this.uniforms.pixelSize=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Iw=function(e,t){return Iw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Iw(e,t)};function SSe(e,t){Iw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ESe=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(e){SSe(t,e);function t(n){var r=e.call(this,wSe,ESe)||this;return r._thickness=2,r._angle=0,r.uniforms.lightColor=new Float32Array(3),r.uniforms.shadowColor=new Float32Array(3),Object.assign(r,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},n),r.padding=1,r}return t.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._angle/Bo},set:function(n){this._angle=n*Bo,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(n){this._thickness=n,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightColor",{get:function(){return Jr(this.uniforms.lightColor)},set:function(n){In(n,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(n){this.uniforms.lightAlpha=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowColor",{get:function(){return Jr(this.uniforms.shadowColor)},set:function(n){In(n,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(n){this.uniforms.shadowAlpha=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rw=function(e,t){return Rw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Rw(e,t)};function TSe(e,t){Rw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}(function(e){TSe(t,e);function t(n,r,i,o){n===void 0&&(n=2),r===void 0&&(r=4),i===void 0&&(i=Pe.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this,s,u;return typeof n=="number"?(s=n,u=n):n instanceof ft?(s=n.x,u=n.y):Array.isArray(n)&&(s=n[0],u=n[1]),a.blurXFilter=new ad(!0,s,r,i,o),a.blurYFilter=new ad(!1,u,r,i,o),a.blurYFilter.blendMode=ze.SCREEN,a.defaultFilter=new k$,a}return t.prototype.apply=function(n,r,i,o){var a=n.getFilterTexture();this.defaultFilter.apply(n,r,i,o),this.blurXFilter.apply(n,r,a,1),this.blurYFilter.apply(n,a,i,0),n.returnFilterTexture(a)},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=this.blurYFilter.blur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(n){this.blurYFilter.blur=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kw=function(e,t){return kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kw(e,t)};function CSe(e,t){kw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var OSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ASe=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(e){CSe(t,e);function t(n){var r=e.call(this,OSe,ASe)||this;return r.uniforms.dimensions=new Float32Array(2),Object.assign(r,t.defaults,n),r}return t.prototype.apply=function(n,r,i,o){var a=r.filterFrame,s=a.width,u=a.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(n){this.uniforms.radius=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(n){this.uniforms.strength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.center},set:function(n){this.uniforms.center=n},enumerable:!1,configurable:!0}),t.defaults={center:[.5,.5],radius:100,strength:1},t})(Qe);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nw=function(e,t){return Nw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Nw(e,t)};function PSe(e,t){Nw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ISe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,RSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(e){PSe(t,e);function t(n,r,i){r===void 0&&(r=!1),i===void 0&&(i=1);var o=e.call(this,ISe,RSe)||this;return o.mix=1,o._size=0,o._sliceSize=0,o._slicePixelSize=0,o._sliceInnerSize=0,o._nearest=!1,o._scaleMode=null,o._colorMap=null,o._scaleMode=null,o.nearest=r,o.mix=i,o.colorMap=n,o}return t.prototype.apply=function(n,r,i,o){this.uniforms._mix=this.mix,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colorMap",{get:function(){return this._colorMap},set:function(n){var r;n&&(n instanceof We||(n=We.from(n)),!((r=n)===null||r===void 0)&&r.baseTexture&&(n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=br.OFF,this._size=n.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=n),this._colorMap=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nearest",{get:function(){return this._nearest},set:function(n){this._nearest=n,this._scaleMode=n?lr.NEAREST:lr.LINEAR;var r=this._colorMap;r&&r.baseTexture&&(r.baseTexture._glTextures={},r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=br.OFF,r._updateID++,r.baseTexture.emit("update",r.baseTexture))},enumerable:!1,configurable:!0}),t.prototype.updateColorMap=function(){var n=this._colorMap;n&&n.baseTexture&&(n._updateID++,n.baseTexture.emit("update",n.baseTexture),this.colorMap=n)},t.prototype.destroy=function(n){n===void 0&&(n=!1),this._colorMap&&this._colorMap.destroy(n),e.prototype.destroy.call(this)},t})(Qe);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lw=function(e,t){return Lw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Lw(e,t)};function kSe(e,t){Lw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var NSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,LSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(e){kSe(t,e);function t(n,r){n===void 0&&(n=0),r===void 0&&(r=1);var i=e.call(this,NSe,LSe)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=n,i.alpha=r,i}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(n){var r=this.uniforms.color;typeof n=="number"?(In(n,r),this._color=n):(r[0]=n[0],r[1]=n[1],r[2]=n[2],this._color=Jr(r))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(n){this.uniforms.alpha=n,this._alpha=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mw=function(e,t){return Mw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mw(e,t)};function MSe(e,t){Mw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var FSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,DSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(e){MSe(t,e);function t(n,r,i){n===void 0&&(n=16711680),r===void 0&&(r=0),i===void 0&&(i=.4);var o=e.call(this,FSe,DSe)||this;return o._originalColor=16711680,o._newColor=0,o.uniforms.originalColor=new Float32Array(3),o.uniforms.newColor=new Float32Array(3),o.originalColor=n,o.newColor=r,o.epsilon=i,o}return Object.defineProperty(t.prototype,"originalColor",{get:function(){return this._originalColor},set:function(n){var r=this.uniforms.originalColor;typeof n=="number"?(In(n,r),this._originalColor=n):(r[0]=n[0],r[1]=n[1],r[2]=n[2],this._originalColor=Jr(r))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newColor",{get:function(){return this._newColor},set:function(n){var r=this.uniforms.newColor;typeof n=="number"?(In(n,r),this._newColor=n):(r[0]=n[0],r[1]=n[1],r[2]=n[2],this._newColor=Jr(r))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(n){this.uniforms.epsilon=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fw=function(e,t){return Fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Fw(e,t)};function BSe(e,t){Fw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var jSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$Se=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(e){BSe(t,e);function t(n,r,i){r===void 0&&(r=200),i===void 0&&(i=200);var o=e.call(this,jSe,$Se)||this;return o.uniforms.texelSize=new Float32Array(2),o.uniforms.matrix=new Float32Array(9),n!==void 0&&(o.matrix=n),o.width=r,o.height=i,o}return Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(n){var r=this;n.forEach(function(i,o){r.uniforms.matrix[o]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(n){this.uniforms.texelSize[0]=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(n){this.uniforms.texelSize[1]=1/n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dw=function(e,t){return Dw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Dw(e,t)};function USe(e,t){Dw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var GSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,zSe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(e){USe(t,e);function t(){return e.call(this,GSe,zSe)||this}return t})(Qe);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bw=function(e,t){return Bw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Bw(e,t)};function HSe(e,t){Bw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var VSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,WSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(e){HSe(t,e);function t(n){var r=e.call(this,VSe,WSe)||this;return r.time=0,r.seed=0,r.uniforms.dimensions=new Float32Array(2),Object.assign(r,t.defaults,n),r}return t.prototype.apply=function(n,r,i,o){var a=r.filterFrame,s=a.width,u=a.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.seed=this.seed,this.uniforms.time=this.time,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(n){this.uniforms.curvature=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(n){this.uniforms.lineWidth=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(n){this.uniforms.lineContrast=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(n){this.uniforms.verticalLine=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(n){this.uniforms.noise=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(n){this.uniforms.noiseSize=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(n){this.uniforms.vignetting=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(n){this.uniforms.vignettingAlpha=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(n){this.uniforms.vignettingBlur=n},enumerable:!1,configurable:!0}),t.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},t})(Qe);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jw=function(e,t){return jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},jw(e,t)};function XSe(e,t){jw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var sg=function(){return sg=Object.assign||function(t){for(var n=arguments,r,i=1,o=arguments.length;i<o;i++){r=n[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},sg.apply(this,arguments)},qSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,KSe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(e){XSe(t,e);function t(n){var r=e.call(this)||this;r.angle=45,r._distance=5,r._resolution=Pe.FILTER_RESOLUTION;var i=n?sg(sg({},t.defaults),n):t.defaults,o=i.kernels,a=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;r._tintFilter=new Qe(qSe,KSe),r._tintFilter.uniforms.color=new Float32Array(4),r._tintFilter.uniforms.shift=new ft,r._tintFilter.resolution=l,r._blurFilter=o?new ag(o):new ag(a,s),r.pixelSize=u,r.resolution=l;var f=i.shadowOnly,d=i.rotation,p=i.distance,m=i.alpha,v=i.color;return r.shadowOnly=f,r.rotation=d,r.distance=p,r.alpha=m,r.color=v,r._updatePadding(),r}return t.prototype.apply=function(n,r,i,o){var a=n.getFilterTexture();this._tintFilter.apply(n,r,a,1),this._blurFilter.apply(n,a,i,o),this.shadowOnly!==!0&&n.applyFilter(this,r,i,0),n.returnFilterTexture(a)},t.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},t.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n,this._tintFilter&&(this._tintFilter.resolution=n),this._blurFilter&&(this._blurFilter.resolution=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},set:function(n){this._distance=n,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.angle/Bo},set:function(n){this.angle=n*Bo,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(n){this._tintFilter.uniforms.alpha=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return Jr(this._tintFilter.uniforms.color)},set:function(n){In(n,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(n){this._blurFilter.kernels=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(n){this._blurFilter.blur=n,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(n){this._blurFilter.quality=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(n){this._blurFilter.pixelSize=n},enumerable:!1,configurable:!0}),t.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:Pe.FILTER_RESOLUTION},t})(Qe);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $w=function(e,t){return $w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$w(e,t)};function YSe(e,t){$w(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var JSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ZSe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(e){YSe(t,e);function t(n){n===void 0&&(n=5);var r=e.call(this,JSe,ZSe)||this;return r.strength=n,r}return Object.defineProperty(t.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(n){this.uniforms.strength=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uw=function(e,t){return Uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Uw(e,t)};function QSe(e,t){Uw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ewe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,twe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(e){QSe(t,e);function t(n){var r=this,i=Object.assign({},t.defaults,n),o=i.outerStrength,a=i.innerStrength,s=i.color,u=i.knockout,l=i.quality,f=Math.round(i.distance);return r=e.call(this,ewe,twe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/f).toFixed(7)).replace(/__DIST__/gi,f.toFixed(0)+".0"))||this,r.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(r,{color:s,outerStrength:o,innerStrength:a,padding:f,knockout:u}),r}return Object.defineProperty(t.prototype,"color",{get:function(){return Jr(this.uniforms.glowColor)},set:function(n){In(n,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(n){this.uniforms.outerStrength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(n){this.uniforms.innerStrength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(n){this.uniforms.knockout=n},enumerable:!1,configurable:!0}),t.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},t})(Qe);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gw=function(e,t){return Gw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Gw(e,t)};function nwe(e,t){Gw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`,owe=function(e){nwe(t,e);function t(n,r,i){n===void 0&&(n=[0,0]),r===void 0&&(r=5),i===void 0&&(i=0);var o=e.call(this,rwe,iwe)||this;return o.kernelSize=5,o.uniforms.uVelocity=new Float32Array(2),o._velocity=new es(o.velocityChanged,o),o.setVelocity(n),o.kernelSize=r,o.offset=i,o}return t.prototype.apply=function(n,r,i,o){var a=this.velocity,s=a.x,u=a.y;this.uniforms.uKernelSize=s!==0||u!==0?this.kernelSize:0,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"velocity",{get:function(){return this._velocity},set:function(n){this.setVelocity(n)},enumerable:!1,configurable:!0}),t.prototype.setVelocity=function(n){if(Array.isArray(n)){var r=n[0],i=n[1];this._velocity.set(r,i)}else this._velocity.copyFrom(n)},t.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(t.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(n){this.uniforms.uOffset=n},enumerable:!1,configurable:!0}),t}(Qe);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zw=function(e,t){return zw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zw(e,t)};function awe(e,t){zw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var swe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(e){awe(t,e);function t(n,r,i){r===void 0&&(r=.05),i===void 0&&(i=n.length);var o=e.call(this,swe,uwe.replace(/%maxColors%/g,i.toFixed(0)))||this;return o._replacements=[],o._maxColors=0,o.epsilon=r,o._maxColors=i,o.uniforms.originalColors=new Float32Array(i*3),o.uniforms.targetColors=new Float32Array(i*3),o.replacements=n,o}return Object.defineProperty(t.prototype,"replacements",{get:function(){return this._replacements},set:function(n){var r=this.uniforms.originalColors,i=this.uniforms.targetColors,o=n.length;if(o>this._maxColors)throw new Error("Length of replacements ("+o+") exceeds the maximum colors length ("+this._maxColors+")");r[o*3]=-1;for(var a=0;a<o;a++){var s=n[a],u=s[0];typeof u=="number"?u=In(u):s[0]=Jr(u),r[a*3]=u[0],r[a*3+1]=u[1],r[a*3+2]=u[2];var l=s[1];typeof l=="number"?l=In(l):s[1]=Jr(l),i[a*3]=l[0],i[a*3+1]=l[1],i[a*3+2]=l[2]}this._replacements=n},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(t.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(n){this.uniforms.epsilon=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hw=function(e,t){return Hw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Hw(e,t)};function lwe(e,t){Hw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var cwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(e){lwe(t,e);function t(n,r,i){n===void 0&&(n=1),r===void 0&&(r=0),i===void 0&&(i=.1);var o=e.call(this,cwe,fwe.replace(/\$\{angleStep\}/,t.getAngleStep(i)))||this;return o._thickness=1,o.uniforms.thickness=new Float32Array([0,0]),o.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(o,{thickness:n,color:r,quality:i}),o}return t.getAngleStep=function(n){var r=Math.max(n*t.MAX_SAMPLES,t.MIN_SAMPLES);return(Math.PI*2/r).toFixed(7)},t.prototype.apply=function(n,r,i,o){this.uniforms.thickness[0]=this._thickness/r._frame.width,this.uniforms.thickness[1]=this._thickness/r._frame.height,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"color",{get:function(){return Jr(this.uniforms.outlineColor)},set:function(n){In(n,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(n){this._thickness=n,this.padding=n},enumerable:!1,configurable:!0}),t.MIN_SAMPLES=1,t.MAX_SAMPLES=100,t})(Qe);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vw=function(e,t){return Vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vw(e,t)};function hwe(e,t){Vw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var dwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pwe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(e){hwe(t,e);function t(n){n===void 0&&(n=10);var r=e.call(this,dwe,pwe)||this;return r.size=n,r}return Object.defineProperty(t.prototype,"size",{get:function(){return this.uniforms.size},set:function(n){typeof n=="number"&&(n=[n,n]),this.uniforms.size=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ww=function(e,t){return Ww=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ww(e,t)};function mwe(e,t){Ww(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(e){mwe(t,e);function t(n,r,i,o){n===void 0&&(n=0),r===void 0&&(r=[0,0]),i===void 0&&(i=5),o===void 0&&(o=-1);var a=e.call(this,vwe,gwe)||this;return a._angle=0,a.angle=n,a.center=r,a.kernelSize=i,a.radius=o,a}return t.prototype.apply=function(n,r,i,o){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this.uniforms.uRadian=n*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(n){this.uniforms.uCenter=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(n){(n<0||n===1/0)&&(n=-1),this.uniforms.uRadius=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xw=function(e,t){return Xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xw(e,t)};function ywe(e,t){Xw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _we=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,bwe=function(e){ywe(t,e);function t(n,r,i){n===void 0&&(n=[0,0]),i===void 0&&(i=0);var o=e.call(this,_we,xwe)||this;return o.center=n,Object.assign(o,t.defaults,r),o.time=i,o}return t.prototype.apply=function(n,r,i,o){this.uniforms.time=this.time,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.center},set:function(n){this.uniforms.center=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(n){this.uniforms.amplitude=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(n){this.uniforms.wavelength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(n){this.uniforms.brightness=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(n){this.uniforms.speed=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(n){this.uniforms.radius=n},enumerable:!1,configurable:!0}),t.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},t}(Qe);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qw=function(e,t){return qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qw(e,t)};function Swe(e,t){qw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ewe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(e){Swe(t,e);function t(n,r,i){r===void 0&&(r=0),i===void 0&&(i=1);var o=e.call(this,wwe,Ewe)||this;return o._color=0,o.uniforms.dimensions=new Float32Array(2),o.uniforms.ambientColor=new Float32Array([0,0,0,i]),o.texture=n,o.color=r,o}return t.prototype.apply=function(n,r,i,o){var a,s;this.uniforms.dimensions[0]=(a=r.filterFrame)===null||a===void 0?void 0:a.width,this.uniforms.dimensions[1]=(s=r.filterFrame)===null||s===void 0?void 0:s.height,n.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(n){this.uniforms.uLightmap=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(n){var r=this.uniforms.ambientColor;typeof n=="number"?(In(n,r),this._color=n):(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],this._color=Jr(r))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(n){this.uniforms.ambientColor[3]=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kw=function(e,t){return Kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Kw(e,t)};function Ky(e,t){Kw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Twe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Cwe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,X$=function(e){Ky(t,e);function t(n,r,i,o){n===void 0&&(n=100),r===void 0&&(r=600);var a=e.call(this,Twe,Cwe)||this;return a.uniforms.blur=n,a.uniforms.gradientBlur=r,a.uniforms.start=i||new ft(0,window.innerHeight/2),a.uniforms.end=o||new ft(600,window.innerHeight/2),a.uniforms.delta=new ft(30,30),a.uniforms.texSize=new ft(window.innerWidth,window.innerHeight),a.updateDelta(),a}return t.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(t.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(n){this.uniforms.blur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(n){this.uniforms.gradientBlur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.uniforms.start},set:function(n){this.uniforms.start=n,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.uniforms.end},set:function(n){this.uniforms.end=n,this.updateDelta()},enumerable:!1,configurable:!0}),t}(Qe),Owe=function(e){Ky(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.updateDelta=function(){var n=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(n*n+r*r);this.uniforms.delta.x=n/i,this.uniforms.delta.y=r/i},t}(X$),Awe=function(e){Ky(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.updateDelta=function(){var n=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(n*n+r*r);this.uniforms.delta.x=-r/i,this.uniforms.delta.y=n/i},t}(X$);(function(e){Ky(t,e);function t(n,r,i,o){n===void 0&&(n=100),r===void 0&&(r=600);var a=e.call(this)||this;return a.tiltShiftXFilter=new Owe(n,r,i,o),a.tiltShiftYFilter=new Awe(n,r,i,o),a}return t.prototype.apply=function(n,r,i,o){var a=n.getFilterTexture();this.tiltShiftXFilter.apply(n,r,a,1),this.tiltShiftYFilter.apply(n,a,i,o),n.returnFilterTexture(a)},Object.defineProperty(t.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(n){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(n){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(n){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(n){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=n},enumerable:!1,configurable:!0}),t})(Qe);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yw=function(e,t){return Yw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Yw(e,t)};function Pwe(e,t){Yw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Iwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Rwe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(e){Pwe(t,e);function t(n){var r=e.call(this,Iwe,Rwe)||this;return Object.assign(r,t.defaults,n),r}return Object.defineProperty(t.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(n){this.uniforms.offset=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(n){this.uniforms.radius=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(n){this.uniforms.angle=n},enumerable:!1,configurable:!0}),t.defaults={radius:200,angle:4,padding:20,offset:new ft},t})(Qe);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jw=function(e,t){return Jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Jw(e,t)};function kwe(e,t){Jw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Nwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Lwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Mwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(e){kwe(t,e);function t(n){var r=this,i=Object.assign(t.defaults,n),o=i.maxKernelSize,a=Nwe(i,["maxKernelSize"]);return r=e.call(this,Lwe,Mwe.replace("${maxKernelSize}",o.toFixed(1)))||this,Object.assign(r,a),r}return Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(n){this.uniforms.uCenter=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(n){this.uniforms.uStrength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(n){this.uniforms.uInnerRadius=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(n){(n<0||n===1/0)&&(n=-1),this.uniforms.uRadius=n},enumerable:!1,configurable:!0}),t.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},t})(Qe);class Fwe extends Qe{constructor(n){super(null,`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D mask;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(mask, vTextureCoord - transform).a;
    float shadow = texture2D(mask, vTextureCoord + transform).a;

    // color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    // color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));

    // 
    color.rgb = mix(color.rgb, vec3(1.0) - (vec3(1.0) - color.rgb) * (vec3(1.0) - lightColor), clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    // ()
    color.rgb = mix(color.rgb, color.rgb * shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));

    gl_FragColor = vec4(color.rgb, color.a);
}`);ye(this,"_thickness",2);ye(this,"_angle",0);ye(this,"_softness",0);ye(this,"_blurFilter",new owe);this.uniforms.lightColor=new Float32Array(3),this.uniforms.shadowColor=new Float32Array(3),Object.assign(this,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},n),this.padding=1,this._blurFilter.kernelSize=11}apply(n,r,i,o,a){if(this.softness>0){const s=n.getFilterTexture();this._blurFilter.apply(n,r,s,ui.YES),this.uniforms.mask=s,n.applyFilter(this,r,i,o),n.returnFilterTexture(s)}else this.uniforms.mask=r,n.applyFilter(this,r,i,o)}_updateTransform(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)}_updateBlur(){this._blurFilter.velocity.set(Math.cos(this._angle)*this.thickness*this.softness*-1,Math.sin(this._angle)*this.thickness*this.softness*-1)}get rotation(){return this._angle/Bo}set rotation(n){this._angle=n*Bo,this._updateTransform(),this._updateBlur()}get thickness(){return this._thickness}set thickness(n){this._thickness=n,this._updateTransform(),this._updateBlur()}get softness(){return this._softness}set softness(n){this._softness=Math.min(Math.max(n,0),1),this._updateBlur()}get lightColor(){return Jr(this.uniforms.lightColor)}set lightColor(n){In(n,this.uniforms.lightColor)}get lightAlpha(){return this.uniforms.lightAlpha}set lightAlpha(n){this.uniforms.lightAlpha=n}get shadowColor(){return Jr(this.uniforms.shadowColor)}set shadowColor(n){In(n,this.uniforms.shadowColor)}get shadowAlpha(){return this.uniforms.shadowAlpha}set shadowAlpha(n){this.uniforms.shadowAlpha=n}}const Zw=0;class Dwe extends Qe{constructor(t,n){const r=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,r),this.uniforms.center=[t.x,t.y],this.uniforms.radius=n}set center(t){this.uniforms.center=[t.x,t.y]}get center(){return new ft(this.uniforms.center[0],this.uniforms.center[1])}set radius(t){this.uniforms.radius=t}get radius(){return this.uniforms.radius}}class Bwe extends Qe{constructor(n,r=!1,i=1){super(`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    // 
    if (color.a <= 0.001) {
        gl_FragColor = color;
        return;
    }

    //  Un-premultiply alpha
    vec3 unmultiplied_rgb = color.a > 0.001 ? color.rgb / color.a : color.rgb;

    //  RGB 
    unmultiplied_rgb = clamp(unmultiplied_rgb, 0.0, 1.0);

    // RGB3D LUT
    float innerWidth = _size - 1.0;
    float zSlice0 = min(floor(unmultiplied_rgb.b * innerWidth), innerWidth);
    float zSlice1 = min(zSlice0 + 1.0, innerWidth);
    float xOffset = _slicePixelSize * 0.5 + unmultiplied_rgb.r * _sliceInnerSize;
    float s0 = xOffset + (zSlice0 * _sliceSize);
    float s1 = xOffset + (zSlice1 * _sliceSize);
    float yOffset = _sliceSize * 0.5 + unmultiplied_rgb.g * (1.0 - _sliceSize);

    // 
    s0 = clamp(s0, 0.0, 1.0);
    s1 = clamp(s1, 0.0, 1.0);
    yOffset = clamp(yOffset, 0.0, 1.0);

    vec4 slice0Color = texture2D(colorMap, vec2(s0, yOffset));
    vec4 slice1Color = texture2D(colorMap, vec2(s1, yOffset));
    float zOffset = fract(unmultiplied_rgb.b * innerWidth);
    vec4 adjusted = mix(slice0Color, slice1Color, zOffset);

    // LUT
    vec3 mixed_rgb = mix(unmultiplied_rgb, adjusted.rgb, _mix);

    // Re-premultiply alpha
    gl_FragColor = vec4(mixed_rgb * color.a, color.a);
}`);ye(this,"mix",1);ye(this,"_size",0);ye(this,"_sliceSize",0);ye(this,"_slicePixelSize",0);ye(this,"_sliceInnerSize",0);ye(this,"_nearest",!1);ye(this,"_scaleMode",null);ye(this,"_colorMap",null);this._scaleMode=null,this.nearest=r,this.mix=i,this.colorMap=n}apply(n,r,i,o){this.uniforms._mix=this.mix,n.applyFilter(this,r,i,o)}get colorSize(){return this._size}get colorMap(){return this._colorMap}set colorMap(n){n&&(n instanceof We||(n=We.from(n)),n!=null&&n.baseTexture&&(n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=br.OFF,this._size=n.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=n),this._colorMap=n)}get nearest(){return this._nearest}set nearest(n){this._nearest=n,this._scaleMode=n?lr.NEAREST:lr.LINEAR;const r=this._colorMap;r&&r.baseTexture&&(r.baseTexture._glTextures={},r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=br.OFF,r._updateID++,r.baseTexture.emit("update",r.baseTexture))}updateColorMap(){const n=this._colorMap;n&&n.baseTexture&&(n._updateID++,n.baseTexture.emit("update",n.baseTexture),this.colorMap=n)}destroy(n=!1){this._colorMap&&this._colorMap.destroy(n),super.destroy()}}const Tm={blur:{priority:3,create:()=>{const e=new j$.BlurFilter;return e.blur=0,e},isDefault:e=>e.blur===0},oldFilm:{priority:7,create:()=>new j1e},dotFilm:{priority:5,create:()=>new z1e},reflectionFilm:{priority:0,create:()=>new X1e},glitchFilm:{priority:6,create:()=>new J1e},rgbFilm:{priority:4,create:()=>new tSe},godrayFilm:{priority:9,create:()=>new aSe},shockwave:{priority:2,create:()=>{const e=new bwe([1280,720]);return e.time=0,e},isDefault:e=>e.time===0},adjustment:{priority:11,create:()=>new cSe,isDefault:e=>{const t=e;return t.brightness===1&&t.contrast===1&&t.saturation===1&&t.gamma===1&&t.red===1&&t.green===1&&t.blue===1}},radiusAlpha:{priority:1,create:()=>new Dwe(new ft(.5,.5),Zw),isDefault:e=>e.radius===Zw},bevel:{priority:10,create:()=>{const e=new Fwe;return e.lightAlpha=0,e.thickness=0,e.rotation=0,e.softness=0,e.lightColor=16777215,e.shadowAlpha=0,e},isDefault:e=>{const t=e;return t.lightAlpha===0&&t.thickness===0&&t.rotation===0&&t.softness===0&&t.lightColor===16777215&&t.shadowAlpha===0}},bloom:{priority:8,create:()=>{const e=new ySe;return e.bloomScale=0,e.brightness=1,e.blur=0,e.threshold=0,e},isDefault:e=>{const t=e;return t.bloomScale===0&&t.brightness===1&&t.blur===0&&t.threshold===0}},colorMap:{priority:12,create:()=>new Bwe(null,!1),isDefault:e=>!e.colorMap}},UN={blur:{filterName:"blur",filterProperty:"blur",defaultValue:0},brightness:{filterName:"adjustment",filterProperty:"brightness",defaultValue:1},contrast:{filterName:"adjustment",filterProperty:"contrast",defaultValue:1},saturation:{filterName:"adjustment",filterProperty:"saturation",defaultValue:1},gamma:{filterName:"adjustment",filterProperty:"gamma",defaultValue:1},colorRed:{filterName:"adjustment",defaultValue:255,overrideSet:(e,t)=>{t.red=e/255},overrideGet:(e,t)=>e?e.red*255:t},colorGreen:{filterName:"adjustment",defaultValue:255,overrideSet:(e,t)=>{t.green=e/255},overrideGet:(e,t)=>e?e.green*255:t},colorBlue:{filterName:"adjustment",defaultValue:255,overrideSet:(e,t)=>{t.blue=e/255},overrideGet:(e,t)=>e?e.blue*255:t},oldFilm:{filterName:"oldFilm",defaultValue:0,isBoolean:!0},dotFilm:{filterName:"dotFilm",defaultValue:0,isBoolean:!0},reflectionFilm:{filterName:"reflectionFilm",defaultValue:0,isBoolean:!0},glitchFilm:{filterName:"glitchFilm",defaultValue:0,isBoolean:!0},rgbFilm:{filterName:"rgbFilm",defaultValue:0,isBoolean:!0},godrayFilm:{filterName:"godrayFilm",defaultValue:0,isBoolean:!0},shockwaveFilter:{filterName:"shockwave",filterProperty:"time",defaultValue:0},radiusAlphaFilter:{filterName:"radiusAlpha",filterProperty:"radius",defaultValue:Zw},bevel:{filterName:"bevel",filterProperty:"lightAlpha",defaultValue:0},bevelThickness:{filterName:"bevel",filterProperty:"thickness",defaultValue:0},bevelRotation:{filterName:"bevel",filterProperty:"rotation",defaultValue:0},bevelSoftness:{filterName:"bevel",filterProperty:"softness",defaultValue:0},bevelRed:{filterName:"bevel",defaultValue:255,overrideSet:(e,t)=>{const n=t,r=n.lightColor>>8&255,i=n.lightColor&255;n.lightColor=e<<16|r<<8|i},overrideGet:(e,t)=>e?e.lightColor>>16&255:t},bevelGreen:{filterName:"bevel",defaultValue:255,overrideSet:(e,t)=>{const n=t,r=n.lightColor>>16&255,i=n.lightColor&255;n.lightColor=r<<16|e<<8|i},overrideGet:(e,t)=>e?e.lightColor>>8&255:t},bevelBlue:{filterName:"bevel",defaultValue:255,overrideSet:(e,t)=>{const n=t,r=n.lightColor>>16&255,i=n.lightColor>>8&255;n.lightColor=r<<16|i<<8|e},overrideGet:(e,t)=>e?e.lightColor&255:t},bloom:{filterName:"bloom",filterProperty:"bloomScale",defaultValue:0},bloomBrightness:{filterName:"bloom",filterProperty:"brightness",defaultValue:1},bloomBlur:{filterName:"bloom",filterProperty:"blur",defaultValue:0},bloomThreshold:{filterName:"bloom",filterProperty:"threshold",defaultValue:0},colorMapIntensity:{filterName:"colorMap",defaultValue:1,overrideSet:(e,t)=>{t.mix=e},overrideGet:(e,t)=>e?e.mix:t}};class Ji extends ur{constructor(){super();ye(this,"containerFilters",new Map);ye(this,"filterToName",new Map);ye(this,"baseX",0);ye(this,"baseY",0)}removeFilterByName(n){const r=this.containerFilters.get(n);if(!r||!this.filters)return;const i=this.filters.indexOf(r);i!==-1&&this.filters.splice(i,1),this.containerFilters.delete(n),this.filterToName.delete(r)}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(n){super.position&&(super.position.x=n+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(n){super.position&&(super.position.y=n+this.baseY)}setBaseX(n){const r=this.x;this.baseX=n,this.x=r}setBaseY(n){const r=this.y;this.baseY=n,this.y=r}get blur(){return this._getPropertyValue("blur")}set blur(n){this._setPropertyValue("blur",n)}get brightness(){return this._getPropertyValue("brightness")}set brightness(n){this._setPropertyValue("brightness",n)}get contrast(){return this._getPropertyValue("contrast")}set contrast(n){this._setPropertyValue("contrast",n)}get saturation(){return this._getPropertyValue("saturation")}set saturation(n){this._setPropertyValue("saturation",n)}get gamma(){return this._getPropertyValue("gamma")}set gamma(n){this._setPropertyValue("gamma",n)}get colorRed(){return this._getPropertyValue("colorRed")}set colorRed(n){this._setPropertyValue("colorRed",n)}get colorGreen(){return this._getPropertyValue("colorGreen")}set colorGreen(n){this._setPropertyValue("colorGreen",n)}get colorBlue(){return this._getPropertyValue("colorBlue")}set colorBlue(n){this._setPropertyValue("colorBlue",n)}get oldFilm(){return this._getPropertyValue("oldFilm")}set oldFilm(n){this._setPropertyValue("oldFilm",n)}get dotFilm(){return this._getPropertyValue("dotFilm")}set dotFilm(n){this._setPropertyValue("dotFilm",n)}get reflectionFilm(){return this._getPropertyValue("reflectionFilm")}set reflectionFilm(n){this._setPropertyValue("reflectionFilm",n)}get glitchFilm(){return this._getPropertyValue("glitchFilm")}set glitchFilm(n){this._setPropertyValue("glitchFilm",n)}get rgbFilm(){return this._getPropertyValue("rgbFilm")}set rgbFilm(n){this._setPropertyValue("rgbFilm",n)}get godrayFilm(){return this._getPropertyValue("godrayFilm")}set godrayFilm(n){this._setPropertyValue("godrayFilm",n)}get shockwaveFilter(){return this._getPropertyValue("shockwaveFilter")}set shockwaveFilter(n){this._setPropertyValue("shockwaveFilter",n)}get radiusAlphaFilter(){return this._getPropertyValue("radiusAlphaFilter")}set radiusAlphaFilter(n){this._setPropertyValue("radiusAlphaFilter",n)}get bevel(){return this._getPropertyValue("bevel")}set bevel(n){this._setPropertyValue("bevel",n)}get bevelThickness(){return this._getPropertyValue("bevelThickness")}set bevelThickness(n){this._setPropertyValue("bevelThickness",n)}get bevelRotation(){return this._getPropertyValue("bevelRotation")}set bevelRotation(n){this._setPropertyValue("bevelRotation",n)}get bevelSoftness(){return this._getPropertyValue("bevelSoftness")}set bevelSoftness(n){this._setPropertyValue("bevelSoftness",n)}get bevelRed(){return this._getPropertyValue("bevelRed")}set bevelRed(n){this._setPropertyValue("bevelRed",n)}get bevelGreen(){return this._getPropertyValue("bevelGreen")}set bevelGreen(n){this._setPropertyValue("bevelGreen",n)}get bevelBlue(){return this._getPropertyValue("bevelBlue")}set bevelBlue(n){this._setPropertyValue("bevelBlue",n)}get bloom(){return this._getPropertyValue("bloom")}set bloom(n){this._setPropertyValue("bloom",n)}get bloomBrightness(){return this._getPropertyValue("bloomBrightness")}set bloomBrightness(n){this._setPropertyValue("bloomBrightness",n)}get bloomBlur(){return this._getPropertyValue("bloomBlur")}set bloomBlur(n){this._setPropertyValue("bloomBlur",n)}get bloomThreshold(){return this._getPropertyValue("bloomThreshold")}set bloomThreshold(n){this._setPropertyValue("bloomThreshold",n)}setColorMapTexture(n){if(!n){this.removeFilterByName("colorMap");return}const r=this.ensureFilterByName("colorMap");r.colorMap=n}get colorMapIntensity(){return this._getPropertyValue("colorMapIntensity")}set colorMapIntensity(n){this._setPropertyValue("colorMapIntensity",n)}removeIfDefault(n){const r=this.containerFilters.get(n),i=Tm[n];r&&(i!=null&&i.isDefault)&&i.isDefault(r)&&this.removeFilterByName(n)}_getPropertyValue(n){const r=UN[n];if(!r)return console.warn(`WebGALPixiContainer: Unknown property configuration for getter: ${n}`),0;if(r.isBoolean)return this.containerFilters.has(r.filterName)?1:0;const i=this.containerFilters.get(r.filterName);return r.overrideGet?r.overrideGet(i,r.defaultValue,this):i&&r.filterProperty?i[r.filterProperty]:r.defaultValue}_setPropertyValue(n,r){const i=UN[n];if(!i){console.warn(`WebGALPixiContainer: Unknown property configuration for setter: ${n}`);return}if(i.isBoolean){r===0||r===void 0||r===null?this.removeFilterByName(i.filterName):this.containerFilters.has(i.filterName)||this.ensureFilterByName(i.filterName);return}if(r===i.defaultValue&&!this.containerFilters.has(i.filterName))return;const o=this.ensureFilterByName(i.filterName);i.overrideSet?i.overrideSet(r,o,this):i.filterProperty?o[i.filterProperty]=r:console.warn(`WebGALPixiContainer: Property '${n}' has neither overrideSet nor filterProperty defined for value setting.`),this.removeIfDefault(i.filterName)}insertFilterWithPriority(n,r){var o,a;const i=((o=Tm[n])==null?void 0:o.priority)??0;if(!this.filters||this.filters.length===0)this.filters=[r];else{let s=this.filters.length;for(let u=0;u<this.filters.length;u++){const l=this.filters[u],f=this.filterToName.get(l);if(f){const d=((a=Tm[f])==null?void 0:a.priority)??0;if(i>d){s=u;break}}else if(i>0){s=u;break}}this.filters.splice(s,0,r)}this.containerFilters.set(n,r),this.filterToName.set(r,n)}ensureFilterByName(n){let r=this.containerFilters.get(n);if(r)return r;const i=Tm[n];if(!i)throw new Error(`Unknown filter configuration: ${n}`);return r=i.create(),this.insertFilterWithPriority(n,r),r}}const ug={height:1440,width:2560};let jwe=null,q$;async function K$(){return jwe}async function $we(e,t,n="center"){const r=`spine-${t}`,i=new Ji;this.figureObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const s=this.getFigureMetadataByKey(e);s&&s.zIndex&&(i.zIndex=s.zIndex),this.figureContainer.addChild(i);const u=si();this.figureObjects.push({uuid:u,key:e,pixiContainer:i,sourceUrl:t,sourceType:"spine",sourceExt:this.getExtName(t),spineAnimation:"_initial"});const l=await K$(),f=async()=>{setTimeout(()=>{if(console.log("Setting up Spine"+e+t),!l){he.warn(`Spine module not loaded. Skipping Spine figure: ${e}`);return}},0)};this.cacheGC(),q$.add(r,t).load(f)}async function Uwe(e,t){const n=`spine-${t}`,r=new Ji;this.backgroundObjects.findIndex(u=>u.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(r);const a=si();this.backgroundObjects.push({uuid:a,key:e,pixiContainer:r,sourceUrl:t,sourceType:"spine",sourceExt:this.getExtName(t)});const s=async()=>{if(!await K$()){he.warn(`Spine module not loaded. Skipping Spine background: ${e}`);return}setTimeout(()=>{},0)};this.cacheGC(),q$.add(n,t).load(s)}/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var Qw=function(e,t){return Qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Qw(e,t)},eE=function(){return eE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eE.apply(this,arguments)},yu={},Y$={},va={};Object.defineProperty(va,"__esModule",{value:!0}),va.loop=va.conditional=va.parse=void 0;va.parse=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;if(Array.isArray(n))n.forEach(function(a){return e(t,a,r,i)});else if(typeof n=="function")n(t,r,i,e);else{var o=Object.keys(n)[0];Array.isArray(n[o])?(i[o]={},e(t,n[o],r,i[o])):i[o]=n[o](t,r,i,e)}return r};va.conditional=function(e,t){return function(n,r,i,o){t(n,r,i)&&o(n,e,r,i)}};va.loop=function(e,t){return function(n,r,i,o){for(var a=[],s=n.pos;t(n,r,i);){var u={};if(o(n,e,r,u),n.pos===s)break;s=n.pos,a.push(u)}return a}};var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.readBits=En.readArray=En.readUnsigned=En.readString=En.peekBytes=En.readBytes=En.peekByte=En.readByte=En.buildStream=void 0;En.buildStream=function(e){return{data:e,pos:0}};var Gwe=function(){return function(e){return e.data[e.pos++]}};En.readByte=Gwe;En.peekByte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(t){return t.data[t.pos+e]}};var Yy=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};En.readBytes=Yy;En.peekBytes=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}};En.readString=function(e){return function(t){return Array.from(Yy(e)(t)).map(function(n){return String.fromCharCode(n)}).join("")}};En.readUnsigned=function(e){return function(t){var n=Yy(2)(t);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};En.readArray=function(e,t){return function(n,r,i){for(var o=typeof t=="function"?t(n,r,i):t,a=Yy(e),s=new Array(o),u=0;u<o;u++)s[u]=a(n);return s}};En.readBits=function(e){return function(t){for(var n=function(o){return o.data[o.pos++]}(t),r=new Array(8),i=0;i<8;i++)r[7-i]=!!(n&1<<i);return Object.keys(e).reduce(function(o,a){var s=e[a];return s.length?o[a]=function(u,l,f){for(var d=0,p=0;p<f;p++)d+=u[l+p]&&Math.pow(2,f-p-1);return d}(r,s.index,s.length):o[a]=r[s.index],o},{})}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=va,n=En,r={blocks:function(f){for(var d=[],p=f.data.length,m=0,v=(0,n.readByte)()(f);v!==0&&v;v=(0,n.readByte)()(f)){if(f.pos+v>=p){var _=p-f.pos;d.push((0,n.readBytes)(_)(f)),m+=_;break}d.push((0,n.readBytes)(v)(f)),m+=v}for(var y=new Uint8Array(m),x=0,b=0;b<d.length;b++)y.set(d[b],x),x+=d[b].length;return y}},i=(0,t.conditional)({gce:[{codes:(0,n.readBytes)(2)},{byteSize:(0,n.readByte)()},{extras:(0,n.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,n.readUnsigned)(!0)},{transparentColorIndex:(0,n.readByte)()},{terminator:(0,n.readByte)()}]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===249}),o=(0,t.conditional)({image:[{code:(0,n.readByte)()},{descriptor:[{left:(0,n.readUnsigned)(!0)},{top:(0,n.readUnsigned)(!0)},{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{lct:(0,n.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,t.conditional)({lct:(0,n.readArray)(3,function(f,d,p){return Math.pow(2,p.descriptor.lct.size+1)})},function(f,d,p){return p.descriptor.lct.exists}),{data:[{minCodeSize:(0,n.readByte)()},r]}]},function(f){return(0,n.peekByte)()(f)===44}),a=(0,t.conditional)({text:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{preData:function(f,d,p){return(0,n.readBytes)(p.text.blockSize)(f)}},r]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===1}),s=(0,t.conditional)({application:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{id:function(f,d,p){return(0,n.readString)(p.blockSize)(f)}},r]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===255}),u=(0,t.conditional)({comment:[{codes:(0,n.readBytes)(2)},r]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===254}),l=[{header:[{signature:(0,n.readString)(3)},{version:(0,n.readString)(3)}]},{lsd:[{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{gct:(0,n.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,n.readByte)()},{pixelAspectRatio:(0,n.readByte)()}]},(0,t.conditional)({gct:(0,n.readArray)(3,function(f,d){return Math.pow(2,d.lsd.gct.size+1)})},function(f,d){return d.lsd.gct.exists}),{frames:(0,t.loop)([i,s,u,o,a],function(f){var d=(0,n.peekByte)()(f);return d===33||d===44})}];e.default=l}(Y$);var lg={};Object.defineProperty(lg,"__esModule",{value:!0}),lg.deinterlace=void 0;lg.deinterlace=function(e,t){for(var n=new Array(e.length),r=e.length/t,i=function(f,d){var p=e.slice(d*t,(d+1)*t);n.splice.apply(n,[f*t,t].concat(p))},o=[0,4,2,1],a=[8,8,4,2],s=0,u=0;u<4;u++)for(var l=o[u];l<r;l+=a[u])i(l,s),s++;return n};var cg={};Object.defineProperty(cg,"__esModule",{value:!0}),cg.lzw=void 0;cg.lzw=function(e,t,n){var r,i,o,a,s,u,l,f,d,p,m,v,_,y,x,b,w=4096,T=n,C=new Array(n),O=new Array(w),A=new Array(w),M=new Array(4097);for(s=(i=1<<(p=e))+1,r=i+2,l=-1,o=(1<<(a=p+1))-1,f=0;f<i;f++)O[f]=0,A[f]=f;for(m=v=_=y=x=b=0,d=0;d<T;){if(y===0){if(v<a){m+=t[b]<<v,v+=8,b++;continue}if(f=m&o,m>>=a,v-=a,f>r||f==s)break;if(f==i){o=(1<<(a=p+1))-1,r=i+2,l=-1;continue}if(l==-1){M[y++]=A[f],l=f,_=f;continue}for(u=f,f==r&&(M[y++]=_,f=l);f>i;)M[y++]=A[f],f=O[f];_=255&A[f],M[y++]=_,r<w&&(O[r]=l,A[r]=_,!(++r&o)&&r<w&&(a++,o+=r)),l=u}y--,C[x++]=M[y],d++}for(d=x;d<T;d++)C[d]=0;return C},Object.defineProperty(yu,"__esModule",{value:!0});var Cm,J$=yu.decompressFrames=yu.decompressFrame=Z$=yu.parseGIF=void 0,zwe=(Cm=Y$)&&Cm.__esModule?Cm:{default:Cm},Hwe=va,Vwe=En,Wwe=lg,Xwe=cg,Z$=yu.parseGIF=function(e){var t=new Uint8Array(e);return(0,Hwe.parse)((0,Vwe.buildStream)(t),zwe.default)},Q$=function(e,t,n){if(e.image){var r=e.image,i=r.descriptor.width*r.descriptor.height,o=(0,Xwe.lzw)(r.data.minCodeSize,r.data.blocks,i);r.descriptor.lct.interlaced&&(o=(0,Wwe.deinterlace)(o,r.descriptor.width));var a={pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return r.descriptor.lct&&r.descriptor.lct.exists?a.colorTable=r.lct:a.colorTable=t,e.gce&&(a.delay=10*(e.gce.delay||10),a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),n&&(a.patch=function(s){for(var u=s.pixels.length,l=new Uint8ClampedArray(4*u),f=0;f<u;f++){var d=4*f,p=s.pixels[f],m=s.colorTable[p]||[0,0,0];l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=p!==s.transparentIndex?255:0}return l}(a)),a}};yu.decompressFrame=Q$;J$=yu.decompressFrames=function(e,t){return e.frames.filter(function(n){return n.image}).map(function(n){return Q$(n,e.gct,t)})};var qwe=function(e){function t(n,r){var i=this,o=Object.assign({},t.defaultOptions,r),a=o.scaleMode,s=o.width,u=o.height,l=function(p,m){var v={};for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&m.indexOf(_)<0&&(v[_]=p[_]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(_=Object.getOwnPropertySymbols(p);y<_.length;y++)m.indexOf(_[y])<0&&Object.prototype.propertyIsEnumerable.call(p,_[y])&&(v[_[y]]=p[_[y]])}return v}(o,["scaleMode","width","height"]),f=document.createElement("canvas"),d=f.getContext("2d");return f.width=s,f.height=u,(i=e.call(this,We.from(f,{scaleMode:a}))||this).duration=n[n.length-1].end,i._frames=n,i._context=d,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}Qw(n,r),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(t,e),t.fromBuffer=function(n,r){if(!n||n.byteLength===0)throw new Error("Invalid buffer");var i=Z$(n);(function(Q){for(var ee,ne=null,ce=0,Ae=Q.frames;ce<Ae.length;ce++){var pe=Ae[ce];ne=(ee=pe.gce)!==null&&ee!==void 0?ee:ne,"image"in pe&&!("gce"in pe)&&(pe.gce=ne)}})(i);var o=J$(i,!0),a=[],s=document.createElement("canvas"),u=s.getContext("2d"),l=document.createElement("canvas"),f=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var d=0,p=1e3/Object.assign({},t.defaultOptions,r).fps,m=0;m<o.length;m++){var v=o[m],_=v.disposalType,y=_===void 0?2:_,x=v.delay,b=x===void 0?p:x,w=v.patch,T=v.dims,C=T.width,O=T.height,A=T.left,M=T.top;l.width=C,l.height=O,f.clearRect(0,0,C,O);var D=f.createImageData(C,O);D.data.set(w),f.putImageData(D,0,0),u.drawImage(l,A,M);var B=u.getImageData(0,0,s.width,s.height);y!==2&&y!==3||u.clearRect(0,0,s.width,s.height),a.push({start:d,end:d+b,imageData:B}),d+=b}s.width=s.height=0,l.width=l.height=0;var G=i.lsd,U=G.width,H=G.height;return new t(a,eE({width:U,height:H},r))},t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(cn.shared.add(this.update,this,oo.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(t.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),t.prototype.update=function(n){var r,i;if(this._playing){var o=this.animationSpeed*n/Pe.TARGET_FPMS,a=this._currentTime+o,s=a%this.duration,u=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});a>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(u),(r=this.onLoop)===null||r===void 0||r.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(u))}},t.prototype.updateFrame=function(){if(this.dirty){var n=this._frames[this._currentFrame].imageData;this._context.putImageData(n,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},t.prototype._render=function(n){this.updateFrame(),e.prototype._render.call(this,n)},t.prototype._renderCanvas=function(n){this.updateFrame(),e.prototype._renderCanvas.call(this,n)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(n){this.updateFrameIndex(n),this._currentTime=this._frames[n].start},enumerable:!1,configurable:!0}),t.prototype.updateFrameIndex=function(n){var r;if(n<0||n>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(n));this._currentFrame!==n&&(this._currentFrame=n,this.dirty=!0,(r=this.onFrameChange)===null||r===void 0||r.call(this,n))},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.stop(),e.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.prototype.clone=function(){return new t(function(n,r,i){if(i||arguments.length===2)for(var o,a=0,s=r.length;a<s;a++)!o&&a in r||(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return n.concat(o||Array.prototype.slice.call(r))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},t.defaultOptions={scaleMode:lr.LINEAR,fps:cn.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},t}(Pi);const Tl={blinkInterval:24*60*60*1e3,blinkIntervalRandom:1e3,closingDuration:100,closedDuration:50,openingDuration:150},Cl={x:0,y:0,instant:!1};class Kwe{constructor(){ye(this,"isAvailable",!1);ye(this,"Live2DModel");ye(this,"SoundManager");ye(this,"Config");this.initLive2D()}async initLive2D(){try{const{Live2DModel:t,SoundManager:n,config:r}=await zh(()=>import("./index.es-0acd1e99.js"),[],import.meta.url);this.Live2DModel=t,this.SoundManager=n,this.Config=r,this.isAvailable=!0,console.info("live2d lib load success")}catch(t){this.isAvailable=!1,console.info("live2d lib load failed",t)}}}var fg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */fg.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",d=1,p=2,m=4,v=1,_=2,y=1,x=2,b=4,w=8,T=16,C=32,O=64,A=128,M=256,D=512,B=30,G="...",U=800,H=16,Q=1,ee=2,ne=3,ce=1/0,Ae=9007199254740991,pe=17976931348623157e292,fe=0/0,L=4294967295,Z=L-1,re=L>>>1,ae=[["ary",A],["bind",y],["bindKey",x],["curry",w],["curryRight",T],["flip",D],["partial",C],["partialRight",O],["rearg",M]],le="[object Arguments]",de="[object Array]",ge="[object AsyncFunction]",Ie="[object Boolean]",ke="[object Date]",Ze="[object DOMException]",Be="[object Error]",Ue="[object Function]",je="[object GeneratorFunction]",Se="[object Map]",Ge="[object Number]",yt="[object Null]",Je="[object Object]",It="[object Promise]",Cn="[object Proxy]",kn="[object RegExp]",Un="[object Set]",ji="[object String]",mo="[object Symbol]",Rs="[object Undefined]",Ea="[object WeakMap]",Dd="[object WeakSet]",Ta="[object ArrayBuffer]",Wo="[object DataView]",$u="[object Float32Array]",Uu="[object Float64Array]",Gu="[object Int8Array]",zu="[object Int16Array]",Hu="[object Int32Array]",ks="[object Uint8Array]",Xc="[object Uint8ClampedArray]",qc="[object Uint16Array]",Ns="[object Uint32Array]",Bd=/\b__p \+= '';/g,c_=/\b(__p \+=) '' \+/g,vo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jd=/&(?:amp|lt|gt|quot|#39);/g,$d=/[&<>"']/g,Ud=RegExp(jd.source),f_=RegExp($d.source),h_=/<%-([\s\S]+?)%>/g,d_=/<%([\s\S]+?)%>/g,Gd=/<%=([\s\S]+?)%>/g,p_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m_=/^\w*$/,v_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kc=/[\\^$.*+?()[\]{}|]/g,g_=RegExp(Kc.source),Yc=/^\s+/,zd=/\s/,y_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,__=/\{\n\/\* \[wrapped with (.+)\] \*/,x_=/,? & /,b_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,S_=/[()=,{}\[\]\/\s]/,w_=/\\(\\)?/g,E_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hd=/\w*$/,T_=/^[-+]0x[0-9a-f]+$/i,C_=/^0b[01]+$/i,O_=/^\[object .+?Constructor\]$/,A_=/^0o[0-7]+$/i,P_=/^(?:0|[1-9]\d*)$/,I_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vu=/($^)/,Vd=/['\n\r\u2028\u2029\\]/g,go="\\ud800-\\udfff",Wd="\\u0300-\\u036f",Ca="\\ufe20-\\ufe2f",R_="\\u20d0-\\u20ff",Ls=Wd+Ca+R_,Wu="\\u2700-\\u27bf",Xd="a-z\\xdf-\\xf6\\xf8-\\xff",k_="\\xac\\xb1\\xd7\\xf7",Jc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",N_="\\u2000-\\u206f",L_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",k="A-Z\\xc0-\\xd6\\xd8-\\xde",$="\\ufe0e\\ufe0f",F=k_+Jc+N_+L_,X="[']",J="["+go+"]",V="["+F+"]",oe="["+Ls+"]",ve="\\d+",xe="["+Wu+"]",be="["+Xd+"]",Te="[^"+go+F+ve+Wu+Xd+k+"]",De="\\ud83c[\\udffb-\\udfff]",st="(?:"+oe+"|"+De+")",_t="[^"+go+"]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+k+"]",Tr="\\u200d",Oa="(?:"+be+"|"+Te+")",Zc="(?:"+Mt+"|"+Te+")",qd="(?:"+X+"(?:d|ll|m|re|s|t|ve))?",Xu="(?:"+X+"(?:D|LL|M|RE|S|T|VE))?",M_=st+"?",Kd="["+$+"]?",F_="(?:"+Tr+"(?:"+[_t,xt,Zt].join("|")+")"+Kd+M_+")*",Yd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pU="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",RO=Kd+M_+F_,mU="(?:"+[xe,xt,Zt].join("|")+")"+RO,vU="(?:"+[_t+oe+"?",oe,xt,Zt,J].join("|")+")",gU=RegExp(X,"g"),yU=RegExp(oe,"g"),D_=RegExp(De+"(?="+De+")|"+vU+RO,"g"),_U=RegExp([Mt+"?"+be+"+"+qd+"(?="+[V,Mt,"$"].join("|")+")",Zc+"+"+Xu+"(?="+[V,Mt+Oa,"$"].join("|")+")",Mt+"?"+Oa+"+"+qd,Mt+"+"+Xu,pU,Yd,ve,mU].join("|"),"g"),xU=RegExp("["+Tr+go+Ls+$+"]"),bU=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SU=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wU=-1,Wt={};Wt[$u]=Wt[Uu]=Wt[Gu]=Wt[zu]=Wt[Hu]=Wt[ks]=Wt[Xc]=Wt[qc]=Wt[Ns]=!0,Wt[le]=Wt[de]=Wt[Ta]=Wt[Ie]=Wt[Wo]=Wt[ke]=Wt[Be]=Wt[Ue]=Wt[Se]=Wt[Ge]=Wt[Je]=Wt[kn]=Wt[Un]=Wt[ji]=Wt[Ea]=!1;var $t={};$t[le]=$t[de]=$t[Ta]=$t[Wo]=$t[Ie]=$t[ke]=$t[$u]=$t[Uu]=$t[Gu]=$t[zu]=$t[Hu]=$t[Se]=$t[Ge]=$t[Je]=$t[kn]=$t[Un]=$t[ji]=$t[mo]=$t[ks]=$t[Xc]=$t[qc]=$t[Ns]=!0,$t[Be]=$t[Ue]=$t[Ea]=!1;var EU={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},TU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},CU={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},OU={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},AU=parseFloat,PU=parseInt,kO=typeof Yn=="object"&&Yn&&Yn.Object===Object&&Yn,IU=typeof self=="object"&&self&&self.Object===Object&&self,tr=kO||IU||Function("return this")(),B_=t&&!t.nodeType&&t,Ms=B_&&!0&&e&&!e.nodeType&&e,NO=Ms&&Ms.exports===B_,j_=NO&&kO.process,gi=function(){try{var K=Ms&&Ms.require&&Ms.require("util").types;return K||j_&&j_.binding&&j_.binding("util")}catch{}}(),LO=gi&&gi.isArrayBuffer,MO=gi&&gi.isDate,FO=gi&&gi.isMap,DO=gi&&gi.isRegExp,BO=gi&&gi.isSet,jO=gi&&gi.isTypedArray;function ei(K,ie,te){switch(te.length){case 0:return K.call(ie);case 1:return K.call(ie,te[0]);case 2:return K.call(ie,te[0],te[1]);case 3:return K.call(ie,te[0],te[1],te[2])}return K.apply(ie,te)}function RU(K,ie,te,Me){for(var tt=-1,wt=K==null?0:K.length;++tt<wt;){var Nn=K[tt];ie(Me,Nn,te(Nn),K)}return Me}function yi(K,ie){for(var te=-1,Me=K==null?0:K.length;++te<Me&&ie(K[te],te,K)!==!1;);return K}function kU(K,ie){for(var te=K==null?0:K.length;te--&&ie(K[te],te,K)!==!1;);return K}function $O(K,ie){for(var te=-1,Me=K==null?0:K.length;++te<Me;)if(!ie(K[te],te,K))return!1;return!0}function Aa(K,ie){for(var te=-1,Me=K==null?0:K.length,tt=0,wt=[];++te<Me;){var Nn=K[te];ie(Nn,te,K)&&(wt[tt++]=Nn)}return wt}function Jd(K,ie){var te=K==null?0:K.length;return!!te&&qu(K,ie,0)>-1}function $_(K,ie,te){for(var Me=-1,tt=K==null?0:K.length;++Me<tt;)if(te(ie,K[Me]))return!0;return!1}function Qt(K,ie){for(var te=-1,Me=K==null?0:K.length,tt=Array(Me);++te<Me;)tt[te]=ie(K[te],te,K);return tt}function Pa(K,ie){for(var te=-1,Me=ie.length,tt=K.length;++te<Me;)K[tt+te]=ie[te];return K}function U_(K,ie,te,Me){var tt=-1,wt=K==null?0:K.length;for(Me&&wt&&(te=K[++tt]);++tt<wt;)te=ie(te,K[tt],tt,K);return te}function NU(K,ie,te,Me){var tt=K==null?0:K.length;for(Me&&tt&&(te=K[--tt]);tt--;)te=ie(te,K[tt],tt,K);return te}function G_(K,ie){for(var te=-1,Me=K==null?0:K.length;++te<Me;)if(ie(K[te],te,K))return!0;return!1}var LU=z_("length");function MU(K){return K.split("")}function FU(K){return K.match(b_)||[]}function UO(K,ie,te){var Me;return te(K,function(tt,wt,Nn){if(ie(tt,wt,Nn))return Me=wt,!1}),Me}function Zd(K,ie,te,Me){for(var tt=K.length,wt=te+(Me?1:-1);Me?wt--:++wt<tt;)if(ie(K[wt],wt,K))return wt;return-1}function qu(K,ie,te){return ie===ie?qU(K,ie,te):Zd(K,GO,te)}function DU(K,ie,te,Me){for(var tt=te-1,wt=K.length;++tt<wt;)if(Me(K[tt],ie))return tt;return-1}function GO(K){return K!==K}function zO(K,ie){var te=K==null?0:K.length;return te?V_(K,ie)/te:fe}function z_(K){return function(ie){return ie==null?n:ie[K]}}function H_(K){return function(ie){return K==null?n:K[ie]}}function HO(K,ie,te,Me,tt){return tt(K,function(wt,Nn,jt){te=Me?(Me=!1,wt):ie(te,wt,Nn,jt)}),te}function BU(K,ie){var te=K.length;for(K.sort(ie);te--;)K[te]=K[te].value;return K}function V_(K,ie){for(var te,Me=-1,tt=K.length;++Me<tt;){var wt=ie(K[Me]);wt!==n&&(te=te===n?wt:te+wt)}return te}function W_(K,ie){for(var te=-1,Me=Array(K);++te<K;)Me[te]=ie(te);return Me}function jU(K,ie){return Qt(ie,function(te){return[te,K[te]]})}function VO(K){return K&&K.slice(0,KO(K)+1).replace(Yc,"")}function ti(K){return function(ie){return K(ie)}}function X_(K,ie){return Qt(ie,function(te){return K[te]})}function Qc(K,ie){return K.has(ie)}function WO(K,ie){for(var te=-1,Me=K.length;++te<Me&&qu(ie,K[te],0)>-1;);return te}function XO(K,ie){for(var te=K.length;te--&&qu(ie,K[te],0)>-1;);return te}function $U(K,ie){for(var te=K.length,Me=0;te--;)K[te]===ie&&++Me;return Me}var UU=H_(EU),GU=H_(TU);function zU(K){return"\\"+OU[K]}function HU(K,ie){return K==null?n:K[ie]}function Ku(K){return xU.test(K)}function VU(K){return bU.test(K)}function WU(K){for(var ie,te=[];!(ie=K.next()).done;)te.push(ie.value);return te}function q_(K){var ie=-1,te=Array(K.size);return K.forEach(function(Me,tt){te[++ie]=[tt,Me]}),te}function qO(K,ie){return function(te){return K(ie(te))}}function Ia(K,ie){for(var te=-1,Me=K.length,tt=0,wt=[];++te<Me;){var Nn=K[te];(Nn===ie||Nn===f)&&(K[te]=f,wt[tt++]=te)}return wt}function Qd(K){var ie=-1,te=Array(K.size);return K.forEach(function(Me){te[++ie]=Me}),te}function XU(K){var ie=-1,te=Array(K.size);return K.forEach(function(Me){te[++ie]=[Me,Me]}),te}function qU(K,ie,te){for(var Me=te-1,tt=K.length;++Me<tt;)if(K[Me]===ie)return Me;return-1}function KU(K,ie,te){for(var Me=te+1;Me--;)if(K[Me]===ie)return Me;return Me}function Yu(K){return Ku(K)?JU(K):LU(K)}function $i(K){return Ku(K)?ZU(K):MU(K)}function KO(K){for(var ie=K.length;ie--&&zd.test(K.charAt(ie)););return ie}var YU=H_(CU);function JU(K){for(var ie=D_.lastIndex=0;D_.test(K);)++ie;return ie}function ZU(K){return K.match(D_)||[]}function QU(K){return K.match(_U)||[]}var e5=function K(ie){ie=ie==null?tr:Ju.defaults(tr.Object(),ie,Ju.pick(tr,SU));var te=ie.Array,Me=ie.Date,tt=ie.Error,wt=ie.Function,Nn=ie.Math,jt=ie.Object,K_=ie.RegExp,t5=ie.String,_i=ie.TypeError,ep=te.prototype,n5=wt.prototype,Zu=jt.prototype,tp=ie["__core-js_shared__"],np=n5.toString,Rt=Zu.hasOwnProperty,r5=0,YO=function(){var c=/[^.]+$/.exec(tp&&tp.keys&&tp.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),rp=Zu.toString,i5=np.call(jt),o5=tr._,a5=K_("^"+np.call(Rt).replace(Kc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ip=NO?ie.Buffer:n,Ra=ie.Symbol,op=ie.Uint8Array,JO=ip?ip.allocUnsafe:n,ap=qO(jt.getPrototypeOf,jt),ZO=jt.create,QO=Zu.propertyIsEnumerable,sp=ep.splice,eA=Ra?Ra.isConcatSpreadable:n,ef=Ra?Ra.iterator:n,Fs=Ra?Ra.toStringTag:n,up=function(){try{var c=Us(jt,"defineProperty");return c({},"",{}),c}catch{}}(),s5=ie.clearTimeout!==tr.clearTimeout&&ie.clearTimeout,u5=Me&&Me.now!==tr.Date.now&&Me.now,l5=ie.setTimeout!==tr.setTimeout&&ie.setTimeout,lp=Nn.ceil,cp=Nn.floor,Y_=jt.getOwnPropertySymbols,c5=ip?ip.isBuffer:n,tA=ie.isFinite,f5=ep.join,h5=qO(jt.keys,jt),Ln=Nn.max,fr=Nn.min,d5=Me.now,p5=ie.parseInt,nA=Nn.random,m5=ep.reverse,J_=Us(ie,"DataView"),tf=Us(ie,"Map"),Z_=Us(ie,"Promise"),Qu=Us(ie,"Set"),nf=Us(ie,"WeakMap"),rf=Us(jt,"create"),fp=nf&&new nf,el={},v5=Gs(J_),g5=Gs(tf),y5=Gs(Z_),_5=Gs(Qu),x5=Gs(nf),hp=Ra?Ra.prototype:n,of=hp?hp.valueOf:n,rA=hp?hp.toString:n;function R(c){if(pn(c)&&!rt(c)&&!(c instanceof dt)){if(c instanceof xi)return c;if(Rt.call(c,"__wrapped__"))return iP(c)}return new xi(c)}var tl=function(){function c(){}return function(h){if(!an(h))return{};if(ZO)return ZO(h);c.prototype=h;var g=new c;return c.prototype=n,g}}();function dp(){}function xi(c,h){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}R.templateSettings={escape:h_,evaluate:d_,interpolate:Gd,variable:"",imports:{_:R}},R.prototype=dp.prototype,R.prototype.constructor=R,xi.prototype=tl(dp.prototype),xi.prototype.constructor=xi;function dt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function b5(){var c=new dt(this.__wrapped__);return c.__actions__=Fr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Fr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Fr(this.__views__),c}function S5(){if(this.__filtered__){var c=new dt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function w5(){var c=this.__wrapped__.value(),h=this.__dir__,g=rt(c),S=h<0,P=g?c.length:0,N=M8(0,P,this.__views__),j=N.start,z=N.end,Y=z-j,se=S?z:j-1,ue=this.__iteratees__,me=ue.length,Re=0,$e=fr(Y,this.__takeCount__);if(!g||!S&&P==Y&&$e==Y)return OA(c,this.__actions__);var qe=[];e:for(;Y--&&Re<$e;){se+=h;for(var ut=-1,Ke=c[se];++ut<me;){var ht=ue[ut],vt=ht.iteratee,ii=ht.type,Ar=vt(Ke);if(ii==ee)Ke=Ar;else if(!Ar){if(ii==Q)continue e;break e}}qe[Re++]=Ke}return qe}dt.prototype=tl(dp.prototype),dt.prototype.constructor=dt;function Ds(c){var h=-1,g=c==null?0:c.length;for(this.clear();++h<g;){var S=c[h];this.set(S[0],S[1])}}function E5(){this.__data__=rf?rf(null):{},this.size=0}function T5(c){var h=this.has(c)&&delete this.__data__[c];return this.size-=h?1:0,h}function C5(c){var h=this.__data__;if(rf){var g=h[c];return g===u?n:g}return Rt.call(h,c)?h[c]:n}function O5(c){var h=this.__data__;return rf?h[c]!==n:Rt.call(h,c)}function A5(c,h){var g=this.__data__;return this.size+=this.has(c)?0:1,g[c]=rf&&h===n?u:h,this}Ds.prototype.clear=E5,Ds.prototype.delete=T5,Ds.prototype.get=C5,Ds.prototype.has=O5,Ds.prototype.set=A5;function Xo(c){var h=-1,g=c==null?0:c.length;for(this.clear();++h<g;){var S=c[h];this.set(S[0],S[1])}}function P5(){this.__data__=[],this.size=0}function I5(c){var h=this.__data__,g=pp(h,c);if(g<0)return!1;var S=h.length-1;return g==S?h.pop():sp.call(h,g,1),--this.size,!0}function R5(c){var h=this.__data__,g=pp(h,c);return g<0?n:h[g][1]}function k5(c){return pp(this.__data__,c)>-1}function N5(c,h){var g=this.__data__,S=pp(g,c);return S<0?(++this.size,g.push([c,h])):g[S][1]=h,this}Xo.prototype.clear=P5,Xo.prototype.delete=I5,Xo.prototype.get=R5,Xo.prototype.has=k5,Xo.prototype.set=N5;function qo(c){var h=-1,g=c==null?0:c.length;for(this.clear();++h<g;){var S=c[h];this.set(S[0],S[1])}}function L5(){this.size=0,this.__data__={hash:new Ds,map:new(tf||Xo),string:new Ds}}function M5(c){var h=Cp(this,c).delete(c);return this.size-=h?1:0,h}function F5(c){return Cp(this,c).get(c)}function D5(c){return Cp(this,c).has(c)}function B5(c,h){var g=Cp(this,c),S=g.size;return g.set(c,h),this.size+=g.size==S?0:1,this}qo.prototype.clear=L5,qo.prototype.delete=M5,qo.prototype.get=F5,qo.prototype.has=D5,qo.prototype.set=B5;function Bs(c){var h=-1,g=c==null?0:c.length;for(this.__data__=new qo;++h<g;)this.add(c[h])}function j5(c){return this.__data__.set(c,u),this}function $5(c){return this.__data__.has(c)}Bs.prototype.add=Bs.prototype.push=j5,Bs.prototype.has=$5;function Ui(c){var h=this.__data__=new Xo(c);this.size=h.size}function U5(){this.__data__=new Xo,this.size=0}function G5(c){var h=this.__data__,g=h.delete(c);return this.size=h.size,g}function z5(c){return this.__data__.get(c)}function H5(c){return this.__data__.has(c)}function V5(c,h){var g=this.__data__;if(g instanceof Xo){var S=g.__data__;if(!tf||S.length<i-1)return S.push([c,h]),this.size=++g.size,this;g=this.__data__=new qo(S)}return g.set(c,h),this.size=g.size,this}Ui.prototype.clear=U5,Ui.prototype.delete=G5,Ui.prototype.get=z5,Ui.prototype.has=H5,Ui.prototype.set=V5;function iA(c,h){var g=rt(c),S=!g&&zs(c),P=!g&&!S&&Fa(c),N=!g&&!S&&!P&&ol(c),j=g||S||P||N,z=j?W_(c.length,t5):[],Y=z.length;for(var se in c)(h||Rt.call(c,se))&&!(j&&(se=="length"||P&&(se=="offset"||se=="parent")||N&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||Zo(se,Y)))&&z.push(se);return z}function oA(c){var h=c.length;return h?c[l0(0,h-1)]:n}function W5(c,h){return Op(Fr(c),js(h,0,c.length))}function X5(c){return Op(Fr(c))}function Q_(c,h,g){(g!==n&&!Gi(c[h],g)||g===n&&!(h in c))&&Ko(c,h,g)}function af(c,h,g){var S=c[h];(!(Rt.call(c,h)&&Gi(S,g))||g===n&&!(h in c))&&Ko(c,h,g)}function pp(c,h){for(var g=c.length;g--;)if(Gi(c[g][0],h))return g;return-1}function q5(c,h,g,S){return ka(c,function(P,N,j){h(S,P,g(P),j)}),S}function aA(c,h){return c&&_o(h,Gn(h),c)}function K5(c,h){return c&&_o(h,Br(h),c)}function Ko(c,h,g){h=="__proto__"&&up?up(c,h,{configurable:!0,enumerable:!0,value:g,writable:!0}):c[h]=g}function e0(c,h){for(var g=-1,S=h.length,P=te(S),N=c==null;++g<S;)P[g]=N?n:L0(c,h[g]);return P}function js(c,h,g){return c===c&&(g!==n&&(c=c<=g?c:g),h!==n&&(c=c>=h?c:h)),c}function bi(c,h,g,S,P,N){var j,z=h&d,Y=h&p,se=h&m;if(g&&(j=P?g(c,S,P,N):g(c)),j!==n)return j;if(!an(c))return c;var ue=rt(c);if(ue){if(j=D8(c),!z)return Fr(c,j)}else{var me=hr(c),Re=me==Ue||me==je;if(Fa(c))return IA(c,z);if(me==Je||me==le||Re&&!P){if(j=Y||Re?{}:KA(c),!z)return Y?C8(c,K5(j,c)):T8(c,aA(j,c))}else{if(!$t[me])return P?c:{};j=B8(c,me,z)}}N||(N=new Ui);var $e=N.get(c);if($e)return $e;N.set(c,j),EP(c)?c.forEach(function(Ke){j.add(bi(Ke,h,g,Ke,c,N))}):SP(c)&&c.forEach(function(Ke,ht){j.set(ht,bi(Ke,h,g,ht,c,N))});var qe=se?Y?x0:_0:Y?Br:Gn,ut=ue?n:qe(c);return yi(ut||c,function(Ke,ht){ut&&(ht=Ke,Ke=c[ht]),af(j,ht,bi(Ke,h,g,ht,c,N))}),j}function Y5(c){var h=Gn(c);return function(g){return sA(g,c,h)}}function sA(c,h,g){var S=g.length;if(c==null)return!S;for(c=jt(c);S--;){var P=g[S],N=h[P],j=c[P];if(j===n&&!(P in c)||!N(j))return!1}return!0}function uA(c,h,g){if(typeof c!="function")throw new _i(a);return df(function(){c.apply(n,g)},h)}function sf(c,h,g,S){var P=-1,N=Jd,j=!0,z=c.length,Y=[],se=h.length;if(!z)return Y;g&&(h=Qt(h,ti(g))),S?(N=$_,j=!1):h.length>=i&&(N=Qc,j=!1,h=new Bs(h));e:for(;++P<z;){var ue=c[P],me=g==null?ue:g(ue);if(ue=S||ue!==0?ue:0,j&&me===me){for(var Re=se;Re--;)if(h[Re]===me)continue e;Y.push(ue)}else N(h,me,S)||Y.push(ue)}return Y}var ka=MA(yo),lA=MA(n0,!0);function J5(c,h){var g=!0;return ka(c,function(S,P,N){return g=!!h(S,P,N),g}),g}function mp(c,h,g){for(var S=-1,P=c.length;++S<P;){var N=c[S],j=h(N);if(j!=null&&(z===n?j===j&&!ri(j):g(j,z)))var z=j,Y=N}return Y}function Z5(c,h,g,S){var P=c.length;for(g=ot(g),g<0&&(g=-g>P?0:P+g),S=S===n||S>P?P:ot(S),S<0&&(S+=P),S=g>S?0:CP(S);g<S;)c[g++]=h;return c}function cA(c,h){var g=[];return ka(c,function(S,P,N){h(S,P,N)&&g.push(S)}),g}function nr(c,h,g,S,P){var N=-1,j=c.length;for(g||(g=$8),P||(P=[]);++N<j;){var z=c[N];h>0&&g(z)?h>1?nr(z,h-1,g,S,P):Pa(P,z):S||(P[P.length]=z)}return P}var t0=FA(),fA=FA(!0);function yo(c,h){return c&&t0(c,h,Gn)}function n0(c,h){return c&&fA(c,h,Gn)}function vp(c,h){return Aa(h,function(g){return Qo(c[g])})}function $s(c,h){h=La(h,c);for(var g=0,S=h.length;c!=null&&g<S;)c=c[xo(h[g++])];return g&&g==S?c:n}function hA(c,h,g){var S=h(c);return rt(c)?S:Pa(S,g(c))}function Cr(c){return c==null?c===n?Rs:yt:Fs&&Fs in jt(c)?L8(c):X8(c)}function r0(c,h){return c>h}function Q5(c,h){return c!=null&&Rt.call(c,h)}function e8(c,h){return c!=null&&h in jt(c)}function t8(c,h,g){return c>=fr(h,g)&&c<Ln(h,g)}function i0(c,h,g){for(var S=g?$_:Jd,P=c[0].length,N=c.length,j=N,z=te(N),Y=1/0,se=[];j--;){var ue=c[j];j&&h&&(ue=Qt(ue,ti(h))),Y=fr(ue.length,Y),z[j]=!g&&(h||P>=120&&ue.length>=120)?new Bs(j&&ue):n}ue=c[0];var me=-1,Re=z[0];e:for(;++me<P&&se.length<Y;){var $e=ue[me],qe=h?h($e):$e;if($e=g||$e!==0?$e:0,!(Re?Qc(Re,qe):S(se,qe,g))){for(j=N;--j;){var ut=z[j];if(!(ut?Qc(ut,qe):S(c[j],qe,g)))continue e}Re&&Re.push(qe),se.push($e)}}return se}function n8(c,h,g,S){return yo(c,function(P,N,j){h(S,g(P),N,j)}),S}function uf(c,h,g){h=La(h,c),c=QA(c,h);var S=c==null?c:c[xo(wi(h))];return S==null?n:ei(S,c,g)}function dA(c){return pn(c)&&Cr(c)==le}function r8(c){return pn(c)&&Cr(c)==Ta}function i8(c){return pn(c)&&Cr(c)==ke}function lf(c,h,g,S,P){return c===h?!0:c==null||h==null||!pn(c)&&!pn(h)?c!==c&&h!==h:o8(c,h,g,S,lf,P)}function o8(c,h,g,S,P,N){var j=rt(c),z=rt(h),Y=j?de:hr(c),se=z?de:hr(h);Y=Y==le?Je:Y,se=se==le?Je:se;var ue=Y==Je,me=se==Je,Re=Y==se;if(Re&&Fa(c)){if(!Fa(h))return!1;j=!0,ue=!1}if(Re&&!ue)return N||(N=new Ui),j||ol(c)?WA(c,h,g,S,P,N):k8(c,h,Y,g,S,P,N);if(!(g&v)){var $e=ue&&Rt.call(c,"__wrapped__"),qe=me&&Rt.call(h,"__wrapped__");if($e||qe){var ut=$e?c.value():c,Ke=qe?h.value():h;return N||(N=new Ui),P(ut,Ke,g,S,N)}}return Re?(N||(N=new Ui),N8(c,h,g,S,P,N)):!1}function a8(c){return pn(c)&&hr(c)==Se}function o0(c,h,g,S){var P=g.length,N=P,j=!S;if(c==null)return!N;for(c=jt(c);P--;){var z=g[P];if(j&&z[2]?z[1]!==c[z[0]]:!(z[0]in c))return!1}for(;++P<N;){z=g[P];var Y=z[0],se=c[Y],ue=z[1];if(j&&z[2]){if(se===n&&!(Y in c))return!1}else{var me=new Ui;if(S)var Re=S(se,ue,Y,c,h,me);if(!(Re===n?lf(ue,se,v|_,S,me):Re))return!1}}return!0}function pA(c){if(!an(c)||G8(c))return!1;var h=Qo(c)?a5:O_;return h.test(Gs(c))}function s8(c){return pn(c)&&Cr(c)==kn}function u8(c){return pn(c)&&hr(c)==Un}function l8(c){return pn(c)&&Np(c.length)&&!!Wt[Cr(c)]}function mA(c){return typeof c=="function"?c:c==null?jr:typeof c=="object"?rt(c)?yA(c[0],c[1]):gA(c):DP(c)}function a0(c){if(!hf(c))return h5(c);var h=[];for(var g in jt(c))Rt.call(c,g)&&g!="constructor"&&h.push(g);return h}function c8(c){if(!an(c))return W8(c);var h=hf(c),g=[];for(var S in c)S=="constructor"&&(h||!Rt.call(c,S))||g.push(S);return g}function s0(c,h){return c<h}function vA(c,h){var g=-1,S=Dr(c)?te(c.length):[];return ka(c,function(P,N,j){S[++g]=h(P,N,j)}),S}function gA(c){var h=S0(c);return h.length==1&&h[0][2]?JA(h[0][0],h[0][1]):function(g){return g===c||o0(g,c,h)}}function yA(c,h){return E0(c)&&YA(h)?JA(xo(c),h):function(g){var S=L0(g,c);return S===n&&S===h?M0(g,c):lf(h,S,v|_)}}function gp(c,h,g,S,P){c!==h&&t0(h,function(N,j){if(P||(P=new Ui),an(N))f8(c,h,j,g,gp,S,P);else{var z=S?S(C0(c,j),N,j+"",c,h,P):n;z===n&&(z=N),Q_(c,j,z)}},Br)}function f8(c,h,g,S,P,N,j){var z=C0(c,g),Y=C0(h,g),se=j.get(Y);if(se){Q_(c,g,se);return}var ue=N?N(z,Y,g+"",c,h,j):n,me=ue===n;if(me){var Re=rt(Y),$e=!Re&&Fa(Y),qe=!Re&&!$e&&ol(Y);ue=Y,Re||$e||qe?rt(z)?ue=z:_n(z)?ue=Fr(z):$e?(me=!1,ue=IA(Y,!0)):qe?(me=!1,ue=RA(Y,!0)):ue=[]:pf(Y)||zs(Y)?(ue=z,zs(z)?ue=OP(z):(!an(z)||Qo(z))&&(ue=KA(Y))):me=!1}me&&(j.set(Y,ue),P(ue,Y,S,N,j),j.delete(Y)),Q_(c,g,ue)}function _A(c,h){var g=c.length;if(g)return h+=h<0?g:0,Zo(h,g)?c[h]:n}function xA(c,h,g){h.length?h=Qt(h,function(N){return rt(N)?function(j){return $s(j,N.length===1?N[0]:N)}:N}):h=[jr];var S=-1;h=Qt(h,ti(Xe()));var P=vA(c,function(N,j,z){var Y=Qt(h,function(se){return se(N)});return{criteria:Y,index:++S,value:N}});return BU(P,function(N,j){return E8(N,j,g)})}function h8(c,h){return bA(c,h,function(g,S){return M0(c,S)})}function bA(c,h,g){for(var S=-1,P=h.length,N={};++S<P;){var j=h[S],z=$s(c,j);g(z,j)&&cf(N,La(j,c),z)}return N}function d8(c){return function(h){return $s(h,c)}}function u0(c,h,g,S){var P=S?DU:qu,N=-1,j=h.length,z=c;for(c===h&&(h=Fr(h)),g&&(z=Qt(c,ti(g)));++N<j;)for(var Y=0,se=h[N],ue=g?g(se):se;(Y=P(z,ue,Y,S))>-1;)z!==c&&sp.call(z,Y,1),sp.call(c,Y,1);return c}function SA(c,h){for(var g=c?h.length:0,S=g-1;g--;){var P=h[g];if(g==S||P!==N){var N=P;Zo(P)?sp.call(c,P,1):h0(c,P)}}return c}function l0(c,h){return c+cp(nA()*(h-c+1))}function p8(c,h,g,S){for(var P=-1,N=Ln(lp((h-c)/(g||1)),0),j=te(N);N--;)j[S?N:++P]=c,c+=g;return j}function c0(c,h){var g="";if(!c||h<1||h>Ae)return g;do h%2&&(g+=c),h=cp(h/2),h&&(c+=c);while(h);return g}function lt(c,h){return O0(ZA(c,h,jr),c+"")}function m8(c){return oA(al(c))}function v8(c,h){var g=al(c);return Op(g,js(h,0,g.length))}function cf(c,h,g,S){if(!an(c))return c;h=La(h,c);for(var P=-1,N=h.length,j=N-1,z=c;z!=null&&++P<N;){var Y=xo(h[P]),se=g;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return c;if(P!=j){var ue=z[Y];se=S?S(ue,Y,z):n,se===n&&(se=an(ue)?ue:Zo(h[P+1])?[]:{})}af(z,Y,se),z=z[Y]}return c}var wA=fp?function(c,h){return fp.set(c,h),c}:jr,g8=up?function(c,h){return up(c,"toString",{configurable:!0,enumerable:!1,value:D0(h),writable:!0})}:jr;function y8(c){return Op(al(c))}function Si(c,h,g){var S=-1,P=c.length;h<0&&(h=-h>P?0:P+h),g=g>P?P:g,g<0&&(g+=P),P=h>g?0:g-h>>>0,h>>>=0;for(var N=te(P);++S<P;)N[S]=c[S+h];return N}function _8(c,h){var g;return ka(c,function(S,P,N){return g=h(S,P,N),!g}),!!g}function yp(c,h,g){var S=0,P=c==null?S:c.length;if(typeof h=="number"&&h===h&&P<=re){for(;S<P;){var N=S+P>>>1,j=c[N];j!==null&&!ri(j)&&(g?j<=h:j<h)?S=N+1:P=N}return P}return f0(c,h,jr,g)}function f0(c,h,g,S){var P=0,N=c==null?0:c.length;if(N===0)return 0;h=g(h);for(var j=h!==h,z=h===null,Y=ri(h),se=h===n;P<N;){var ue=cp((P+N)/2),me=g(c[ue]),Re=me!==n,$e=me===null,qe=me===me,ut=ri(me);if(j)var Ke=S||qe;else se?Ke=qe&&(S||Re):z?Ke=qe&&Re&&(S||!$e):Y?Ke=qe&&Re&&!$e&&(S||!ut):$e||ut?Ke=!1:Ke=S?me<=h:me<h;Ke?P=ue+1:N=ue}return fr(N,Z)}function EA(c,h){for(var g=-1,S=c.length,P=0,N=[];++g<S;){var j=c[g],z=h?h(j):j;if(!g||!Gi(z,Y)){var Y=z;N[P++]=j===0?0:j}}return N}function TA(c){return typeof c=="number"?c:ri(c)?fe:+c}function ni(c){if(typeof c=="string")return c;if(rt(c))return Qt(c,ni)+"";if(ri(c))return rA?rA.call(c):"";var h=c+"";return h=="0"&&1/c==-ce?"-0":h}function Na(c,h,g){var S=-1,P=Jd,N=c.length,j=!0,z=[],Y=z;if(g)j=!1,P=$_;else if(N>=i){var se=h?null:I8(c);if(se)return Qd(se);j=!1,P=Qc,Y=new Bs}else Y=h?[]:z;e:for(;++S<N;){var ue=c[S],me=h?h(ue):ue;if(ue=g||ue!==0?ue:0,j&&me===me){for(var Re=Y.length;Re--;)if(Y[Re]===me)continue e;h&&Y.push(me),z.push(ue)}else P(Y,me,g)||(Y!==z&&Y.push(me),z.push(ue))}return z}function h0(c,h){return h=La(h,c),c=QA(c,h),c==null||delete c[xo(wi(h))]}function CA(c,h,g,S){return cf(c,h,g($s(c,h)),S)}function _p(c,h,g,S){for(var P=c.length,N=S?P:-1;(S?N--:++N<P)&&h(c[N],N,c););return g?Si(c,S?0:N,S?N+1:P):Si(c,S?N+1:0,S?P:N)}function OA(c,h){var g=c;return g instanceof dt&&(g=g.value()),U_(h,function(S,P){return P.func.apply(P.thisArg,Pa([S],P.args))},g)}function d0(c,h,g){var S=c.length;if(S<2)return S?Na(c[0]):[];for(var P=-1,N=te(S);++P<S;)for(var j=c[P],z=-1;++z<S;)z!=P&&(N[P]=sf(N[P]||j,c[z],h,g));return Na(nr(N,1),h,g)}function AA(c,h,g){for(var S=-1,P=c.length,N=h.length,j={};++S<P;){var z=S<N?h[S]:n;g(j,c[S],z)}return j}function p0(c){return _n(c)?c:[]}function m0(c){return typeof c=="function"?c:jr}function La(c,h){return rt(c)?c:E0(c,h)?[c]:rP(Ct(c))}var x8=lt;function Ma(c,h,g){var S=c.length;return g=g===n?S:g,!h&&g>=S?c:Si(c,h,g)}var PA=s5||function(c){return tr.clearTimeout(c)};function IA(c,h){if(h)return c.slice();var g=c.length,S=JO?JO(g):new c.constructor(g);return c.copy(S),S}function v0(c){var h=new c.constructor(c.byteLength);return new op(h).set(new op(c)),h}function b8(c,h){var g=h?v0(c.buffer):c.buffer;return new c.constructor(g,c.byteOffset,c.byteLength)}function S8(c){var h=new c.constructor(c.source,Hd.exec(c));return h.lastIndex=c.lastIndex,h}function w8(c){return of?jt(of.call(c)):{}}function RA(c,h){var g=h?v0(c.buffer):c.buffer;return new c.constructor(g,c.byteOffset,c.length)}function kA(c,h){if(c!==h){var g=c!==n,S=c===null,P=c===c,N=ri(c),j=h!==n,z=h===null,Y=h===h,se=ri(h);if(!z&&!se&&!N&&c>h||N&&j&&Y&&!z&&!se||S&&j&&Y||!g&&Y||!P)return 1;if(!S&&!N&&!se&&c<h||se&&g&&P&&!S&&!N||z&&g&&P||!j&&P||!Y)return-1}return 0}function E8(c,h,g){for(var S=-1,P=c.criteria,N=h.criteria,j=P.length,z=g.length;++S<j;){var Y=kA(P[S],N[S]);if(Y){if(S>=z)return Y;var se=g[S];return Y*(se=="desc"?-1:1)}}return c.index-h.index}function NA(c,h,g,S){for(var P=-1,N=c.length,j=g.length,z=-1,Y=h.length,se=Ln(N-j,0),ue=te(Y+se),me=!S;++z<Y;)ue[z]=h[z];for(;++P<j;)(me||P<N)&&(ue[g[P]]=c[P]);for(;se--;)ue[z++]=c[P++];return ue}function LA(c,h,g,S){for(var P=-1,N=c.length,j=-1,z=g.length,Y=-1,se=h.length,ue=Ln(N-z,0),me=te(ue+se),Re=!S;++P<ue;)me[P]=c[P];for(var $e=P;++Y<se;)me[$e+Y]=h[Y];for(;++j<z;)(Re||P<N)&&(me[$e+g[j]]=c[P++]);return me}function Fr(c,h){var g=-1,S=c.length;for(h||(h=te(S));++g<S;)h[g]=c[g];return h}function _o(c,h,g,S){var P=!g;g||(g={});for(var N=-1,j=h.length;++N<j;){var z=h[N],Y=S?S(g[z],c[z],z,g,c):n;Y===n&&(Y=c[z]),P?Ko(g,z,Y):af(g,z,Y)}return g}function T8(c,h){return _o(c,w0(c),h)}function C8(c,h){return _o(c,XA(c),h)}function xp(c,h){return function(g,S){var P=rt(g)?RU:q5,N=h?h():{};return P(g,c,Xe(S,2),N)}}function nl(c){return lt(function(h,g){var S=-1,P=g.length,N=P>1?g[P-1]:n,j=P>2?g[2]:n;for(N=c.length>3&&typeof N=="function"?(P--,N):n,j&&Or(g[0],g[1],j)&&(N=P<3?n:N,P=1),h=jt(h);++S<P;){var z=g[S];z&&c(h,z,S,N)}return h})}function MA(c,h){return function(g,S){if(g==null)return g;if(!Dr(g))return c(g,S);for(var P=g.length,N=h?P:-1,j=jt(g);(h?N--:++N<P)&&S(j[N],N,j)!==!1;);return g}}function FA(c){return function(h,g,S){for(var P=-1,N=jt(h),j=S(h),z=j.length;z--;){var Y=j[c?z:++P];if(g(N[Y],Y,N)===!1)break}return h}}function O8(c,h,g){var S=h&y,P=ff(c);function N(){var j=this&&this!==tr&&this instanceof N?P:c;return j.apply(S?g:this,arguments)}return N}function DA(c){return function(h){h=Ct(h);var g=Ku(h)?$i(h):n,S=g?g[0]:h.charAt(0),P=g?Ma(g,1).join(""):h.slice(1);return S[c]()+P}}function rl(c){return function(h){return U_(MP(LP(h).replace(gU,"")),c,"")}}function ff(c){return function(){var h=arguments;switch(h.length){case 0:return new c;case 1:return new c(h[0]);case 2:return new c(h[0],h[1]);case 3:return new c(h[0],h[1],h[2]);case 4:return new c(h[0],h[1],h[2],h[3]);case 5:return new c(h[0],h[1],h[2],h[3],h[4]);case 6:return new c(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new c(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var g=tl(c.prototype),S=c.apply(g,h);return an(S)?S:g}}function A8(c,h,g){var S=ff(c);function P(){for(var N=arguments.length,j=te(N),z=N,Y=il(P);z--;)j[z]=arguments[z];var se=N<3&&j[0]!==Y&&j[N-1]!==Y?[]:Ia(j,Y);if(N-=se.length,N<g)return GA(c,h,bp,P.placeholder,n,j,se,n,n,g-N);var ue=this&&this!==tr&&this instanceof P?S:c;return ei(ue,this,j)}return P}function BA(c){return function(h,g,S){var P=jt(h);if(!Dr(h)){var N=Xe(g,3);h=Gn(h),g=function(z){return N(P[z],z,P)}}var j=c(h,g,S);return j>-1?P[N?h[j]:j]:n}}function jA(c){return Jo(function(h){var g=h.length,S=g,P=xi.prototype.thru;for(c&&h.reverse();S--;){var N=h[S];if(typeof N!="function")throw new _i(a);if(P&&!j&&Tp(N)=="wrapper")var j=new xi([],!0)}for(S=j?S:g;++S<g;){N=h[S];var z=Tp(N),Y=z=="wrapper"?b0(N):n;Y&&T0(Y[0])&&Y[1]==(A|w|C|M)&&!Y[4].length&&Y[9]==1?j=j[Tp(Y[0])].apply(j,Y[3]):j=N.length==1&&T0(N)?j[z]():j.thru(N)}return function(){var se=arguments,ue=se[0];if(j&&se.length==1&&rt(ue))return j.plant(ue).value();for(var me=0,Re=g?h[me].apply(this,se):ue;++me<g;)Re=h[me].call(this,Re);return Re}})}function bp(c,h,g,S,P,N,j,z,Y,se){var ue=h&A,me=h&y,Re=h&x,$e=h&(w|T),qe=h&D,ut=Re?n:ff(c);function Ke(){for(var ht=arguments.length,vt=te(ht),ii=ht;ii--;)vt[ii]=arguments[ii];if($e)var Ar=il(Ke),oi=$U(vt,Ar);if(S&&(vt=NA(vt,S,P,$e)),N&&(vt=LA(vt,N,j,$e)),ht-=oi,$e&&ht<se){var xn=Ia(vt,Ar);return GA(c,h,bp,Ke.placeholder,g,vt,xn,z,Y,se-ht)}var zi=me?g:this,ta=Re?zi[c]:c;return ht=vt.length,z?vt=q8(vt,z):qe&&ht>1&&vt.reverse(),ue&&Y<ht&&(vt.length=Y),this&&this!==tr&&this instanceof Ke&&(ta=ut||ff(ta)),ta.apply(zi,vt)}return Ke}function $A(c,h){return function(g,S){return n8(g,c,h(S),{})}}function Sp(c,h){return function(g,S){var P;if(g===n&&S===n)return h;if(g!==n&&(P=g),S!==n){if(P===n)return S;typeof g=="string"||typeof S=="string"?(g=ni(g),S=ni(S)):(g=TA(g),S=TA(S)),P=c(g,S)}return P}}function g0(c){return Jo(function(h){return h=Qt(h,ti(Xe())),lt(function(g){var S=this;return c(h,function(P){return ei(P,S,g)})})})}function wp(c,h){h=h===n?" ":ni(h);var g=h.length;if(g<2)return g?c0(h,c):h;var S=c0(h,lp(c/Yu(h)));return Ku(h)?Ma($i(S),0,c).join(""):S.slice(0,c)}function P8(c,h,g,S){var P=h&y,N=ff(c);function j(){for(var z=-1,Y=arguments.length,se=-1,ue=S.length,me=te(ue+Y),Re=this&&this!==tr&&this instanceof j?N:c;++se<ue;)me[se]=S[se];for(;Y--;)me[se++]=arguments[++z];return ei(Re,P?g:this,me)}return j}function UA(c){return function(h,g,S){return S&&typeof S!="number"&&Or(h,g,S)&&(g=S=n),h=ea(h),g===n?(g=h,h=0):g=ea(g),S=S===n?h<g?1:-1:ea(S),p8(h,g,S,c)}}function Ep(c){return function(h,g){return typeof h=="string"&&typeof g=="string"||(h=Ei(h),g=Ei(g)),c(h,g)}}function GA(c,h,g,S,P,N,j,z,Y,se){var ue=h&w,me=ue?j:n,Re=ue?n:j,$e=ue?N:n,qe=ue?n:N;h|=ue?C:O,h&=~(ue?O:C),h&b||(h&=~(y|x));var ut=[c,h,P,$e,me,qe,Re,z,Y,se],Ke=g.apply(n,ut);return T0(c)&&eP(Ke,ut),Ke.placeholder=S,tP(Ke,c,h)}function y0(c){var h=Nn[c];return function(g,S){if(g=Ei(g),S=S==null?0:fr(ot(S),292),S&&tA(g)){var P=(Ct(g)+"e").split("e"),N=h(P[0]+"e"+(+P[1]+S));return P=(Ct(N)+"e").split("e"),+(P[0]+"e"+(+P[1]-S))}return h(g)}}var I8=Qu&&1/Qd(new Qu([,-0]))[1]==ce?function(c){return new Qu(c)}:$0;function zA(c){return function(h){var g=hr(h);return g==Se?q_(h):g==Un?XU(h):jU(h,c(h))}}function Yo(c,h,g,S,P,N,j,z){var Y=h&x;if(!Y&&typeof c!="function")throw new _i(a);var se=S?S.length:0;if(se||(h&=~(C|O),S=P=n),j=j===n?j:Ln(ot(j),0),z=z===n?z:ot(z),se-=P?P.length:0,h&O){var ue=S,me=P;S=P=n}var Re=Y?n:b0(c),$e=[c,h,g,S,P,ue,me,N,j,z];if(Re&&V8($e,Re),c=$e[0],h=$e[1],g=$e[2],S=$e[3],P=$e[4],z=$e[9]=$e[9]===n?Y?0:c.length:Ln($e[9]-se,0),!z&&h&(w|T)&&(h&=~(w|T)),!h||h==y)var qe=O8(c,h,g);else h==w||h==T?qe=A8(c,h,z):(h==C||h==(y|C))&&!P.length?qe=P8(c,h,g,S):qe=bp.apply(n,$e);var ut=Re?wA:eP;return tP(ut(qe,$e),c,h)}function HA(c,h,g,S){return c===n||Gi(c,Zu[g])&&!Rt.call(S,g)?h:c}function VA(c,h,g,S,P,N){return an(c)&&an(h)&&(N.set(h,c),gp(c,h,n,VA,N),N.delete(h)),c}function R8(c){return pf(c)?n:c}function WA(c,h,g,S,P,N){var j=g&v,z=c.length,Y=h.length;if(z!=Y&&!(j&&Y>z))return!1;var se=N.get(c),ue=N.get(h);if(se&&ue)return se==h&&ue==c;var me=-1,Re=!0,$e=g&_?new Bs:n;for(N.set(c,h),N.set(h,c);++me<z;){var qe=c[me],ut=h[me];if(S)var Ke=j?S(ut,qe,me,h,c,N):S(qe,ut,me,c,h,N);if(Ke!==n){if(Ke)continue;Re=!1;break}if($e){if(!G_(h,function(ht,vt){if(!Qc($e,vt)&&(qe===ht||P(qe,ht,g,S,N)))return $e.push(vt)})){Re=!1;break}}else if(!(qe===ut||P(qe,ut,g,S,N))){Re=!1;break}}return N.delete(c),N.delete(h),Re}function k8(c,h,g,S,P,N,j){switch(g){case Wo:if(c.byteLength!=h.byteLength||c.byteOffset!=h.byteOffset)return!1;c=c.buffer,h=h.buffer;case Ta:return!(c.byteLength!=h.byteLength||!N(new op(c),new op(h)));case Ie:case ke:case Ge:return Gi(+c,+h);case Be:return c.name==h.name&&c.message==h.message;case kn:case ji:return c==h+"";case Se:var z=q_;case Un:var Y=S&v;if(z||(z=Qd),c.size!=h.size&&!Y)return!1;var se=j.get(c);if(se)return se==h;S|=_,j.set(c,h);var ue=WA(z(c),z(h),S,P,N,j);return j.delete(c),ue;case mo:if(of)return of.call(c)==of.call(h)}return!1}function N8(c,h,g,S,P,N){var j=g&v,z=_0(c),Y=z.length,se=_0(h),ue=se.length;if(Y!=ue&&!j)return!1;for(var me=Y;me--;){var Re=z[me];if(!(j?Re in h:Rt.call(h,Re)))return!1}var $e=N.get(c),qe=N.get(h);if($e&&qe)return $e==h&&qe==c;var ut=!0;N.set(c,h),N.set(h,c);for(var Ke=j;++me<Y;){Re=z[me];var ht=c[Re],vt=h[Re];if(S)var ii=j?S(vt,ht,Re,h,c,N):S(ht,vt,Re,c,h,N);if(!(ii===n?ht===vt||P(ht,vt,g,S,N):ii)){ut=!1;break}Ke||(Ke=Re=="constructor")}if(ut&&!Ke){var Ar=c.constructor,oi=h.constructor;Ar!=oi&&"constructor"in c&&"constructor"in h&&!(typeof Ar=="function"&&Ar instanceof Ar&&typeof oi=="function"&&oi instanceof oi)&&(ut=!1)}return N.delete(c),N.delete(h),ut}function Jo(c){return O0(ZA(c,n,sP),c+"")}function _0(c){return hA(c,Gn,w0)}function x0(c){return hA(c,Br,XA)}var b0=fp?function(c){return fp.get(c)}:$0;function Tp(c){for(var h=c.name+"",g=el[h],S=Rt.call(el,h)?g.length:0;S--;){var P=g[S],N=P.func;if(N==null||N==c)return P.name}return h}function il(c){var h=Rt.call(R,"placeholder")?R:c;return h.placeholder}function Xe(){var c=R.iteratee||B0;return c=c===B0?mA:c,arguments.length?c(arguments[0],arguments[1]):c}function Cp(c,h){var g=c.__data__;return U8(h)?g[typeof h=="string"?"string":"hash"]:g.map}function S0(c){for(var h=Gn(c),g=h.length;g--;){var S=h[g],P=c[S];h[g]=[S,P,YA(P)]}return h}function Us(c,h){var g=HU(c,h);return pA(g)?g:n}function L8(c){var h=Rt.call(c,Fs),g=c[Fs];try{c[Fs]=n;var S=!0}catch{}var P=rp.call(c);return S&&(h?c[Fs]=g:delete c[Fs]),P}var w0=Y_?function(c){return c==null?[]:(c=jt(c),Aa(Y_(c),function(h){return QO.call(c,h)}))}:U0,XA=Y_?function(c){for(var h=[];c;)Pa(h,w0(c)),c=ap(c);return h}:U0,hr=Cr;(J_&&hr(new J_(new ArrayBuffer(1)))!=Wo||tf&&hr(new tf)!=Se||Z_&&hr(Z_.resolve())!=It||Qu&&hr(new Qu)!=Un||nf&&hr(new nf)!=Ea)&&(hr=function(c){var h=Cr(c),g=h==Je?c.constructor:n,S=g?Gs(g):"";if(S)switch(S){case v5:return Wo;case g5:return Se;case y5:return It;case _5:return Un;case x5:return Ea}return h});function M8(c,h,g){for(var S=-1,P=g.length;++S<P;){var N=g[S],j=N.size;switch(N.type){case"drop":c+=j;break;case"dropRight":h-=j;break;case"take":h=fr(h,c+j);break;case"takeRight":c=Ln(c,h-j);break}}return{start:c,end:h}}function F8(c){var h=c.match(__);return h?h[1].split(x_):[]}function qA(c,h,g){h=La(h,c);for(var S=-1,P=h.length,N=!1;++S<P;){var j=xo(h[S]);if(!(N=c!=null&&g(c,j)))break;c=c[j]}return N||++S!=P?N:(P=c==null?0:c.length,!!P&&Np(P)&&Zo(j,P)&&(rt(c)||zs(c)))}function D8(c){var h=c.length,g=new c.constructor(h);return h&&typeof c[0]=="string"&&Rt.call(c,"index")&&(g.index=c.index,g.input=c.input),g}function KA(c){return typeof c.constructor=="function"&&!hf(c)?tl(ap(c)):{}}function B8(c,h,g){var S=c.constructor;switch(h){case Ta:return v0(c);case Ie:case ke:return new S(+c);case Wo:return b8(c,g);case $u:case Uu:case Gu:case zu:case Hu:case ks:case Xc:case qc:case Ns:return RA(c,g);case Se:return new S;case Ge:case ji:return new S(c);case kn:return S8(c);case Un:return new S;case mo:return w8(c)}}function j8(c,h){var g=h.length;if(!g)return c;var S=g-1;return h[S]=(g>1?"& ":"")+h[S],h=h.join(g>2?", ":" "),c.replace(y_,`{
/* [wrapped with `+h+`] */
`)}function $8(c){return rt(c)||zs(c)||!!(eA&&c&&c[eA])}function Zo(c,h){var g=typeof c;return h=h??Ae,!!h&&(g=="number"||g!="symbol"&&P_.test(c))&&c>-1&&c%1==0&&c<h}function Or(c,h,g){if(!an(g))return!1;var S=typeof h;return(S=="number"?Dr(g)&&Zo(h,g.length):S=="string"&&h in g)?Gi(g[h],c):!1}function E0(c,h){if(rt(c))return!1;var g=typeof c;return g=="number"||g=="symbol"||g=="boolean"||c==null||ri(c)?!0:m_.test(c)||!p_.test(c)||h!=null&&c in jt(h)}function U8(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}function T0(c){var h=Tp(c),g=R[h];if(typeof g!="function"||!(h in dt.prototype))return!1;if(c===g)return!0;var S=b0(g);return!!S&&c===S[0]}function G8(c){return!!YO&&YO in c}var z8=tp?Qo:G0;function hf(c){var h=c&&c.constructor,g=typeof h=="function"&&h.prototype||Zu;return c===g}function YA(c){return c===c&&!an(c)}function JA(c,h){return function(g){return g==null?!1:g[c]===h&&(h!==n||c in jt(g))}}function H8(c){var h=Rp(c,function(S){return g.size===l&&g.clear(),S}),g=h.cache;return h}function V8(c,h){var g=c[1],S=h[1],P=g|S,N=P<(y|x|A),j=S==A&&g==w||S==A&&g==M&&c[7].length<=h[8]||S==(A|M)&&h[7].length<=h[8]&&g==w;if(!(N||j))return c;S&y&&(c[2]=h[2],P|=g&y?0:b);var z=h[3];if(z){var Y=c[3];c[3]=Y?NA(Y,z,h[4]):z,c[4]=Y?Ia(c[3],f):h[4]}return z=h[5],z&&(Y=c[5],c[5]=Y?LA(Y,z,h[6]):z,c[6]=Y?Ia(c[5],f):h[6]),z=h[7],z&&(c[7]=z),S&A&&(c[8]=c[8]==null?h[8]:fr(c[8],h[8])),c[9]==null&&(c[9]=h[9]),c[0]=h[0],c[1]=P,c}function W8(c){var h=[];if(c!=null)for(var g in jt(c))h.push(g);return h}function X8(c){return rp.call(c)}function ZA(c,h,g){return h=Ln(h===n?c.length-1:h,0),function(){for(var S=arguments,P=-1,N=Ln(S.length-h,0),j=te(N);++P<N;)j[P]=S[h+P];P=-1;for(var z=te(h+1);++P<h;)z[P]=S[P];return z[h]=g(j),ei(c,this,z)}}function QA(c,h){return h.length<2?c:$s(c,Si(h,0,-1))}function q8(c,h){for(var g=c.length,S=fr(h.length,g),P=Fr(c);S--;){var N=h[S];c[S]=Zo(N,g)?P[N]:n}return c}function C0(c,h){if(!(h==="constructor"&&typeof c[h]=="function")&&h!="__proto__")return c[h]}var eP=nP(wA),df=l5||function(c,h){return tr.setTimeout(c,h)},O0=nP(g8);function tP(c,h,g){var S=h+"";return O0(c,j8(S,K8(F8(S),g)))}function nP(c){var h=0,g=0;return function(){var S=d5(),P=H-(S-g);if(g=S,P>0){if(++h>=U)return arguments[0]}else h=0;return c.apply(n,arguments)}}function Op(c,h){var g=-1,S=c.length,P=S-1;for(h=h===n?S:h;++g<h;){var N=l0(g,P),j=c[N];c[N]=c[g],c[g]=j}return c.length=h,c}var rP=H8(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(v_,function(g,S,P,N){h.push(P?N.replace(w_,"$1"):S||g)}),h});function xo(c){if(typeof c=="string"||ri(c))return c;var h=c+"";return h=="0"&&1/c==-ce?"-0":h}function Gs(c){if(c!=null){try{return np.call(c)}catch{}try{return c+""}catch{}}return""}function K8(c,h){return yi(ae,function(g){var S="_."+g[0];h&g[1]&&!Jd(c,S)&&c.push(S)}),c.sort()}function iP(c){if(c instanceof dt)return c.clone();var h=new xi(c.__wrapped__,c.__chain__);return h.__actions__=Fr(c.__actions__),h.__index__=c.__index__,h.__values__=c.__values__,h}function Y8(c,h,g){(g?Or(c,h,g):h===n)?h=1:h=Ln(ot(h),0);var S=c==null?0:c.length;if(!S||h<1)return[];for(var P=0,N=0,j=te(lp(S/h));P<S;)j[N++]=Si(c,P,P+=h);return j}function J8(c){for(var h=-1,g=c==null?0:c.length,S=0,P=[];++h<g;){var N=c[h];N&&(P[S++]=N)}return P}function Z8(){var c=arguments.length;if(!c)return[];for(var h=te(c-1),g=arguments[0],S=c;S--;)h[S-1]=arguments[S];return Pa(rt(g)?Fr(g):[g],nr(h,1))}var Q8=lt(function(c,h){return _n(c)?sf(c,nr(h,1,_n,!0)):[]}),e6=lt(function(c,h){var g=wi(h);return _n(g)&&(g=n),_n(c)?sf(c,nr(h,1,_n,!0),Xe(g,2)):[]}),t6=lt(function(c,h){var g=wi(h);return _n(g)&&(g=n),_n(c)?sf(c,nr(h,1,_n,!0),n,g):[]});function n6(c,h,g){var S=c==null?0:c.length;return S?(h=g||h===n?1:ot(h),Si(c,h<0?0:h,S)):[]}function r6(c,h,g){var S=c==null?0:c.length;return S?(h=g||h===n?1:ot(h),h=S-h,Si(c,0,h<0?0:h)):[]}function i6(c,h){return c&&c.length?_p(c,Xe(h,3),!0,!0):[]}function o6(c,h){return c&&c.length?_p(c,Xe(h,3),!0):[]}function a6(c,h,g,S){var P=c==null?0:c.length;return P?(g&&typeof g!="number"&&Or(c,h,g)&&(g=0,S=P),Z5(c,h,g,S)):[]}function oP(c,h,g){var S=c==null?0:c.length;if(!S)return-1;var P=g==null?0:ot(g);return P<0&&(P=Ln(S+P,0)),Zd(c,Xe(h,3),P)}function aP(c,h,g){var S=c==null?0:c.length;if(!S)return-1;var P=S-1;return g!==n&&(P=ot(g),P=g<0?Ln(S+P,0):fr(P,S-1)),Zd(c,Xe(h,3),P,!0)}function sP(c){var h=c==null?0:c.length;return h?nr(c,1):[]}function s6(c){var h=c==null?0:c.length;return h?nr(c,ce):[]}function u6(c,h){var g=c==null?0:c.length;return g?(h=h===n?1:ot(h),nr(c,h)):[]}function l6(c){for(var h=-1,g=c==null?0:c.length,S={};++h<g;){var P=c[h];S[P[0]]=P[1]}return S}function uP(c){return c&&c.length?c[0]:n}function c6(c,h,g){var S=c==null?0:c.length;if(!S)return-1;var P=g==null?0:ot(g);return P<0&&(P=Ln(S+P,0)),qu(c,h,P)}function f6(c){var h=c==null?0:c.length;return h?Si(c,0,-1):[]}var h6=lt(function(c){var h=Qt(c,p0);return h.length&&h[0]===c[0]?i0(h):[]}),d6=lt(function(c){var h=wi(c),g=Qt(c,p0);return h===wi(g)?h=n:g.pop(),g.length&&g[0]===c[0]?i0(g,Xe(h,2)):[]}),p6=lt(function(c){var h=wi(c),g=Qt(c,p0);return h=typeof h=="function"?h:n,h&&g.pop(),g.length&&g[0]===c[0]?i0(g,n,h):[]});function m6(c,h){return c==null?"":f5.call(c,h)}function wi(c){var h=c==null?0:c.length;return h?c[h-1]:n}function v6(c,h,g){var S=c==null?0:c.length;if(!S)return-1;var P=S;return g!==n&&(P=ot(g),P=P<0?Ln(S+P,0):fr(P,S-1)),h===h?KU(c,h,P):Zd(c,GO,P,!0)}function g6(c,h){return c&&c.length?_A(c,ot(h)):n}var y6=lt(lP);function lP(c,h){return c&&c.length&&h&&h.length?u0(c,h):c}function _6(c,h,g){return c&&c.length&&h&&h.length?u0(c,h,Xe(g,2)):c}function x6(c,h,g){return c&&c.length&&h&&h.length?u0(c,h,n,g):c}var b6=Jo(function(c,h){var g=c==null?0:c.length,S=e0(c,h);return SA(c,Qt(h,function(P){return Zo(P,g)?+P:P}).sort(kA)),S});function S6(c,h){var g=[];if(!(c&&c.length))return g;var S=-1,P=[],N=c.length;for(h=Xe(h,3);++S<N;){var j=c[S];h(j,S,c)&&(g.push(j),P.push(S))}return SA(c,P),g}function A0(c){return c==null?c:m5.call(c)}function w6(c,h,g){var S=c==null?0:c.length;return S?(g&&typeof g!="number"&&Or(c,h,g)?(h=0,g=S):(h=h==null?0:ot(h),g=g===n?S:ot(g)),Si(c,h,g)):[]}function E6(c,h){return yp(c,h)}function T6(c,h,g){return f0(c,h,Xe(g,2))}function C6(c,h){var g=c==null?0:c.length;if(g){var S=yp(c,h);if(S<g&&Gi(c[S],h))return S}return-1}function O6(c,h){return yp(c,h,!0)}function A6(c,h,g){return f0(c,h,Xe(g,2),!0)}function P6(c,h){var g=c==null?0:c.length;if(g){var S=yp(c,h,!0)-1;if(Gi(c[S],h))return S}return-1}function I6(c){return c&&c.length?EA(c):[]}function R6(c,h){return c&&c.length?EA(c,Xe(h,2)):[]}function k6(c){var h=c==null?0:c.length;return h?Si(c,1,h):[]}function N6(c,h,g){return c&&c.length?(h=g||h===n?1:ot(h),Si(c,0,h<0?0:h)):[]}function L6(c,h,g){var S=c==null?0:c.length;return S?(h=g||h===n?1:ot(h),h=S-h,Si(c,h<0?0:h,S)):[]}function M6(c,h){return c&&c.length?_p(c,Xe(h,3),!1,!0):[]}function F6(c,h){return c&&c.length?_p(c,Xe(h,3)):[]}var D6=lt(function(c){return Na(nr(c,1,_n,!0))}),B6=lt(function(c){var h=wi(c);return _n(h)&&(h=n),Na(nr(c,1,_n,!0),Xe(h,2))}),j6=lt(function(c){var h=wi(c);return h=typeof h=="function"?h:n,Na(nr(c,1,_n,!0),n,h)});function $6(c){return c&&c.length?Na(c):[]}function U6(c,h){return c&&c.length?Na(c,Xe(h,2)):[]}function G6(c,h){return h=typeof h=="function"?h:n,c&&c.length?Na(c,n,h):[]}function P0(c){if(!(c&&c.length))return[];var h=0;return c=Aa(c,function(g){if(_n(g))return h=Ln(g.length,h),!0}),W_(h,function(g){return Qt(c,z_(g))})}function cP(c,h){if(!(c&&c.length))return[];var g=P0(c);return h==null?g:Qt(g,function(S){return ei(h,n,S)})}var z6=lt(function(c,h){return _n(c)?sf(c,h):[]}),H6=lt(function(c){return d0(Aa(c,_n))}),V6=lt(function(c){var h=wi(c);return _n(h)&&(h=n),d0(Aa(c,_n),Xe(h,2))}),W6=lt(function(c){var h=wi(c);return h=typeof h=="function"?h:n,d0(Aa(c,_n),n,h)}),X6=lt(P0);function q6(c,h){return AA(c||[],h||[],af)}function K6(c,h){return AA(c||[],h||[],cf)}var Y6=lt(function(c){var h=c.length,g=h>1?c[h-1]:n;return g=typeof g=="function"?(c.pop(),g):n,cP(c,g)});function fP(c){var h=R(c);return h.__chain__=!0,h}function J6(c,h){return h(c),c}function Ap(c,h){return h(c)}var Z6=Jo(function(c){var h=c.length,g=h?c[0]:0,S=this.__wrapped__,P=function(N){return e0(N,c)};return h>1||this.__actions__.length||!(S instanceof dt)||!Zo(g)?this.thru(P):(S=S.slice(g,+g+(h?1:0)),S.__actions__.push({func:Ap,args:[P],thisArg:n}),new xi(S,this.__chain__).thru(function(N){return h&&!N.length&&N.push(n),N}))});function Q6(){return fP(this)}function eG(){return new xi(this.value(),this.__chain__)}function tG(){this.__values__===n&&(this.__values__=TP(this.value()));var c=this.__index__>=this.__values__.length,h=c?n:this.__values__[this.__index__++];return{done:c,value:h}}function nG(){return this}function rG(c){for(var h,g=this;g instanceof dp;){var S=iP(g);S.__index__=0,S.__values__=n,h?P.__wrapped__=S:h=S;var P=S;g=g.__wrapped__}return P.__wrapped__=c,h}function iG(){var c=this.__wrapped__;if(c instanceof dt){var h=c;return this.__actions__.length&&(h=new dt(this)),h=h.reverse(),h.__actions__.push({func:Ap,args:[A0],thisArg:n}),new xi(h,this.__chain__)}return this.thru(A0)}function oG(){return OA(this.__wrapped__,this.__actions__)}var aG=xp(function(c,h,g){Rt.call(c,g)?++c[g]:Ko(c,g,1)});function sG(c,h,g){var S=rt(c)?$O:J5;return g&&Or(c,h,g)&&(h=n),S(c,Xe(h,3))}function uG(c,h){var g=rt(c)?Aa:cA;return g(c,Xe(h,3))}var lG=BA(oP),cG=BA(aP);function fG(c,h){return nr(Pp(c,h),1)}function hG(c,h){return nr(Pp(c,h),ce)}function dG(c,h,g){return g=g===n?1:ot(g),nr(Pp(c,h),g)}function hP(c,h){var g=rt(c)?yi:ka;return g(c,Xe(h,3))}function dP(c,h){var g=rt(c)?kU:lA;return g(c,Xe(h,3))}var pG=xp(function(c,h,g){Rt.call(c,g)?c[g].push(h):Ko(c,g,[h])});function mG(c,h,g,S){c=Dr(c)?c:al(c),g=g&&!S?ot(g):0;var P=c.length;return g<0&&(g=Ln(P+g,0)),Lp(c)?g<=P&&c.indexOf(h,g)>-1:!!P&&qu(c,h,g)>-1}var vG=lt(function(c,h,g){var S=-1,P=typeof h=="function",N=Dr(c)?te(c.length):[];return ka(c,function(j){N[++S]=P?ei(h,j,g):uf(j,h,g)}),N}),gG=xp(function(c,h,g){Ko(c,g,h)});function Pp(c,h){var g=rt(c)?Qt:vA;return g(c,Xe(h,3))}function yG(c,h,g,S){return c==null?[]:(rt(h)||(h=h==null?[]:[h]),g=S?n:g,rt(g)||(g=g==null?[]:[g]),xA(c,h,g))}var _G=xp(function(c,h,g){c[g?0:1].push(h)},function(){return[[],[]]});function xG(c,h,g){var S=rt(c)?U_:HO,P=arguments.length<3;return S(c,Xe(h,4),g,P,ka)}function bG(c,h,g){var S=rt(c)?NU:HO,P=arguments.length<3;return S(c,Xe(h,4),g,P,lA)}function SG(c,h){var g=rt(c)?Aa:cA;return g(c,kp(Xe(h,3)))}function wG(c){var h=rt(c)?oA:m8;return h(c)}function EG(c,h,g){(g?Or(c,h,g):h===n)?h=1:h=ot(h);var S=rt(c)?W5:v8;return S(c,h)}function TG(c){var h=rt(c)?X5:y8;return h(c)}function CG(c){if(c==null)return 0;if(Dr(c))return Lp(c)?Yu(c):c.length;var h=hr(c);return h==Se||h==Un?c.size:a0(c).length}function OG(c,h,g){var S=rt(c)?G_:_8;return g&&Or(c,h,g)&&(h=n),S(c,Xe(h,3))}var AG=lt(function(c,h){if(c==null)return[];var g=h.length;return g>1&&Or(c,h[0],h[1])?h=[]:g>2&&Or(h[0],h[1],h[2])&&(h=[h[0]]),xA(c,nr(h,1),[])}),Ip=u5||function(){return tr.Date.now()};function PG(c,h){if(typeof h!="function")throw new _i(a);return c=ot(c),function(){if(--c<1)return h.apply(this,arguments)}}function pP(c,h,g){return h=g?n:h,h=c&&h==null?c.length:h,Yo(c,A,n,n,n,n,h)}function mP(c,h){var g;if(typeof h!="function")throw new _i(a);return c=ot(c),function(){return--c>0&&(g=h.apply(this,arguments)),c<=1&&(h=n),g}}var I0=lt(function(c,h,g){var S=y;if(g.length){var P=Ia(g,il(I0));S|=C}return Yo(c,S,h,g,P)}),vP=lt(function(c,h,g){var S=y|x;if(g.length){var P=Ia(g,il(vP));S|=C}return Yo(h,S,c,g,P)});function gP(c,h,g){h=g?n:h;var S=Yo(c,w,n,n,n,n,n,h);return S.placeholder=gP.placeholder,S}function yP(c,h,g){h=g?n:h;var S=Yo(c,T,n,n,n,n,n,h);return S.placeholder=yP.placeholder,S}function _P(c,h,g){var S,P,N,j,z,Y,se=0,ue=!1,me=!1,Re=!0;if(typeof c!="function")throw new _i(a);h=Ei(h)||0,an(g)&&(ue=!!g.leading,me="maxWait"in g,N=me?Ln(Ei(g.maxWait)||0,h):N,Re="trailing"in g?!!g.trailing:Re);function $e(xn){var zi=S,ta=P;return S=P=n,se=xn,j=c.apply(ta,zi),j}function qe(xn){return se=xn,z=df(ht,h),ue?$e(xn):j}function ut(xn){var zi=xn-Y,ta=xn-se,BP=h-zi;return me?fr(BP,N-ta):BP}function Ke(xn){var zi=xn-Y,ta=xn-se;return Y===n||zi>=h||zi<0||me&&ta>=N}function ht(){var xn=Ip();if(Ke(xn))return vt(xn);z=df(ht,ut(xn))}function vt(xn){return z=n,Re&&S?$e(xn):(S=P=n,j)}function ii(){z!==n&&PA(z),se=0,S=Y=P=z=n}function Ar(){return z===n?j:vt(Ip())}function oi(){var xn=Ip(),zi=Ke(xn);if(S=arguments,P=this,Y=xn,zi){if(z===n)return qe(Y);if(me)return PA(z),z=df(ht,h),$e(Y)}return z===n&&(z=df(ht,h)),j}return oi.cancel=ii,oi.flush=Ar,oi}var IG=lt(function(c,h){return uA(c,1,h)}),RG=lt(function(c,h,g){return uA(c,Ei(h)||0,g)});function kG(c){return Yo(c,D)}function Rp(c,h){if(typeof c!="function"||h!=null&&typeof h!="function")throw new _i(a);var g=function(){var S=arguments,P=h?h.apply(this,S):S[0],N=g.cache;if(N.has(P))return N.get(P);var j=c.apply(this,S);return g.cache=N.set(P,j)||N,j};return g.cache=new(Rp.Cache||qo),g}Rp.Cache=qo;function kp(c){if(typeof c!="function")throw new _i(a);return function(){var h=arguments;switch(h.length){case 0:return!c.call(this);case 1:return!c.call(this,h[0]);case 2:return!c.call(this,h[0],h[1]);case 3:return!c.call(this,h[0],h[1],h[2])}return!c.apply(this,h)}}function NG(c){return mP(2,c)}var LG=x8(function(c,h){h=h.length==1&&rt(h[0])?Qt(h[0],ti(Xe())):Qt(nr(h,1),ti(Xe()));var g=h.length;return lt(function(S){for(var P=-1,N=fr(S.length,g);++P<N;)S[P]=h[P].call(this,S[P]);return ei(c,this,S)})}),R0=lt(function(c,h){var g=Ia(h,il(R0));return Yo(c,C,n,h,g)}),xP=lt(function(c,h){var g=Ia(h,il(xP));return Yo(c,O,n,h,g)}),MG=Jo(function(c,h){return Yo(c,M,n,n,n,h)});function FG(c,h){if(typeof c!="function")throw new _i(a);return h=h===n?h:ot(h),lt(c,h)}function DG(c,h){if(typeof c!="function")throw new _i(a);return h=h==null?0:Ln(ot(h),0),lt(function(g){var S=g[h],P=Ma(g,0,h);return S&&Pa(P,S),ei(c,this,P)})}function BG(c,h,g){var S=!0,P=!0;if(typeof c!="function")throw new _i(a);return an(g)&&(S="leading"in g?!!g.leading:S,P="trailing"in g?!!g.trailing:P),_P(c,h,{leading:S,maxWait:h,trailing:P})}function jG(c){return pP(c,1)}function $G(c,h){return R0(m0(h),c)}function UG(){if(!arguments.length)return[];var c=arguments[0];return rt(c)?c:[c]}function GG(c){return bi(c,m)}function zG(c,h){return h=typeof h=="function"?h:n,bi(c,m,h)}function HG(c){return bi(c,d|m)}function VG(c,h){return h=typeof h=="function"?h:n,bi(c,d|m,h)}function WG(c,h){return h==null||sA(c,h,Gn(h))}function Gi(c,h){return c===h||c!==c&&h!==h}var XG=Ep(r0),qG=Ep(function(c,h){return c>=h}),zs=dA(function(){return arguments}())?dA:function(c){return pn(c)&&Rt.call(c,"callee")&&!QO.call(c,"callee")},rt=te.isArray,KG=LO?ti(LO):r8;function Dr(c){return c!=null&&Np(c.length)&&!Qo(c)}function _n(c){return pn(c)&&Dr(c)}function YG(c){return c===!0||c===!1||pn(c)&&Cr(c)==Ie}var Fa=c5||G0,JG=MO?ti(MO):i8;function ZG(c){return pn(c)&&c.nodeType===1&&!pf(c)}function QG(c){if(c==null)return!0;if(Dr(c)&&(rt(c)||typeof c=="string"||typeof c.splice=="function"||Fa(c)||ol(c)||zs(c)))return!c.length;var h=hr(c);if(h==Se||h==Un)return!c.size;if(hf(c))return!a0(c).length;for(var g in c)if(Rt.call(c,g))return!1;return!0}function ez(c,h){return lf(c,h)}function tz(c,h,g){g=typeof g=="function"?g:n;var S=g?g(c,h):n;return S===n?lf(c,h,n,g):!!S}function k0(c){if(!pn(c))return!1;var h=Cr(c);return h==Be||h==Ze||typeof c.message=="string"&&typeof c.name=="string"&&!pf(c)}function nz(c){return typeof c=="number"&&tA(c)}function Qo(c){if(!an(c))return!1;var h=Cr(c);return h==Ue||h==je||h==ge||h==Cn}function bP(c){return typeof c=="number"&&c==ot(c)}function Np(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ae}function an(c){var h=typeof c;return c!=null&&(h=="object"||h=="function")}function pn(c){return c!=null&&typeof c=="object"}var SP=FO?ti(FO):a8;function rz(c,h){return c===h||o0(c,h,S0(h))}function iz(c,h,g){return g=typeof g=="function"?g:n,o0(c,h,S0(h),g)}function oz(c){return wP(c)&&c!=+c}function az(c){if(z8(c))throw new tt(o);return pA(c)}function sz(c){return c===null}function uz(c){return c==null}function wP(c){return typeof c=="number"||pn(c)&&Cr(c)==Ge}function pf(c){if(!pn(c)||Cr(c)!=Je)return!1;var h=ap(c);if(h===null)return!0;var g=Rt.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&np.call(g)==i5}var N0=DO?ti(DO):s8;function lz(c){return bP(c)&&c>=-Ae&&c<=Ae}var EP=BO?ti(BO):u8;function Lp(c){return typeof c=="string"||!rt(c)&&pn(c)&&Cr(c)==ji}function ri(c){return typeof c=="symbol"||pn(c)&&Cr(c)==mo}var ol=jO?ti(jO):l8;function cz(c){return c===n}function fz(c){return pn(c)&&hr(c)==Ea}function hz(c){return pn(c)&&Cr(c)==Dd}var dz=Ep(s0),pz=Ep(function(c,h){return c<=h});function TP(c){if(!c)return[];if(Dr(c))return Lp(c)?$i(c):Fr(c);if(ef&&c[ef])return WU(c[ef]());var h=hr(c),g=h==Se?q_:h==Un?Qd:al;return g(c)}function ea(c){if(!c)return c===0?c:0;if(c=Ei(c),c===ce||c===-ce){var h=c<0?-1:1;return h*pe}return c===c?c:0}function ot(c){var h=ea(c),g=h%1;return h===h?g?h-g:h:0}function CP(c){return c?js(ot(c),0,L):0}function Ei(c){if(typeof c=="number")return c;if(ri(c))return fe;if(an(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=an(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=VO(c);var g=C_.test(c);return g||A_.test(c)?PU(c.slice(2),g?2:8):T_.test(c)?fe:+c}function OP(c){return _o(c,Br(c))}function mz(c){return c?js(ot(c),-Ae,Ae):c===0?c:0}function Ct(c){return c==null?"":ni(c)}var vz=nl(function(c,h){if(hf(h)||Dr(h)){_o(h,Gn(h),c);return}for(var g in h)Rt.call(h,g)&&af(c,g,h[g])}),AP=nl(function(c,h){_o(h,Br(h),c)}),Mp=nl(function(c,h,g,S){_o(h,Br(h),c,S)}),gz=nl(function(c,h,g,S){_o(h,Gn(h),c,S)}),yz=Jo(e0);function _z(c,h){var g=tl(c);return h==null?g:aA(g,h)}var xz=lt(function(c,h){c=jt(c);var g=-1,S=h.length,P=S>2?h[2]:n;for(P&&Or(h[0],h[1],P)&&(S=1);++g<S;)for(var N=h[g],j=Br(N),z=-1,Y=j.length;++z<Y;){var se=j[z],ue=c[se];(ue===n||Gi(ue,Zu[se])&&!Rt.call(c,se))&&(c[se]=N[se])}return c}),bz=lt(function(c){return c.push(n,VA),ei(PP,n,c)});function Sz(c,h){return UO(c,Xe(h,3),yo)}function wz(c,h){return UO(c,Xe(h,3),n0)}function Ez(c,h){return c==null?c:t0(c,Xe(h,3),Br)}function Tz(c,h){return c==null?c:fA(c,Xe(h,3),Br)}function Cz(c,h){return c&&yo(c,Xe(h,3))}function Oz(c,h){return c&&n0(c,Xe(h,3))}function Az(c){return c==null?[]:vp(c,Gn(c))}function Pz(c){return c==null?[]:vp(c,Br(c))}function L0(c,h,g){var S=c==null?n:$s(c,h);return S===n?g:S}function Iz(c,h){return c!=null&&qA(c,h,Q5)}function M0(c,h){return c!=null&&qA(c,h,e8)}var Rz=$A(function(c,h,g){h!=null&&typeof h.toString!="function"&&(h=rp.call(h)),c[h]=g},D0(jr)),kz=$A(function(c,h,g){h!=null&&typeof h.toString!="function"&&(h=rp.call(h)),Rt.call(c,h)?c[h].push(g):c[h]=[g]},Xe),Nz=lt(uf);function Gn(c){return Dr(c)?iA(c):a0(c)}function Br(c){return Dr(c)?iA(c,!0):c8(c)}function Lz(c,h){var g={};return h=Xe(h,3),yo(c,function(S,P,N){Ko(g,h(S,P,N),S)}),g}function Mz(c,h){var g={};return h=Xe(h,3),yo(c,function(S,P,N){Ko(g,P,h(S,P,N))}),g}var Fz=nl(function(c,h,g){gp(c,h,g)}),PP=nl(function(c,h,g,S){gp(c,h,g,S)}),Dz=Jo(function(c,h){var g={};if(c==null)return g;var S=!1;h=Qt(h,function(N){return N=La(N,c),S||(S=N.length>1),N}),_o(c,x0(c),g),S&&(g=bi(g,d|p|m,R8));for(var P=h.length;P--;)h0(g,h[P]);return g});function Bz(c,h){return IP(c,kp(Xe(h)))}var jz=Jo(function(c,h){return c==null?{}:h8(c,h)});function IP(c,h){if(c==null)return{};var g=Qt(x0(c),function(S){return[S]});return h=Xe(h),bA(c,g,function(S,P){return h(S,P[0])})}function $z(c,h,g){h=La(h,c);var S=-1,P=h.length;for(P||(P=1,c=n);++S<P;){var N=c==null?n:c[xo(h[S])];N===n&&(S=P,N=g),c=Qo(N)?N.call(c):N}return c}function Uz(c,h,g){return c==null?c:cf(c,h,g)}function Gz(c,h,g,S){return S=typeof S=="function"?S:n,c==null?c:cf(c,h,g,S)}var RP=zA(Gn),kP=zA(Br);function zz(c,h,g){var S=rt(c),P=S||Fa(c)||ol(c);if(h=Xe(h,4),g==null){var N=c&&c.constructor;P?g=S?new N:[]:an(c)?g=Qo(N)?tl(ap(c)):{}:g={}}return(P?yi:yo)(c,function(j,z,Y){return h(g,j,z,Y)}),g}function Hz(c,h){return c==null?!0:h0(c,h)}function Vz(c,h,g){return c==null?c:CA(c,h,m0(g))}function Wz(c,h,g,S){return S=typeof S=="function"?S:n,c==null?c:CA(c,h,m0(g),S)}function al(c){return c==null?[]:X_(c,Gn(c))}function Xz(c){return c==null?[]:X_(c,Br(c))}function qz(c,h,g){return g===n&&(g=h,h=n),g!==n&&(g=Ei(g),g=g===g?g:0),h!==n&&(h=Ei(h),h=h===h?h:0),js(Ei(c),h,g)}function Kz(c,h,g){return h=ea(h),g===n?(g=h,h=0):g=ea(g),c=Ei(c),t8(c,h,g)}function Yz(c,h,g){if(g&&typeof g!="boolean"&&Or(c,h,g)&&(h=g=n),g===n&&(typeof h=="boolean"?(g=h,h=n):typeof c=="boolean"&&(g=c,c=n)),c===n&&h===n?(c=0,h=1):(c=ea(c),h===n?(h=c,c=0):h=ea(h)),c>h){var S=c;c=h,h=S}if(g||c%1||h%1){var P=nA();return fr(c+P*(h-c+AU("1e-"+((P+"").length-1))),h)}return l0(c,h)}var Jz=rl(function(c,h,g){return h=h.toLowerCase(),c+(g?NP(h):h)});function NP(c){return F0(Ct(c).toLowerCase())}function LP(c){return c=Ct(c),c&&c.replace(I_,UU).replace(yU,"")}function Zz(c,h,g){c=Ct(c),h=ni(h);var S=c.length;g=g===n?S:js(ot(g),0,S);var P=g;return g-=h.length,g>=0&&c.slice(g,P)==h}function Qz(c){return c=Ct(c),c&&f_.test(c)?c.replace($d,GU):c}function eH(c){return c=Ct(c),c&&g_.test(c)?c.replace(Kc,"\\$&"):c}var tH=rl(function(c,h,g){return c+(g?"-":"")+h.toLowerCase()}),nH=rl(function(c,h,g){return c+(g?" ":"")+h.toLowerCase()}),rH=DA("toLowerCase");function iH(c,h,g){c=Ct(c),h=ot(h);var S=h?Yu(c):0;if(!h||S>=h)return c;var P=(h-S)/2;return wp(cp(P),g)+c+wp(lp(P),g)}function oH(c,h,g){c=Ct(c),h=ot(h);var S=h?Yu(c):0;return h&&S<h?c+wp(h-S,g):c}function aH(c,h,g){c=Ct(c),h=ot(h);var S=h?Yu(c):0;return h&&S<h?wp(h-S,g)+c:c}function sH(c,h,g){return g||h==null?h=0:h&&(h=+h),p5(Ct(c).replace(Yc,""),h||0)}function uH(c,h,g){return(g?Or(c,h,g):h===n)?h=1:h=ot(h),c0(Ct(c),h)}function lH(){var c=arguments,h=Ct(c[0]);return c.length<3?h:h.replace(c[1],c[2])}var cH=rl(function(c,h,g){return c+(g?"_":"")+h.toLowerCase()});function fH(c,h,g){return g&&typeof g!="number"&&Or(c,h,g)&&(h=g=n),g=g===n?L:g>>>0,g?(c=Ct(c),c&&(typeof h=="string"||h!=null&&!N0(h))&&(h=ni(h),!h&&Ku(c))?Ma($i(c),0,g):c.split(h,g)):[]}var hH=rl(function(c,h,g){return c+(g?" ":"")+F0(h)});function dH(c,h,g){return c=Ct(c),g=g==null?0:js(ot(g),0,c.length),h=ni(h),c.slice(g,g+h.length)==h}function pH(c,h,g){var S=R.templateSettings;g&&Or(c,h,g)&&(h=n),c=Ct(c),h=Mp({},h,S,HA);var P=Mp({},h.imports,S.imports,HA),N=Gn(P),j=X_(P,N),z,Y,se=0,ue=h.interpolate||Vu,me="__p += '",Re=K_((h.escape||Vu).source+"|"+ue.source+"|"+(ue===Gd?E_:Vu).source+"|"+(h.evaluate||Vu).source+"|$","g"),$e="//# sourceURL="+(Rt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wU+"]")+`
`;c.replace(Re,function(Ke,ht,vt,ii,Ar,oi){return vt||(vt=ii),me+=c.slice(se,oi).replace(Vd,zU),ht&&(z=!0,me+=`' +
__e(`+ht+`) +
'`),Ar&&(Y=!0,me+=`';
`+Ar+`;
__p += '`),vt&&(me+=`' +
((__t = (`+vt+`)) == null ? '' : __t) +
'`),se=oi+Ke.length,Ke}),me+=`';
`;var qe=Rt.call(h,"variable")&&h.variable;if(!qe)me=`with (obj) {
`+me+`
}
`;else if(S_.test(qe))throw new tt(s);me=(Y?me.replace(Bd,""):me).replace(c_,"$1").replace(vo,"$1;"),me="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var ut=FP(function(){return wt(N,$e+"return "+me).apply(n,j)});if(ut.source=me,k0(ut))throw ut;return ut}function mH(c){return Ct(c).toLowerCase()}function vH(c){return Ct(c).toUpperCase()}function gH(c,h,g){if(c=Ct(c),c&&(g||h===n))return VO(c);if(!c||!(h=ni(h)))return c;var S=$i(c),P=$i(h),N=WO(S,P),j=XO(S,P)+1;return Ma(S,N,j).join("")}function yH(c,h,g){if(c=Ct(c),c&&(g||h===n))return c.slice(0,KO(c)+1);if(!c||!(h=ni(h)))return c;var S=$i(c),P=XO(S,$i(h))+1;return Ma(S,0,P).join("")}function _H(c,h,g){if(c=Ct(c),c&&(g||h===n))return c.replace(Yc,"");if(!c||!(h=ni(h)))return c;var S=$i(c),P=WO(S,$i(h));return Ma(S,P).join("")}function xH(c,h){var g=B,S=G;if(an(h)){var P="separator"in h?h.separator:P;g="length"in h?ot(h.length):g,S="omission"in h?ni(h.omission):S}c=Ct(c);var N=c.length;if(Ku(c)){var j=$i(c);N=j.length}if(g>=N)return c;var z=g-Yu(S);if(z<1)return S;var Y=j?Ma(j,0,z).join(""):c.slice(0,z);if(P===n)return Y+S;if(j&&(z+=Y.length-z),N0(P)){if(c.slice(z).search(P)){var se,ue=Y;for(P.global||(P=K_(P.source,Ct(Hd.exec(P))+"g")),P.lastIndex=0;se=P.exec(ue);)var me=se.index;Y=Y.slice(0,me===n?z:me)}}else if(c.indexOf(ni(P),z)!=z){var Re=Y.lastIndexOf(P);Re>-1&&(Y=Y.slice(0,Re))}return Y+S}function bH(c){return c=Ct(c),c&&Ud.test(c)?c.replace(jd,YU):c}var SH=rl(function(c,h,g){return c+(g?" ":"")+h.toUpperCase()}),F0=DA("toUpperCase");function MP(c,h,g){return c=Ct(c),h=g?n:h,h===n?VU(c)?QU(c):FU(c):c.match(h)||[]}var FP=lt(function(c,h){try{return ei(c,n,h)}catch(g){return k0(g)?g:new tt(g)}}),wH=Jo(function(c,h){return yi(h,function(g){g=xo(g),Ko(c,g,I0(c[g],c))}),c});function EH(c){var h=c==null?0:c.length,g=Xe();return c=h?Qt(c,function(S){if(typeof S[1]!="function")throw new _i(a);return[g(S[0]),S[1]]}):[],lt(function(S){for(var P=-1;++P<h;){var N=c[P];if(ei(N[0],this,S))return ei(N[1],this,S)}})}function TH(c){return Y5(bi(c,d))}function D0(c){return function(){return c}}function CH(c,h){return c==null||c!==c?h:c}var OH=jA(),AH=jA(!0);function jr(c){return c}function B0(c){return mA(typeof c=="function"?c:bi(c,d))}function PH(c){return gA(bi(c,d))}function IH(c,h){return yA(c,bi(h,d))}var RH=lt(function(c,h){return function(g){return uf(g,c,h)}}),kH=lt(function(c,h){return function(g){return uf(c,g,h)}});function j0(c,h,g){var S=Gn(h),P=vp(h,S);g==null&&!(an(h)&&(P.length||!S.length))&&(g=h,h=c,c=this,P=vp(h,Gn(h)));var N=!(an(g)&&"chain"in g)||!!g.chain,j=Qo(c);return yi(P,function(z){var Y=h[z];c[z]=Y,j&&(c.prototype[z]=function(){var se=this.__chain__;if(N||se){var ue=c(this.__wrapped__),me=ue.__actions__=Fr(this.__actions__);return me.push({func:Y,args:arguments,thisArg:c}),ue.__chain__=se,ue}return Y.apply(c,Pa([this.value()],arguments))})}),c}function NH(){return tr._===this&&(tr._=o5),this}function $0(){}function LH(c){return c=ot(c),lt(function(h){return _A(h,c)})}var MH=g0(Qt),FH=g0($O),DH=g0(G_);function DP(c){return E0(c)?z_(xo(c)):d8(c)}function BH(c){return function(h){return c==null?n:$s(c,h)}}var jH=UA(),$H=UA(!0);function U0(){return[]}function G0(){return!1}function UH(){return{}}function GH(){return""}function zH(){return!0}function HH(c,h){if(c=ot(c),c<1||c>Ae)return[];var g=L,S=fr(c,L);h=Xe(h),c-=L;for(var P=W_(S,h);++g<c;)h(g);return P}function VH(c){return rt(c)?Qt(c,xo):ri(c)?[c]:Fr(rP(Ct(c)))}function WH(c){var h=++r5;return Ct(c)+h}var XH=Sp(function(c,h){return c+h},0),qH=y0("ceil"),KH=Sp(function(c,h){return c/h},1),YH=y0("floor");function JH(c){return c&&c.length?mp(c,jr,r0):n}function ZH(c,h){return c&&c.length?mp(c,Xe(h,2),r0):n}function QH(c){return zO(c,jr)}function e9(c,h){return zO(c,Xe(h,2))}function t9(c){return c&&c.length?mp(c,jr,s0):n}function n9(c,h){return c&&c.length?mp(c,Xe(h,2),s0):n}var r9=Sp(function(c,h){return c*h},1),i9=y0("round"),o9=Sp(function(c,h){return c-h},0);function a9(c){return c&&c.length?V_(c,jr):0}function s9(c,h){return c&&c.length?V_(c,Xe(h,2)):0}return R.after=PG,R.ary=pP,R.assign=vz,R.assignIn=AP,R.assignInWith=Mp,R.assignWith=gz,R.at=yz,R.before=mP,R.bind=I0,R.bindAll=wH,R.bindKey=vP,R.castArray=UG,R.chain=fP,R.chunk=Y8,R.compact=J8,R.concat=Z8,R.cond=EH,R.conforms=TH,R.constant=D0,R.countBy=aG,R.create=_z,R.curry=gP,R.curryRight=yP,R.debounce=_P,R.defaults=xz,R.defaultsDeep=bz,R.defer=IG,R.delay=RG,R.difference=Q8,R.differenceBy=e6,R.differenceWith=t6,R.drop=n6,R.dropRight=r6,R.dropRightWhile=i6,R.dropWhile=o6,R.fill=a6,R.filter=uG,R.flatMap=fG,R.flatMapDeep=hG,R.flatMapDepth=dG,R.flatten=sP,R.flattenDeep=s6,R.flattenDepth=u6,R.flip=kG,R.flow=OH,R.flowRight=AH,R.fromPairs=l6,R.functions=Az,R.functionsIn=Pz,R.groupBy=pG,R.initial=f6,R.intersection=h6,R.intersectionBy=d6,R.intersectionWith=p6,R.invert=Rz,R.invertBy=kz,R.invokeMap=vG,R.iteratee=B0,R.keyBy=gG,R.keys=Gn,R.keysIn=Br,R.map=Pp,R.mapKeys=Lz,R.mapValues=Mz,R.matches=PH,R.matchesProperty=IH,R.memoize=Rp,R.merge=Fz,R.mergeWith=PP,R.method=RH,R.methodOf=kH,R.mixin=j0,R.negate=kp,R.nthArg=LH,R.omit=Dz,R.omitBy=Bz,R.once=NG,R.orderBy=yG,R.over=MH,R.overArgs=LG,R.overEvery=FH,R.overSome=DH,R.partial=R0,R.partialRight=xP,R.partition=_G,R.pick=jz,R.pickBy=IP,R.property=DP,R.propertyOf=BH,R.pull=y6,R.pullAll=lP,R.pullAllBy=_6,R.pullAllWith=x6,R.pullAt=b6,R.range=jH,R.rangeRight=$H,R.rearg=MG,R.reject=SG,R.remove=S6,R.rest=FG,R.reverse=A0,R.sampleSize=EG,R.set=Uz,R.setWith=Gz,R.shuffle=TG,R.slice=w6,R.sortBy=AG,R.sortedUniq=I6,R.sortedUniqBy=R6,R.split=fH,R.spread=DG,R.tail=k6,R.take=N6,R.takeRight=L6,R.takeRightWhile=M6,R.takeWhile=F6,R.tap=J6,R.throttle=BG,R.thru=Ap,R.toArray=TP,R.toPairs=RP,R.toPairsIn=kP,R.toPath=VH,R.toPlainObject=OP,R.transform=zz,R.unary=jG,R.union=D6,R.unionBy=B6,R.unionWith=j6,R.uniq=$6,R.uniqBy=U6,R.uniqWith=G6,R.unset=Hz,R.unzip=P0,R.unzipWith=cP,R.update=Vz,R.updateWith=Wz,R.values=al,R.valuesIn=Xz,R.without=z6,R.words=MP,R.wrap=$G,R.xor=H6,R.xorBy=V6,R.xorWith=W6,R.zip=X6,R.zipObject=q6,R.zipObjectDeep=K6,R.zipWith=Y6,R.entries=RP,R.entriesIn=kP,R.extend=AP,R.extendWith=Mp,j0(R,R),R.add=XH,R.attempt=FP,R.camelCase=Jz,R.capitalize=NP,R.ceil=qH,R.clamp=qz,R.clone=GG,R.cloneDeep=HG,R.cloneDeepWith=VG,R.cloneWith=zG,R.conformsTo=WG,R.deburr=LP,R.defaultTo=CH,R.divide=KH,R.endsWith=Zz,R.eq=Gi,R.escape=Qz,R.escapeRegExp=eH,R.every=sG,R.find=lG,R.findIndex=oP,R.findKey=Sz,R.findLast=cG,R.findLastIndex=aP,R.findLastKey=wz,R.floor=YH,R.forEach=hP,R.forEachRight=dP,R.forIn=Ez,R.forInRight=Tz,R.forOwn=Cz,R.forOwnRight=Oz,R.get=L0,R.gt=XG,R.gte=qG,R.has=Iz,R.hasIn=M0,R.head=uP,R.identity=jr,R.includes=mG,R.indexOf=c6,R.inRange=Kz,R.invoke=Nz,R.isArguments=zs,R.isArray=rt,R.isArrayBuffer=KG,R.isArrayLike=Dr,R.isArrayLikeObject=_n,R.isBoolean=YG,R.isBuffer=Fa,R.isDate=JG,R.isElement=ZG,R.isEmpty=QG,R.isEqual=ez,R.isEqualWith=tz,R.isError=k0,R.isFinite=nz,R.isFunction=Qo,R.isInteger=bP,R.isLength=Np,R.isMap=SP,R.isMatch=rz,R.isMatchWith=iz,R.isNaN=oz,R.isNative=az,R.isNil=uz,R.isNull=sz,R.isNumber=wP,R.isObject=an,R.isObjectLike=pn,R.isPlainObject=pf,R.isRegExp=N0,R.isSafeInteger=lz,R.isSet=EP,R.isString=Lp,R.isSymbol=ri,R.isTypedArray=ol,R.isUndefined=cz,R.isWeakMap=fz,R.isWeakSet=hz,R.join=m6,R.kebabCase=tH,R.last=wi,R.lastIndexOf=v6,R.lowerCase=nH,R.lowerFirst=rH,R.lt=dz,R.lte=pz,R.max=JH,R.maxBy=ZH,R.mean=QH,R.meanBy=e9,R.min=t9,R.minBy=n9,R.stubArray=U0,R.stubFalse=G0,R.stubObject=UH,R.stubString=GH,R.stubTrue=zH,R.multiply=r9,R.nth=g6,R.noConflict=NH,R.noop=$0,R.now=Ip,R.pad=iH,R.padEnd=oH,R.padStart=aH,R.parseInt=sH,R.random=Yz,R.reduce=xG,R.reduceRight=bG,R.repeat=uH,R.replace=lH,R.result=$z,R.round=i9,R.runInContext=K,R.sample=wG,R.size=CG,R.snakeCase=cH,R.some=OG,R.sortedIndex=E6,R.sortedIndexBy=T6,R.sortedIndexOf=C6,R.sortedLastIndex=O6,R.sortedLastIndexBy=A6,R.sortedLastIndexOf=P6,R.startCase=hH,R.startsWith=dH,R.subtract=o9,R.sum=a9,R.sumBy=s9,R.template=pH,R.times=HH,R.toFinite=ea,R.toInteger=ot,R.toLength=CP,R.toLower=mH,R.toNumber=Ei,R.toSafeInteger=mz,R.toString=Ct,R.toUpper=vH,R.trim=gH,R.trimEnd=yH,R.trimStart=_H,R.truncate=xH,R.unescape=bH,R.uniqueId=WH,R.upperCase=SH,R.upperFirst=F0,R.each=hP,R.eachRight=dP,R.first=uP,j0(R,function(){var c={};return yo(R,function(h,g){Rt.call(R.prototype,g)||(c[g]=h)}),c}(),{chain:!1}),R.VERSION=r,yi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){R[c].placeholder=R}),yi(["drop","take"],function(c,h){dt.prototype[c]=function(g){g=g===n?1:Ln(ot(g),0);var S=this.__filtered__&&!h?new dt(this):this.clone();return S.__filtered__?S.__takeCount__=fr(g,S.__takeCount__):S.__views__.push({size:fr(g,L),type:c+(S.__dir__<0?"Right":"")}),S},dt.prototype[c+"Right"]=function(g){return this.reverse()[c](g).reverse()}}),yi(["filter","map","takeWhile"],function(c,h){var g=h+1,S=g==Q||g==ne;dt.prototype[c]=function(P){var N=this.clone();return N.__iteratees__.push({iteratee:Xe(P,3),type:g}),N.__filtered__=N.__filtered__||S,N}}),yi(["head","last"],function(c,h){var g="take"+(h?"Right":"");dt.prototype[c]=function(){return this[g](1).value()[0]}}),yi(["initial","tail"],function(c,h){var g="drop"+(h?"":"Right");dt.prototype[c]=function(){return this.__filtered__?new dt(this):this[g](1)}}),dt.prototype.compact=function(){return this.filter(jr)},dt.prototype.find=function(c){return this.filter(c).head()},dt.prototype.findLast=function(c){return this.reverse().find(c)},dt.prototype.invokeMap=lt(function(c,h){return typeof c=="function"?new dt(this):this.map(function(g){return uf(g,c,h)})}),dt.prototype.reject=function(c){return this.filter(kp(Xe(c)))},dt.prototype.slice=function(c,h){c=ot(c);var g=this;return g.__filtered__&&(c>0||h<0)?new dt(g):(c<0?g=g.takeRight(-c):c&&(g=g.drop(c)),h!==n&&(h=ot(h),g=h<0?g.dropRight(-h):g.take(h-c)),g)},dt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},dt.prototype.toArray=function(){return this.take(L)},yo(dt.prototype,function(c,h){var g=/^(?:filter|find|map|reject)|While$/.test(h),S=/^(?:head|last)$/.test(h),P=R[S?"take"+(h=="last"?"Right":""):h],N=S||/^find/.test(h);P&&(R.prototype[h]=function(){var j=this.__wrapped__,z=S?[1]:arguments,Y=j instanceof dt,se=z[0],ue=Y||rt(j),me=function(ht){var vt=P.apply(R,Pa([ht],z));return S&&Re?vt[0]:vt};ue&&g&&typeof se=="function"&&se.length!=1&&(Y=ue=!1);var Re=this.__chain__,$e=!!this.__actions__.length,qe=N&&!Re,ut=Y&&!$e;if(!N&&ue){j=ut?j:new dt(this);var Ke=c.apply(j,z);return Ke.__actions__.push({func:Ap,args:[me],thisArg:n}),new xi(Ke,Re)}return qe&&ut?c.apply(this,z):(Ke=this.thru(me),qe?S?Ke.value()[0]:Ke.value():Ke)})}),yi(["pop","push","shift","sort","splice","unshift"],function(c){var h=ep[c],g=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",S=/^(?:pop|shift)$/.test(c);R.prototype[c]=function(){var P=arguments;if(S&&!this.__chain__){var N=this.value();return h.apply(rt(N)?N:[],P)}return this[g](function(j){return h.apply(rt(j)?j:[],P)})}}),yo(dt.prototype,function(c,h){var g=R[h];if(g){var S=g.name+"";Rt.call(el,S)||(el[S]=[]),el[S].push({name:h,func:g})}}),el[bp(n,x).name]=[{name:"wrapper",func:n}],dt.prototype.clone=b5,dt.prototype.reverse=S5,dt.prototype.value=w5,R.prototype.at=Z6,R.prototype.chain=Q6,R.prototype.commit=eG,R.prototype.next=tG,R.prototype.plant=rG,R.prototype.reverse=iG,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=oG,R.prototype.first=R.prototype.head,ef&&(R.prototype[ef]=nG),R},Ju=e5();Ms?((Ms.exports=Ju)._=Ju,B_._=Ju):tr._=Ju}).call(Yn)})(fg,fg.exports);var GN=fg.exports;window.PIXI=v1e;class Mo{constructor(){ye(this,"currentApp",null);ye(this,"mainStageContainer");ye(this,"foregroundEffectsContainer");ye(this,"backgroundEffectsContainer");ye(this,"frameDuration",16.67);ye(this,"notUpdateBacklogEffects",!1);ye(this,"figureContainer");ye(this,"figureObjects",[]);ye(this,"stageWidth",ug.width);ye(this,"stageHeight",ug.height);ye(this,"assetLoader",new pc);ye(this,"backgroundContainer");ye(this,"backgroundObjects",[]);ye(this,"mainStageObject");ye(this,"itemApp",null);ye(this,"itemContainer");ye(this,"itemObjects",[]);ye(this,"addSpineFigure",$we.bind(this));ye(this,"addSpineBg",Uwe.bind(this));ye(this,"stageAnimations",[]);ye(this,"loadQueue",[]);ye(this,"live2dFigureRecorder",[]);ye(this,"lockTransformTarget",[]);ye(this,"MAX_TEX_COUNT",10);ye(this,"figureCash");ye(this,"live2DModel");ye(this,"soundManager");ye(this,"loadedJsonlCache",new Set);const t=new og({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=t;const n=document.getElementById("pixiContianer");n&&(n.innerHTML="",n.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.view.id="pixiCanvas",t.renderer.autoResize=!0;const r=document.getElementById("root");r&&t.renderer.resize(r.clientWidth,r.clientHeight),cO&&(t.renderer.view.style.zIndex="-5"),this.mainStageContainer=new Ji,this.mainStageContainer.sortableChildren=!0,this.mainStageContainer.setBaseX(this.stageWidth/2),this.mainStageContainer.setBaseY(this.stageHeight/2),this.mainStageContainer.pivot.set(this.stageWidth/2,this.stageHeight/2),t.stage.addChild(this.mainStageContainer),this.mainStageObject={uuid:si(),key:"stage-main",pixiContainer:this.mainStageContainer,sourceUrl:"",sourceType:"stage",sourceExt:""},this.foregroundEffectsContainer=new ur,this.foregroundEffectsContainer.zIndex=3,this.figureContainer=new ur,this.figureContainer.sortableChildren=!0,this.figureContainer.zIndex=2,this.backgroundEffectsContainer=new ur,this.backgroundEffectsContainer.zIndex=1,this.backgroundContainer=new ur,this.backgroundContainer.zIndex=0,this.mainStageContainer.addChild(this.foregroundEffectsContainer,this.figureContainer,this.backgroundEffectsContainer,this.backgroundContainer),this.currentApp=t;const i=new og({backgroundAlpha:0,preserveDrawingBuffer:!0,autoStart:!0});i.stage.interactive=!0,i.stage.hitArea=new mt(0,0,this.stageWidth,this.stageHeight);const o=document.getElementById("itemContainer");o&&(o.innerHTML="",o.appendChild(i.view)),i.renderer.view.style.position="absolute",i.renderer.view.style.display="block",i.renderer.view.id="itemCanvas",i.renderer.autoResize=!0,r&&i.renderer.resize(r.clientWidth,r.clientHeight),this.itemContainer=new ur,this.itemContainer.sortableChildren=!0,i.stage.addChild(this.itemContainer),this.itemApp=i;const a=()=>{this.updateFps(),setTimeout(a,1e4)};a();const s=()=>{setTimeout(s,500),this.callLoader()};s(),this.initialize().then(()=>{})}static assignTransform(t,n){if(!n)return;const r=t.scale,i=t.position;t.scale&&Object.assign(r,n.scale),t.position&&Object.assign(i,n.position),Object.assign(t,n),t.scale=r,t.position=i}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(t,n,r="default"){var i;t&&(this.stageAnimations.push({uuid:si(),animationObject:t,key:n,targetKey:r,type:"common"}),this.lockStageObject(r),t.setStartState(),(i=this.currentApp)==null||i.ticker.add(t.tickerFunc))}registerPresetAnimation(t,n,r="default",i){var a;if(!t)return;const o=i.find(s=>s.target===r);if(o){const s=this.getStageObjByKey(r);if(s){const u=s.pixiContainer;Mo.assignTransform(u,o.transform)}return}this.stageAnimations.push({uuid:si(),animationObject:t,key:n,targetKey:r,type:"preset"}),this.lockStageObject(r),t.setStartState(),(a=this.currentApp)==null||a.ticker.add(t.tickerFunc)}stopPresetAnimationOnTarget(t){const n=this.stageAnimations.find(r=>r.targetKey===t&&r.type==="preset");n&&this.removeAnimation(n.key)}removeAnimationByIndex(t){var n;if(t>=0){const r=this.stageAnimations[t];(n=this.currentApp)==null||n.ticker.remove(r.animationObject.tickerFunc),r.animationObject.setEndState(),this.unlockStageObject(r.targetKey??"default"),this.stageAnimations.splice(t,1)}}removeAllAnimations(){for(;this.stageAnimations.length>0;)this.removeAnimationByIndex(0)}removeAnimation(t){const n=this.stageAnimations.findIndex(r=>r.key===t);this.removeAnimationByIndex(n)}removeAnimationWithSetEffects(t){var r,i,o;const n=this.stageAnimations.findIndex(a=>a.key===t);if(n>=0){const a=this.stageAnimations[n];(r=this.currentApp)==null||r.ticker.remove(a.animationObject.tickerFunc),a.animationObject.setEndState();const s=((o=(i=a.animationObject).getEndStateEffect)==null?void 0:o.call(i))??{};if(this.unlockStageObject(a.targetKey??"default"),a.targetKey&&this.getStageObjByKey(a.targetKey)){let l={target:a.targetKey,transform:s};W.dispatch(Ft.updateEffect(l))}this.stageAnimations.splice(n,1)}}performMouthSyncAnimation(t,n,r,i){var s;const o=(s=this.getStageObjByKey(t))==null?void 0:s.pixiContainer;if(!o)return;const a={open:n.mouthAnimation.open,half_open:n.mouthAnimation.halfOpen,closed:n.mouthAnimation.close};this.loadAsset(a[r],()=>{var f;const u=this.assetLoader.resources[a[r]].texture,l=(f=o==null?void 0:o.children)==null?void 0:f[0];!u||!l||(l.texture=u)})}performBlinkAnimation(t,n,r,i){var s;const o=(s=this.getStageObjByKey(t))==null?void 0:s.pixiContainer;if(!o)return;const a={open:n.blinkAnimation.open,closed:n.blinkAnimation.close};this.loadAsset(a[r],()=>{var f;const u=this.assetLoader.resources[a[r]].texture,l=(f=o==null?void 0:o.children)==null?void 0:f[0];!u||!l||(l.texture=u)})}addBg(t,n){var l,f;const r=this.assetLoader,i=new Ji;this.backgroundObjects.findIndex(d=>d.key===t)>=0&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(i);const s=si();this.backgroundObjects.push({uuid:s,key:t,pixiContainer:i,sourceUrl:n,sourceType:"img",sourceExt:this.getExtName(n)});const u=()=>{setTimeout(()=>{var p,m;const d=(m=(p=r.resources)==null?void 0:p[n])==null?void 0:m.texture;if(d&&this.getStageObjByUuid(s)){const v=d.width,_=d.height,y=this.stageWidth/v,x=this.stageHeight/_,b=Math.max(y,x),w=new Pi(d);w.scale.x=b,w.scale.y=b,w.anchor.set(.5),w.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(w)}},0)};this.cacheGC(),(f=(l=r.resources)==null?void 0:l[n])!=null&&f.texture?u():this.loadAsset(n,u)}addVideoBg(t,n){var l,f;const r=this.assetLoader,i=new Ji;this.backgroundObjects.findIndex(d=>d.key===t)>=0&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(i);const s=si();this.backgroundObjects.push({uuid:s,key:t,pixiContainer:i,sourceUrl:n,sourceType:"video",sourceExt:this.getExtName(n)});const u=()=>{setTimeout(()=>{console.debug("start loaded video: "+n);const d=document.createElement("video"),p=new Hy(d);p.src=n,p.source.preload="auto",p.source.muted=!0,p.source.loop=!0,p.source.autoplay=!0,p.source.src=n;const m=We.from(p);m&&this.getStageObjByUuid(s)&&m.baseTexture.resource.load().then(()=>{const v=p.source.videoWidth,_=p.source.videoHeight,y=this.stageWidth/v,x=this.stageHeight/_,b=Math.max(y,x),w=new Pi(m);w.scale.x=b,w.scale.y=b,w.anchor.set(.5),w.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(w)})},0)};this.cacheGC(),(f=(l=r.resources)==null?void 0:l[n])!=null&&f.texture?u():this.loadAsset(n,u)}addFigure(t,n,r="center"){var d,p;const i=this.assetLoader,o=new Ji;this.figureObjects.findIndex(m=>m.key===t)>=0&&this.removeStageObjectByKey(t);const u=this.getFigureMetadataByKey(t);u&&u.zIndex&&(o.zIndex=u.zIndex),this.figureContainer.addChild(o);const l=si();this.figureObjects.push({uuid:l,key:t,pixiContainer:o,sourceUrl:n,sourceType:"img",sourceExt:this.getExtName(n)});const f=()=>{setTimeout(()=>{var v,_;const m=(_=(v=i.resources)==null?void 0:v[n])==null?void 0:_.texture;if(m&&this.getStageObjByUuid(l)){const y=m.width,x=m.height,b=this.stageWidth/y,w=this.stageHeight/x,T=Math.min(b,w),C=new Pi(m);C.scale.x=T,C.scale.y=T,C.anchor.set(.5),C.position.y=this.stageHeight/2;const O=y*T,A=x*T;o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+(this.stageHeight-A)/2),r==="center"&&o.setBaseX(this.stageWidth/2),r==="left"&&o.setBaseX(O/2),r==="right"&&o.setBaseX(this.stageWidth-O/2),o.pivot.set(0,this.stageHeight/2),o.addChild(C)}},0)};this.cacheGC(),(p=(d=i.resources)==null?void 0:d[n])!=null&&p.texture?f():this.loadAsset(n,f)}async addGifFigure(t,n,r="center"){const i=new Ji;this.figureObjects.findIndex(l=>l.key===t)>=0&&this.removeStageObjectByKey(t);const a=this.getFigureMetadataByKey(t);(a==null?void 0:a.zIndex)!==void 0&&(i.zIndex=a.zIndex);const s=(a==null?void 0:a.loop)??"true";this.figureContainer.addChild(i);const u=si();this.figureObjects.push({uuid:u,key:t,pixiContainer:i,sourceUrl:n,sourceType:"gif",sourceExt:"gif"});try{const l=await fetch(n).then(b=>b.arrayBuffer()),f=await qwe.fromBuffer(l),d=f.width,p=f.height,m=this.stageWidth/d,v=this.stageHeight/p,_=Math.min(m,v);f.scale.set(_),f.anchor.set(.5),f.position.y=this.stageHeight/2;const y=d*_,x=p*_;i.setBaseY(this.stageHeight/2),x<this.stageHeight&&i.setBaseY(this.stageHeight/2+(this.stageHeight-x)/2),r==="center"?i.setBaseX(this.stageWidth/2):r==="left"?i.setBaseX(y/2):r==="right"&&i.setBaseX(this.stageWidth-y/2),i.pivot.set(0,this.stageHeight/2),s==="true"?f.loop=!0:(f.loop=!1,f.onComplete=()=>{s==="false"?f.stop():s==="disappear"&&this.removeStageObjectByKey(t)}),f.play(),i.addChild(f)}catch(l){console.error("GIF ",l)}}async addJsonlFigure(t,n,r="center"){var C,O,A,M,D,B,G;if(console.log("(JSONL)"),!yl.isAvailable){console.warn("Live2D addJsonlFigure ");return}this.figureObjects.findIndex(U=>U.key===t)>=0&&this.removeStageObjectByKey(t);const o=new Ji,a=this.getFigureMetadataByKey(t);(a==null?void 0:a.zIndex)!==void 0&&(o.zIndex=a.zIndex),this.figureContainer.addChild(o);const s=si();this.figureObjects.push({uuid:s,key:t,pixiContainer:o,sourceUrl:n,sourceExt:"jsonl",sourceType:"live2d"});let u="";try{u=await(await fetch(n)).text()}catch(U){console.error(" JSONL ",n,U);return}const l=u.split(`
`).filter(Boolean),f=[];let d=null;const p=n.substring(0,n.lastIndexOf("/")+1),m=U=>{const H=String(U).replace(/^\.\//,"");return/^(https?:)?\/\//i.test(H)||H.startsWith("game/")?H:p+H};for(const U of l)try{const H=JSON.parse(U);if(H!=null&&H.motions||H!=null&&H.expressions){(H==null?void 0:H.import)!==void 0&&(d=Number(H.import),console.info(" import =",d));continue}if(H!=null&&H.path){const ee={path:m(H.path),id:H.id,x:H.x,y:H.y,xscale:H.xscale,yscale:H.yscale};Array.isArray(H.bounds)&&H.bounds.length===4&&(ee.bounds=[Number(H.bounds[0]),Number(H.bounds[1]),Number(H.bounds[2]),Number(H.bounds[3])]),f.push(ee)}}catch{console.warn("JSONL ",U)}if(f.length===0){console.warn("JSONL ",n);return}const v=W.getState().stage.live2dMotion.find(U=>U.target===t),_=W.getState().stage.live2dExpression.find(U=>U.target===t),y=(v==null?void 0:v.motion)??"",x=(_==null?void 0:_.expression)??"",b=[],w=this.stageWidth,T=this.stageHeight;for(const U of f){const{path:H,x:Q,y:ee,xscale:ne,yscale:ce,bounds:Ae}=U;try{const pe=await yl.Live2DModel.from(H,{autoInteract:!1,overWriteBounds:Ae?{x0:Ae[0],y0:Ae[1],x1:Ae[2],y1:Ae[3]}:void 0});if(!pe)continue;pe.visible=!1;const fe=w/pe.width,L=T/pe.height,Z=Math.min(fe,L),re=pe.width*Z,ae=pe.height*Z,le=Z*(ne??1),de=Z*(ce??1);if(pe.scale.set(le,de),pe.anchor.set(.5),pe.position.set(Q??0,T/2+(ee??0)),o.setBaseY(T/2),ae<T&&o.setBaseY(T/2+(T-ae)/2),r==="center"?o.setBaseX(w/2):r==="left"?o.setBaseX(re/2):r==="right"&&o.setBaseX(w-re/2),o.pivot.set(0,T/2),o.addChild(pe),b.push(pe),((C=pe.internalModel)==null?void 0:C.angleXParamIndex)!==void 0&&(pe.internalModel.angleXParamIndex=999),((O=pe.internalModel)==null?void 0:O.angleYParamIndex)!==void 0&&(pe.internalModel.angleYParamIndex=999),((A=pe.internalModel)==null?void 0:A.angleZParamIndex)!==void 0&&(pe.internalModel.angleZParamIndex=999),(M=pe.internalModel)!=null&&M.eyeBlink&&(pe.internalModel.eyeBlink.blinkInterval=1e3*60*60*24,pe.internalModel.eyeBlink.nextBlinkTimeLeft=1e3*60*60*24),d!==null)try{(G=(B=(D=pe.internalModel)==null?void 0:D.coreModel)==null?void 0:B.setParamFloat)==null||G.call(B,"PARAM_IMPORT",d),console.info(` PARAM_IMPORT=${d} ->`,H)}catch(ge){console.warn(` PARAM_IMPORT (${H})`,ge)}}catch(pe){console.warn(`${H}`,pe)}}for(const U of b)try{y&&U.motion(y,0,3),x&&U.expression(x),U.visible=!0}catch(H){console.warn(" motion/expression ",H)}y&&this.updateL2dMotionByKey(t,y),x&&this.updateL2dExpressionByKey(t,x)}addLive2dFigure(t,n,r){if(yl.isAvailable)try{let i=this.stageWidth,o=this.stageHeight;this.figureCash.push(n);const a=this.assetLoader,s=new Ji;this.figureObjects.findIndex(_=>_.key===t)>=0&&this.removeStageObjectByKey(t);const f=this.getFigureMetadataByKey(t);f&&f.zIndex&&(s.zIndex=f.zIndex),this.figureContainer.addChild(s);const d=si();this.figureObjects.push({uuid:d,key:t,pixiContainer:s,sourceUrl:n,sourceType:"live2d",sourceExt:"json"});const p=this,m=()=>{s&&this.getStageObjByUuid(d)&&async function(){let _=[0,0,0,0];const y=W.getState().stage.live2dMotion.find(b=>b.target===t);y!=null&&y.overrideBounds&&(_=y.overrideBounds),console.log(_),(await Promise.all([yl.Live2DModel.from(n,{autoInteract:!1,overWriteBounds:{x0:_[0],y0:_[1],x1:_[2],y1:_[3]}})])).forEach(b=>{var pe,fe,L;const w=i/b.width,T=o/b.height,C=Math.min(w,T),O=b.width*C,A=b.height*C;b.scale.x=C,b.scale.y=C,b.anchor.set(.5),b.pivot.x+=(_[0]+_[2])*.5,b.pivot.y+=(_[1]+_[3])*.5,b.position.x=0,b.position.y=o/2;let M=o/2;A<o&&(M=o/2+(o-A)/2),s.setBaseY(M),r==="center"?s.setBaseX(i/2):r==="left"?s.setBaseX(O/2):r==="right"&&s.setBaseX(i-O/2),s.pivot.set(0,o/2);let D=0,B=3,G="";const U=W.getState().stage.live2dMotion.find(Z=>Z.target===t);U&&(G=U.motion),p.updateL2dMotionByKey(t,G),b.motion(G,D,B);let H="";const Q=W.getState().stage.live2dExpression.find(Z=>Z.target===t);Q&&(H=Q.expression),p.updateL2dExpressionByKey(t,H),b.expression(H);let ee=Tl;const ne=W.getState().stage.live2dBlink.find(Z=>Z.target===t);ne&&(ee={...ee,...ne.blink}),p.updateL2dBlinkByKey(t,ee),(pe=b.internalModel)==null||pe.setBlinkParam(ee);let ce=Cl;const Ae=W.getState().stage.live2dFocus.find(Z=>Z.target===t);Ae&&(ce={...ce,...Ae.focus}),p.updateL2dFocusByKey(t,ce),(L=(fe=b.internalModel)==null?void 0:fe.focusController)==null||L.focus(ce.x,ce.y,ce.instant),yl.SoundManager.volume=0,s.addChild(b)})}()},v=Object.keys(a.resources);this.cacheGC(),v.includes(n)?m():this.loadAsset(n,()=>m())}catch(i){console.error("Live2d Module err: "+i),yl.isAvailable=!1}}addVideoFigure(t,n,r="center"){const i=new Ji;this.figureObjects.findIndex(l=>l.key===t)>=0&&this.removeStageObjectByKey(t);const a=this.getFigureMetadataByKey(t);(a==null?void 0:a.zIndex)!==void 0&&(i.zIndex=a.zIndex);const s=(a==null?void 0:a.loop)??"true";this.figureContainer.addChild(i);const u=si();this.figureObjects.push({uuid:u,key:t,pixiContainer:i,sourceUrl:n,sourceType:"video",sourceExt:this.getExtName(n)}),setTimeout(()=>{const l=document.createElement("video");l.src=n,l.crossOrigin="anonymous",l.muted=!0,l.autoplay=!0,l.playsInline=!0,l.preload="auto",s==="true"?l.loop=!0:(l.loop=!1,l.addEventListener("ended",()=>{if(s==="false")l.pause(),l.currentTime=l.duration;else if(s==="disappear"){this.removeStageObjectByKey(t);const p=W.dispatch;p(t==="fig-center"?we({key:"figName",value:""}):t==="fig-left"?we({key:"figNameLeft",value:""}):t==="fig-right"?we({key:"figNameRight",value:""}):Ft.setFreeFigureByKey({key:t,name:"",basePosition:"center"}))}}));const f=We.from(l),d=new Pi(f);l.onloadedmetadata=()=>{const p=l.videoWidth,m=l.videoHeight,v=this.stageWidth/p,_=this.stageHeight/m,y=Math.min(v,_);d.scale.set(y),d.anchor.set(.5),d.position.y=this.stageHeight/2;const x=p*y,b=m*y;i.setBaseY(this.stageHeight/2),b<this.stageHeight&&i.setBaseY(this.stageHeight/2+(this.stageHeight-b)/2),r==="center"?i.setBaseX(this.stageWidth/2):r==="left"?i.setBaseX(x/2):r==="right"&&i.setBaseX(this.stageWidth-x/2),i.pivot.set(0,this.stageHeight/2),i.addChild(d)},l.onerror=p=>{console.error("",p)}},0)}changeModelMotionByKey(t,n){var i,o;const r=this.figureObjects.find(a=>a.key===t&&!a.isExiting);if((r==null?void 0:r.sourceType)==="live2d"){const a=this.live2dFigureRecorder.find(s=>s.target===t);if(r&&(a==null?void 0:a.motion)!==n){const u=r.pixiContainer.children;for(const l of u){let f=n,d=0,p=3;const m=(l==null?void 0:l.internalModel)??void 0;(o=(i=m==null?void 0:m.motionManager)==null?void 0:i.stopAllMotions)==null||o.call(i),l.motion(f,d,p)}this.updateL2dMotionByKey(t,n)}}else(r==null?void 0:r.sourceType)==="spine"&&this.changeSpineAnimationByKey(t,n)}changeSpineAnimationByKey(t,n){var a;const r=this.figureObjects.find(s=>s.key===t&&!s.isExiting);if((r==null?void 0:r.sourceType)!=="spine")return;const o=r.pixiContainer.children[0];if((a=o==null?void 0:o.children)!=null&&a[0]){const s=o.children[0];if(s.state&&s.spineData){const u=s.spineData.animations.find(f=>f.name===n);let l=(r==null?void 0:r.spineAnimation)??"";u&&l!==n&&(console.log(`setting animation ${n}`),r.spineAnimation=n,s.state.setAnimation(0,n,!1))}}}changeModelExpressionByKey(t,n){const r=this.figureObjects.find(o=>o.key===t&&!o.isExiting);if((r==null?void 0:r.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(o=>o.target===t);if(r&&(i==null?void 0:i.expression)!==n){const a=r.pixiContainer.children;for(const s of a)s.expression(n);this.updateL2dExpressionByKey(t,n)}}changeModelBlinkByKey(t,n){var o,a;const r=this.figureObjects.find(s=>s.key===t&&!s.isExiting);if((r==null?void 0:r.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===t);if(r&&!GN.isEqual(i==null?void 0:i.blink,n)){const u=r.pixiContainer.children;let l={...Tl,...n};i!=null&&i.blink&&(l={...Pt(i.blink),...n});for(const f of u)(a=(o=f==null?void 0:f.internalModel)==null?void 0:o.setBlinkParam)==null||a.call(o,l);this.updateL2dBlinkByKey(t,l)}}changeModelFocusByKey(t,n){var o;const r=this.figureObjects.find(a=>a.key===t&&!a.isExiting);if((r==null?void 0:r.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===t);if(r&&!GN.isEqual(i==null?void 0:i.focus,n)){const s=r.pixiContainer.children;let u={...Cl,...n};i!=null&&i.focus&&(u={...Pt(i.focus),...n});for(const l of s)(o=l==null?void 0:l.internalModel)==null||o.focusController.focus(u.x,u.y,u.instant);this.updateL2dFocusByKey(t,u)}}setModelMouthY(t,n){var a,s,u,l,f,d,p,m,v;function r(_){return _<50?0:(_-50)/50}const i=r(n),o=this.figureObjects.find(_=>_.key===t);if(o&&o.sourceType==="live2d"){const y=o.pixiContainer.children;for(const x of y)x!=null&&x.internalModel&&((s=(a=x==null?void 0:x.internalModel)==null?void 0:a.coreModel)!=null&&s.setParamFloat&&((f=(l=(u=x==null?void 0:x.internalModel)==null?void 0:u.coreModel)==null?void 0:l.setParamFloat)==null||f.call(l,"PARAM_MOUTH_OPEN_Y",i)),(p=(d=x==null?void 0:x.internalModel)==null?void 0:d.coreModel)!=null&&p.setParameterValueById&&((v=(m=x==null?void 0:x.internalModel)==null?void 0:m.coreModel)==null||v.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(t){const n=this.itemObjects.find(r=>r.key===t);return n||[...this.figureObjects,...this.backgroundObjects,this.mainStageObject].find(r=>r.key===t)}getItemObjByKey(t){return this.itemObjects.find(n=>n.key===t)}getStageObjByUuid(t){return[...this.figureObjects,...this.backgroundObjects,this.mainStageObject].find(n=>n.uuid===t)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects,...this.itemObjects,this.mainStageObject]}removeStageObjectByKey(t){const n=this.figureObjects.findIndex(i=>i.key===t),r=this.backgroundObjects.findIndex(i=>i.key===t);if(n>=0){const i=this.figureObjects[n];for(const o of i.pixiContainer.children)o.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(n,1)}if(r>=0){const i=this.backgroundObjects[r];for(const o of i.pixiContainer.children)o.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(r,1)}}removeItemObjectByKey(t){const n=this.itemObjects.findIndex(r=>r.key===t);if(n>=0){const r=this.itemObjects[n];for(const i of r.pixiContainer.children)i.destroy();r.pixiContainer.destroy(),this.itemContainer.removeChild(r.pixiContainer),this.itemObjects.splice(n,1)}this.updateItemContainerPointerEvents()}updateItemContainerPointerEvents(){const t=document.getElementById("itemContainer");if(t){const n=t.querySelector("canvas");n?this.itemObjects.length>0?(n.style.pointerEvents="auto",he.debug(`ItemContainer:  canvas pointer-events item : ${this.itemObjects.length}`)):(n.style.pointerEvents="none",he.debug("ItemContainer:  canvas pointer-events")):he.warn("ItemContainer:  canvas ")}else he.warn("ItemContainer:  itemContainer ")}addItem(t,n,r="center"){var d,p;if(!this.itemApp){he.warn("Item App ");return}const i=this.itemApp.loader,o=new Ji;this.itemObjects.findIndex(m=>m.key===t)>=0&&this.removeItemObjectByKey(t);const u=this.getFigureMetadataByKey(t);u&&u.zIndex&&(o.zIndex=u.zIndex),this.itemContainer.addChild(o);const l=si();this.itemObjects.push({uuid:l,key:t,pixiContainer:o,sourceUrl:n,sourceType:"img",sourceExt:this.getExtName(n)}),this.updateItemContainerPointerEvents();const f=()=>{setTimeout(()=>{var v,_;const m=(_=(v=i.resources)==null?void 0:v[n])==null?void 0:_.texture;if(m&&this.getItemObjByKey(t)){const y=m.width,x=m.height,b=this.stageWidth/y,w=this.stageHeight/x,T=Math.min(b,w),C=new Pi(m);C.interactive=!0,C.buttonMode=!0,C.cursor="pointer",C.scale.x=T,C.scale.y=T,C.anchor.set(.5),C.position.y=this.stageHeight/2;const O=y*T,A=x*T;o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+(this.stageHeight-A)/2),r==="center"&&o.setBaseX(this.stageWidth/2),r==="left"&&o.setBaseX(O/2),r==="right"&&o.setBaseX(this.stageWidth-O/2),o.pivot.set(0,this.stageHeight/2),o.addChild(C),this.updateItemContainerPointerEvents()}},0)};(p=(d=i.resources)==null?void 0:d[n])!=null&&p.texture?f():i.add(n,n).load(()=>{f()})}cacheGC(){aj()}getExtName(t){return t.split(".").pop()??"png"}getFigureMetadataByKey(t){return console.log(t,W.getState().stage.figureMetaData),W.getState().stage.figureMetaData[t]}loadAsset(t,n,r){this.loadQueue.unshift({url:t,callback:n,name:r}),this.callLoader()}updateL2dMotionByKey(t,n){const r=this.live2dFigureRecorder.findIndex(i=>i.target===t);r>=0?this.live2dFigureRecorder[r].motion=n:this.live2dFigureRecorder.push({target:t,motion:n,expression:"",blink:Tl,focus:Cl})}updateL2dExpressionByKey(t,n){const r=this.live2dFigureRecorder.findIndex(i=>i.target===t);r>=0?this.live2dFigureRecorder[r].expression=n:this.live2dFigureRecorder.push({target:t,motion:"",expression:n,blink:Tl,focus:Cl})}updateL2dBlinkByKey(t,n){const r=this.live2dFigureRecorder.findIndex(i=>i.target===t);r>=0?this.live2dFigureRecorder[r].blink=n:this.live2dFigureRecorder.push({target:t,motion:"",expression:"",blink:n,focus:Cl})}updateL2dFocusByKey(t,n){const r=this.live2dFigureRecorder.findIndex(i=>i.target===t);r>=0?this.live2dFigureRecorder[r].focus=n:this.live2dFigureRecorder.push({target:t,motion:"",expression:"",blink:Tl,focus:n})}callLoader(){if(!this.assetLoader.loading){const t=this.loadQueue.shift();if(t)try{this.assetLoader.resources[t.url]?(t.callback(),this.callLoader()):t.name?this.assetLoader.add(t.name,t.url).load(()=>{t.callback(),this.callLoader()}):this.assetLoader.add(t.url).load(()=>{t.callback(),this.callLoader()})}catch(n){he.fatal("PIXI Loader ",n),t.callback(),this.callLoader()}}}updateFps(){qb==null||qb(120).then(t=>{this.frameDuration=1e3/t})}lockStageObject(t){this.lockTransformTarget.push(t)}unlockStageObject(t){const n=this.lockTransformTarget.findIndex(r=>r===t);n>=0&&this.lockTransformTarget.splice(n,1)}async initialize(){try{const{figureCash:t}=await zh(()=>import("./conentsCash-75763c1a.js"),[],import.meta.url);this.figureCash=t}catch(t){console.error("Failed to load figureCash:",t)}}}const qb=(()=>{const e=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(t=>t);if(!e){console.error("requestAnimationFrame is not supported!");return}return(t=60)=>{if(t<1)throw new Error("targetCount cannot be less than 1.");const n=Date.now();let r=0;return new Promise(i=>{(function o(){e(()=>{if(++r>=t){const a=Date.now()-n,s=r/a*1e3;return i(s)}o()})})()})}})();function Ywe(e,t,n){for(const x of e);const r=I.gameplay.pixiStage.getStageObjByKey(t);let i=0;const o=[],a=[],s=[];for(let x=0;x<e.length;x++){const b=e[x],w=b.duration;i+=w;const{position:T,scale:C,...O}=b;o.push({x:T.x,y:T.y,scaleX:C.x,scaleY:C.y,...O}),x>0&&a.push(Jwe(b.ease)),n!==0?s.push(i/n):s.push(0)}const u=r==null?void 0:r.pixiContainer;let l=null;n>0&&(l=Jce({to:o,offset:s,duration:n,ease:a,onUpdate:x=>{if(u){const{scaleX:b,scaleY:w,...T}=x;Mo.assignTransform(u,ub(T,na)),na(b)||(u.scale.x=b),na(w)||(u.scale.y=w)}}}));const{duration:f,...d}=y();W.dispatch(Ft.updateEffect({target:t,transform:d}));function p(){if(r!=null&&r.pixiContainer){const{position:x,scale:b,...w}=_(),T=ub({x:x.x,y:x.y,...w},na);Mo.assignTransform(r==null?void 0:r.pixiContainer,T),r!=null&&r.pixiContainer&&(na(b.x)||(r.pixiContainer.scale.x=b.x),na(b==null?void 0:b.y)||(r.pixiContainer.scale.y=b.y))}}function m(){if(l&&l.stop(),l=null,r!=null&&r.pixiContainer){const{position:x,scale:b,...w}=y(),T=ub({x:x.x,y:x.y,...w},na);Mo.assignTransform(r==null?void 0:r.pixiContainer,T),r!=null&&r.pixiContainer&&(na(b.x)||(r.pixiContainer.scale.x=b.x),na(b==null?void 0:b.y)||(r.pixiContainer.scale.y=b.y))}}function v(x){}function _(){return e[0]}function y(){return e[e.length-1]}return{setStartState:p,setEndState:m,tickerFunc:v,getEndStateEffect:y}}const Jwe=e=>{let t=gS;switch(e){case"easeInOut":{t=gS;break}case"easeIn":{t=sC;break}case"easeOut":{t=Tce;break}case"circInOut":{t=Cce;break}case"circIn":{t=cB;break}case"circOut":{t=fB;break}case"backInOut":{t=Ace;break}case"backIn":{t=uC;break}case"backOut":{t=Oce;break}case"bounceInOut":{t=Lce;break}case"bounceIn":{t=Nce;break}case"bounceOut":{t=Xv;break}case"linear":{t=Ece;break}case"anticipate":{t=Pce;break}}return t};function Zwe(e,t){const n=I.gameplay.pixiStage.getStageObjByKey(e);function r(){n&&(n.pixiContainer.alpha=0,n.pixiContainer.blur=0)}function i(){n&&(n.pixiContainer.alpha=1,n.pixiContainer.blur=5)}function o(a){if(n){const s=n.pixiContainer,u=I.gameplay.pixiStage.frameDuration,l=t/u*a,f=1/l,d=5/l;s.alpha<1&&(s.alpha+=f),s.blur<5&&(s.blur+=d)}}return{setStartState:r,setEndState:i,tickerFunc:o}}class Qwe extends Qe{constructor(t=0,n=10){const r=`
precision mediump float;
varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float progress;
uniform float numBlinds;

void main() {
    float strip = fract(vTextureCoord.x * numBlinds);
    if (strip < progress) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
    `;super(null,r),this.uniforms.progress=t,this.uniforms.numBlinds=n}set progress(t){this.uniforms.progress=t}get progress(){return this.uniforms.progress}set numBlinds(t){this.uniforms.numBlinds=t}get numBlinds(){return this.uniforms.numBlinds}}function eEe(e,t){const n=I.gameplay.pixiStage.getStageObjByKey(e);let r=null,i=!1;function o(){n&&(r&&(n.pixiContainer.filters=(n.pixiContainer.filters||[]).filter(l=>l!==r)),r=new Qwe(0,16),n.pixiContainer.filters=[...n.pixiContainer.filters||[],r],n.pixiContainer.alpha=0,i=!1)}function a(){s()}function s(){!n||!r||i||(r.progress=1,n.pixiContainer.alpha=1,n.pixiContainer.filters=(n.pixiContainer.filters||[]).filter(l=>l!==r),i=!0)}function u(l){if(!n||!r||i)return;const f=I.gameplay.pixiStage.frameDuration;n.pixiContainer.alpha=1;const p=1/(t/f*l);r.progress+=p,r.progress>=1&&s()}return{setStartState:o,setEndState:a,tickerFunc:u}}const fO=[{name:"universalSoftIn",animationGenerateFunc:z3},{name:"universalSoftOff",animationGenerateFunc:H3},{name:"testblur",animationGenerateFunc:Zwe},{name:"blindsIn",animationGenerateFunc:eEe}];function sd(e,t,n,r){const i=fO.find(a=>a.name===e);if(i)return i.animationGenerateFunc(t,n);const o=I.animationManager.getAnimations().find(a=>a.name===e);if(o){const a=o.effects.map(s=>{const u=W.getState().stage.effects.find(f=>f.target===t);let l;return!r&&u&&u.transform?l=Pt({...u.transform,duration:0,ease:""}):l=Pt({...TT,duration:0,ease:""}),Mo.assignTransform(l,s),l.duration=s.duration,l.ease=s.ease,l});return he.debug("",a),Ywe(a,t,n)}return null}function li(e){if(fO.find(r=>r.name===e))return 1e3;const n=I.animationManager.getAnimations().find(r=>r.name===e);if(n){let r=0;return n.effects.forEach(i=>{r+=i.duration}),r}return 0}function Xa(e,t,n=!1,r){if(t==="enter"){let i=500;n&&(i=1500);let o=z3(r??e,i);const s=W.getState().stage.effects.find(l=>l.target===e),u=I.animationManager.nextEnterAnimationName.get(e);return u&&!s&&(he.debug("",e),i=I.animationManager.nextEnterAnimationDuration.get(e)??li(u),o=sd(u,r??e,i,!1),I.animationManager.nextEnterAnimationName.delete(e),I.animationManager.nextEnterAnimationDuration.delete(e)),{duration:i,animation:o}}else{let i=750;n&&(i=1500);let o=H3(r??e,i);const a=I.animationManager.nextExitAnimationName.get(e);return a&&(he.debug("",e),i=I.animationManager.nextExitAnimationDuration.get(e)??li(a),o=sd(a,r??e,i,!1),I.animationManager.nextExitAnimationName.delete(e),I.animationManager.nextExitAnimationDuration.delete(e)),{duration:i,animation:o}}}const tEe=e=>{const t=e.content,n=Ne(e,"unlockname")??"",r=Ne(e,"series")??"default",i=Ne(e,"transform");let o=Yr(e,"duration")??1e3;const a=Ne(e,"ease")??"",s=Ne(e,"type")??"default";let u;const l=Ne(e,"lut");if(l!==null){const v=l?ln(l,un.lut):"";W.dispatch(we({key:"bgLut",value:v}))}const f=W.dispatch;if(n!==""&&f(u3({name:n,url:t,series:r})),W.getState().stage.bgName!==e.content&&f(Ft.removeEffectByTargetId("bg-main")),s==="blinds")I.animationManager.nextExitAnimationName.set("bg-main-off","universalSoftOff"),I.animationManager.nextExitAnimationDuration.set("bg-main-off",1e3),I.animationManager.nextEnterAnimationName.set("bg-main","blindsIn"),I.animationManager.nextEnterAnimationDuration.set("bg-main",1e3),o=1333;else if(i)try{const v=JSON.parse(i.toString());u=Uh("bg-main",v,o,a),u[0].alpha=0;const _=(Math.random()*10).toString(16),y={name:_,effects:u};I.animationManager.addAnimation(y),o=li(_),I.animationManager.nextEnterAnimationName.set("bg-main",_)}catch{d()}else d();function d(){u=Uh("bg-main",{},o,a),u[0].alpha=0;const _=(Math.random()*10).toString(16),y={name:_,effects:u};I.animationManager.addAnimation(y),o=li(_),I.animationManager.nextEnterAnimationName.set("bg-main",_)}const p=Ne(e,"enter"),m=Ne(e,"exit");return p&&(I.animationManager.nextEnterAnimationName.set("bg-main",p),o=li(p)),m&&(I.animationManager.nextExitAnimationName.set("bg-main-off",m),o=li(m)),f(we({key:"bgName",value:e.content})),{performName:`bg-main-${e.content}`,duration:o,isHoldOn:!1,stopFunction:()=>{var v;(v=I.gameplay.pixiStage)==null||v.stopPresetAnimationOnTarget("bg-main")},blockingNext:()=>s==="blinds",blockingAuto:()=>!0,stopTimeout:void 0}};function nEe(e){var L;let t=e.content;t===ac&&(t=""),At(e,"clear")&&(t="");let n="center";const r=At(e,"left")??!1,i=At(e,"right")??!1;r&&(n="left"),i&&(n="right");let o=Ne(e,"id")??"";const a=!!o,s=o||`fig-${n}`;let u=Ne(e,"motion")??"",l=Ne(e,"expression")??"";const f=Ne(e,"bounds")??"";let d=rEe(f),p=null;const m=Ne(e,"blink");if(m)try{p=JSON.parse(m)}catch(Z){he.error("Failed to parse blink parameter:",Z)}let v=null;const _=Ne(e,"focus");if(_)try{v=JSON.parse(_)}catch(Z){he.error("Failed to parse focus parameter:",Z)}const y=ln(Ne(e,"mouthOpen")??"",un.figure),x=ln(Ne(e,"mouthClose")??"",un.figure),b=ln(Ne(e,"mouthHalfOpen")??"",un.figure),w=ln(Ne(e,"eyesOpen")??"",un.figure),T=ln(Ne(e,"eyesClose")??"",un.figure),C=Ne(e,"animationFlag")??"",O=Ne(e,"transform"),A=Ne(e,"ease")??"";let M=Yr(e,"duration")??50;const D=Ne(e,"enter"),B=Ne(e,"exit");let G=Yr(e,"zIndex")??-1;const U=Ne(e,"loop")??"true",H=Ne(e,"lut");console.log("[LUT Debug] changeFigure LUT arg:",{lutArg:H,lutArgType:typeof H,lutArgLength:H==null?void 0:H.length}),H!==null?H===""?(console.log("[LUT Debug] Setting lut to empty string to clear LUT"),W.dispatch(Ft.setFigureMetaData([s,"lut","",!1]))):(console.log("[LUT Debug] Setting lut to file path:",H),W.dispatch(Ft.setFigureMetaData([s,"lut",ln(H,un.lut),!1]))):console.log("[LUT Debug] No lut parameter, keeping existing LUT");const Q=W.dispatch,ne=W.getState().stage.figureAssociatedAnimation.filter(Z=>Z.targetId!==s),ce={targetId:s,animationFlag:C,mouthAnimation:{open:y,close:x,halfOpen:b},blinkAnimation:{open:w,close:T}};ne.push(ce),Q(we({key:"figureAssociatedAnimation",value:ne}));let Ae=!0;if(o!==""){const Z=W.getState().stage.freeFigure.find(re=>re.key===o);Z&&Z.name===e.content&&(Ae=!1)}else n==="center"&&W.getState().stage.figName===e.content&&(Ae=!1),n==="left"&&W.getState().stage.figNameLeft===e.content&&(Ae=!1),n==="right"&&W.getState().stage.figNameRight===e.content&&(Ae=!1);if(Ae){W.dispatch(Ft.removeEffectByTargetId(s));const Z=(L=I.gameplay.pixiStage)==null?void 0:L.getStageObjByKey(s);Z&&(Z.isExiting=!0)}const pe=(Z,re)=>{let ae;if(O){console.log(O);try{const de=JSON.parse(O);ae=Uh(Z,de,M,A);const ge=(Math.random()*10).toString(16),Ie={name:ge,effects:ae};I.animationManager.addAnimation(Ie),M=li(ge),I.animationManager.nextEnterAnimationName.set(Z,ge)}catch{le()}}else le();function le(){ae=Uh(Z,{},M,A);const ge=(Math.random()*10).toString(16),Ie={name:ge,effects:ae};I.animationManager.addAnimation(Ie),M=li(ge),I.animationManager.nextEnterAnimationName.set(Z,ge)}D&&(I.animationManager.nextEnterAnimationName.set(Z,D),M=li(D)),B&&(I.animationManager.nextExitAnimationName.set(Z+"-off",B),M=li(B))};function fe(){Ae?(d=d??[0,0,0,0],p=p??Pt(Tl),v=v??Pt(Cl),G=Math.max(G,0),Q(Ft.setLive2dMotion({target:o,motion:u,overrideBounds:d})),Q(Ft.setLive2dExpression({target:o,expression:l})),Q(Ft.setLive2dBlink({target:o,blink:p})),Q(Ft.setLive2dFocus({target:o,focus:v})),Q(Ft.setFigureMetaData([o,"zIndex",G,!1])),Q(Ft.setFigureMetaData([o,"loop",U,!1]))):((u||d)&&Q(Ft.setLive2dMotion({target:o,motion:u,overrideBounds:d})),l&&Q(Ft.setLive2dExpression({target:o,expression:l})))}if(a){const re=W.getState().stage.freeFigure.filter(le=>le.key===s).length;let ae="center";n==="center"&&(ae="center"),n==="left"&&(ae="left"),n==="right"&&(ae="right"),Q(re===0?Ft.setFreeFigureByKey({basePosition:ae,key:s,name:t}):Ft.setFreeFigureByKey({basePosition:ae,key:s,name:t})),pe(s),fe()}else n==="center"?(Q(we({key:"figName",value:t})),pe("fig-center")):n==="left"?(Q(we({key:"figNameLeft",value:t})),pe("fig-left")):n==="right"&&(Q(we({key:"figNameRight",value:t})),pe("fig-right")),fe();return{performName:`changeFigure-${e.content}`,duration:M,isHoldOn:!1,stopFunction:()=>{var Z;(Z=I.gameplay.pixiStage)==null||Z.stopPresetAnimationOnTarget(s)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}function rEe(e){if(!e)return;try{const n=JSON.parse(e);if(Array.isArray(n)&&n.length===4&&n.every(r=>typeof r=="number"))return n}catch{}const t=e.split(",").map(n=>Number(n.trim()));if(t.length===4&&t.every(n=>!isNaN(n)))return t}const Is=(e,t)=>{I.sceneManager.lockSceneWrite||(I.sceneManager.lockSceneWrite=!0,Ho(e).then(n=>{I.sceneManager.sceneData.currentScene=fo(n,t,e),I.sceneManager.sceneData.currentSentenceId=0;const r=I.sceneManager.sceneData.currentScene.subSceneList;I.sceneManager.settledScenes.push(e);const i=wd(r);Ed(i),he.debug("",I.sceneManager.sceneData),I.sceneManager.lockSceneWrite=!1,wr()}).catch(n=>{he.error("",n),I.sceneManager.lockSceneWrite=!1}))},iEe=Object.freeze(Object.defineProperty({__proto__:null,changeScene:Is},Symbol.toStringTag,{value:"Module"})),oEe=e=>{const t=e.content.split("/"),n=t[t.length-1];return Is(e.content,n),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Bu=e=>{const t=I.sceneManager.sceneData.currentSentenceId;let n=t;I.sceneManager.sceneData.currentScene.sentenceList.forEach((r,i)=>{r.command===Ye.label&&r.content===e&&i!==t&&(n=i)}),I.sceneManager.sceneData.currentSentenceId=n,setTimeout(wr,1)},aEe=Object.freeze(Object.defineProperty({__proto__:null,jmp:Bu},Symbol.toStringTag,{value:"Module"})),sEe="_Choose_Main_1gzp1_1",uEe="_Choose_item_1gzp1_14",lEe="_Choose_item_disabled_1gzp1_37",cEe="_Choose_item_outer_1gzp1_61",fEe="_Choose_skeleton_1gzp1_68",Bf={Choose_Main:sEe,Choose_item:uEe,Choose_item_disabled:lEe,Choose_item_outer:cEe,Choose_skeleton:fEe},hEe=""+new URL("open_media-9070601b.ogg",import.meta.url).href,dEe=""+new URL("open_gearbutton-5a28dea7.ogg",import.meta.url).href,pEe=""+new URL("close_pedia-55391279.ogg",import.meta.url).href,mEe=""+new URL("close_gearbutton-e12ba382.ogg",import.meta.url).href,e4=""+new URL("choose-4e4dd788.ogg",import.meta.url).href,vEe=""+new URL("pedia_choose-77fe0e36.ogg",import.meta.url).href,hg=""+new URL("right_click-578996a0.ogg",import.meta.url).href,yn=()=>{const e=on();return{playSeEnter:()=>{},playSeClick:()=>{e(we({key:"uiSe",value:e4}))},playSeRightClick:()=>{W.dispatch(we({key:"uiSe",value:hg}))},playSeCancel:()=>{W.dispatch(we({key:"uiSe",value:hg}))},playSeManopedia:()=>{W.dispatch(we({key:"uiSe",value:hEe}))},playSeGear:()=>{W.dispatch(we({key:"uiSe",value:dEe}))},playSeCloseGear:()=>{W.dispatch(we({key:"uiSe",value:mEe}))},playSeCloseManopedia:()=>{W.dispatch(we({key:"uiSe",value:pEe}))},playSePediaChoose:()=>{W.dispatch(we({key:"uiSe",value:vEe}))},playSePageChange:()=>{},playSeDialogOpen:()=>{},playSeSwitch:()=>{}}},Gc=()=>({playSeEnter:()=>{},playSeClick:()=>{W.dispatch(we({key:"uiSe",value:e4}))},playSeRightClick:()=>{W.dispatch(we({key:"uiSe",value:hg}))},playSeCancel:()=>{W.dispatch(we({key:"uiSe",value:hg}))}}),gEe=[{reg:/\\\\/g,val:"\\"},{reg:/\\\|/g,val:"|"},{reg:/\\:/g,val:":"},{reg:/\\,/g,val:","},{reg:/\\;/g,val:";"},{reg:/\\./g,val:"."}],Jy=e=>{let t=e;for(let n of gEe)t=t.replaceAll(n.reg,n.val);return t};function yEe(e){return Hc.parseScssToWebgalStyleObj(e)}function ao(e){const[t,n]=q.useState(e);return{_value:t,set:function(r){this._value=r,n(r)},get value(){return this._value},set value(r){this.set(r)}}}function _Ee(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function xEe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var bEe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xEe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=_Ee(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),pr="-ms-",dg="-moz-",Et="-webkit-",t4="comm",hO="rule",dO="decl",SEe="@import",n4="@keyframes",wEe="@layer",EEe=Math.abs,Zy=String.fromCharCode,TEe=Object.assign;function CEe(e,t){return ar(e,0)^45?(((t<<2^ar(e,0))<<2^ar(e,1))<<2^ar(e,2))<<2^ar(e,3):0}function r4(e){return e.trim()}function OEe(e,t){return(e=t.exec(e))?e[0]:e}function Tt(e,t,n){return e.replace(t,n)}function tE(e,t){return e.indexOf(t)}function ar(e,t){return e.charCodeAt(t)|0}function ud(e,t,n){return e.slice(t,n)}function To(e){return e.length}function pO(e){return e.length}function Om(e,t){return t.push(e),e}function AEe(e,t){return e.map(t).join("")}var Qy=1,_c=1,i4=0,Zr=0,Pn=0,zc="";function e_(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Qy,column:_c,length:a,return:""}}function jf(e,t){return TEe(e_("",null,null,"",null,null,0),e,{length:-e.length},t)}function PEe(){return Pn}function IEe(){return Pn=Zr>0?ar(zc,--Zr):0,_c--,Pn===10&&(_c=1,Qy--),Pn}function fi(){return Pn=Zr<i4?ar(zc,Zr++):0,_c++,Pn===10&&(_c=1,Qy++),Pn}function Fo(){return ar(zc,Zr)}function nv(){return Zr}function kd(e,t){return ud(zc,e,t)}function ld(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function o4(e){return Qy=_c=1,i4=To(zc=e),Zr=0,[]}function a4(e){return zc="",e}function rv(e){return r4(kd(Zr-1,nE(e===91?e+2:e===40?e+1:e)))}function REe(e){for(;(Pn=Fo())&&Pn<33;)fi();return ld(e)>2||ld(Pn)>3?"":" "}function kEe(e,t){for(;--t&&fi()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return kd(e,nv()+(t<6&&Fo()==32&&fi()==32))}function nE(e){for(;fi();)switch(Pn){case e:return Zr;case 34:case 39:e!==34&&e!==39&&nE(Pn);break;case 40:e===41&&nE(e);break;case 92:fi();break}return Zr}function NEe(e,t){for(;fi()&&e+Pn!==47+10;)if(e+Pn===42+42&&Fo()===47)break;return"/*"+kd(t,Zr-1)+"*"+Zy(e===47?e:fi())}function LEe(e){for(;!ld(Fo());)fi();return kd(e,Zr)}function MEe(e){return a4(iv("",null,null,null,[""],e=o4(e),0,[0],e))}function iv(e,t,n,r,i,o,a,s,u){for(var l=0,f=0,d=a,p=0,m=0,v=0,_=1,y=1,x=1,b=0,w="",T=i,C=o,O=r,A=w;y;)switch(v=b,b=fi()){case 40:if(v!=108&&ar(A,d-1)==58){tE(A+=Tt(rv(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:A+=rv(b);break;case 9:case 10:case 13:case 32:A+=REe(v);break;case 92:A+=kEe(nv()-1,7);continue;case 47:switch(Fo()){case 42:case 47:Om(FEe(NEe(fi(),nv()),t,n),u);break;default:A+="/"}break;case 123*_:s[l++]=To(A)*x;case 125*_:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+f:x==-1&&(A=Tt(A,/\f/g,"")),m>0&&To(A)-d&&Om(m>32?HN(A+";",r,n,d-1):HN(Tt(A," ","")+";",r,n,d-2),u);break;case 59:A+=";";default:if(Om(O=zN(A,t,n,l,f,i,s,w,T=[],C=[],d),o),b===123)if(f===0)iv(A,t,O,O,T,o,d,s,C);else switch(p===99&&ar(A,3)===110?100:p){case 100:case 108:case 109:case 115:iv(e,O,O,r&&Om(zN(e,O,O,0,0,i,s,w,i,T=[],d),C),i,C,d,s,r?T:C);break;default:iv(A,O,O,O,[""],C,0,s,C)}}l=f=m=0,_=x=1,w=A="",d=a;break;case 58:d=1+To(A),m=v;default:if(_<1){if(b==123)--_;else if(b==125&&_++==0&&IEe()==125)continue}switch(A+=Zy(b),b*_){case 38:x=f>0?1:(A+="\f",-1);break;case 44:s[l++]=(To(A)-1)*x,x=1;break;case 64:Fo()===45&&(A+=rv(fi())),p=Fo(),f=d=To(w=A+=LEe(nv())),b++;break;case 45:v===45&&To(A)==2&&(_=0)}}return o}function zN(e,t,n,r,i,o,a,s,u,l,f){for(var d=i-1,p=i===0?o:[""],m=pO(p),v=0,_=0,y=0;v<r;++v)for(var x=0,b=ud(e,d+1,d=EEe(_=a[v])),w=e;x<m;++x)(w=r4(_>0?p[x]+" "+b:Tt(b,/&\f/g,p[x])))&&(u[y++]=w);return e_(e,t,n,i===0?hO:s,u,l,f)}function FEe(e,t,n){return e_(e,t,n,t4,Zy(PEe()),ud(e,2,-2),0)}function HN(e,t,n,r){return e_(e,t,n,dO,ud(e,0,r),ud(e,r+1,-1),r)}function Jl(e,t){for(var n="",r=pO(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function DEe(e,t,n,r){switch(e.type){case wEe:if(e.children.length)break;case SEe:case dO:return e.return=e.return||e.value;case t4:return"";case n4:return e.return=e.value+"{"+Jl(e.children,r)+"}";case hO:e.value=e.props.join(",")}return To(n=Jl(e.children,r))?e.return=e.value+"{"+n+"}":""}function BEe(e){var t=pO(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function jEe(e){return function(t){t.root||(t=t.return)&&e(t)}}function $Ee(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var UEe=function(t,n,r){for(var i=0,o=0;i=o,o=Fo(),i===38&&o===12&&(n[r]=1),!ld(o);)fi();return kd(t,Zr)},GEe=function(t,n){var r=-1,i=44;do switch(ld(i)){case 0:i===38&&Fo()===12&&(n[r]=1),t[r]+=UEe(Zr-1,n,r);break;case 2:t[r]+=rv(i);break;case 4:if(i===44){t[++r]=Fo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Zy(i)}while(i=fi());return t},zEe=function(t,n){return a4(GEe(o4(t),n))},VN=new WeakMap,HEe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!VN.get(r))&&!i){VN.set(t,!0);for(var o=[],a=zEe(n,o),s=r.props,u=0,l=0;u<a.length;u++)for(var f=0;f<s.length;f++,l++)t.props[l]=o[u]?a[u].replace(/&\f/g,s[f]):s[f]+" "+a[u]}}},VEe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function s4(e,t){switch(CEe(e,t)){case 5103:return Et+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+e+dg+e+pr+e+e;case 6828:case 4268:return Et+e+pr+e+e;case 6165:return Et+e+pr+"flex-"+e+e;case 5187:return Et+e+Tt(e,/(\w+).+(:[^]+)/,Et+"box-$1$2"+pr+"flex-$1$2")+e;case 5443:return Et+e+pr+"flex-item-"+Tt(e,/flex-|-self/,"")+e;case 4675:return Et+e+pr+"flex-line-pack"+Tt(e,/align-content|flex-|-self/,"")+e;case 5548:return Et+e+pr+Tt(e,"shrink","negative")+e;case 5292:return Et+e+pr+Tt(e,"basis","preferred-size")+e;case 6060:return Et+"box-"+Tt(e,"-grow","")+Et+e+pr+Tt(e,"grow","positive")+e;case 4554:return Et+Tt(e,/([^-])(transform)/g,"$1"+Et+"$2")+e;case 6187:return Tt(Tt(Tt(e,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),e,"")+e;case 5495:case 3959:return Tt(e,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Tt(Tt(e,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+e+e;case 4095:case 3583:case 4068:case 2532:return Tt(e,/(.+)-inline(.+)/,Et+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(To(e)-1-t>6)switch(ar(e,t+1)){case 109:if(ar(e,t+4)!==45)break;case 102:return Tt(e,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+dg+(ar(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~tE(e,"stretch")?s4(Tt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ar(e,t+1)!==115)break;case 6444:switch(ar(e,To(e)-3-(~tE(e,"!important")&&10))){case 107:return Tt(e,":",":"+Et)+e;case 101:return Tt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(ar(e,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+pr+"$2box$3")+e}break;case 5936:switch(ar(e,t+11)){case 114:return Et+e+pr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Et+e+pr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Et+e+pr+Tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Et+e+pr+e+e}return e}var WEe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case dO:t.return=s4(t.value,t.length);break;case n4:return Jl([jf(t,{value:Tt(t.value,"@","@"+Et)})],i);case hO:if(t.length)return AEe(t.props,function(o){switch(OEe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jl([jf(t,{props:[Tt(o,/:(read-\w+)/,":"+dg+"$1")]})],i);case"::placeholder":return Jl([jf(t,{props:[Tt(o,/:(plac\w+)/,":"+Et+"input-$1")]}),jf(t,{props:[Tt(o,/:(plac\w+)/,":"+dg+"$1")]}),jf(t,{props:[Tt(o,/:(plac\w+)/,pr+"input-$1")]})],i)}return""})}},XEe=[WEe],qEe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var y=_.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||XEe,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var y=_.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)o[y[x]]=!0;s.push(_)});var u,l=[HEe,VEe];{var f,d=[DEe,jEe(function(_){f.insert(_)})],p=BEe(l.concat(i,d)),m=function(y){return Jl(MEe(y),p)};u=function(y,x,b,w){f=b,m(y?y+"{"+x.styles+"}":x.styles),w&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new bEe({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:u};return v.sheet.hydrate(s),v};function KEe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var YEe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JEe=/[A-Z]|^ms/g,ZEe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u4=function(t){return t.charCodeAt(1)===45},WN=function(t){return t!=null&&typeof t!="boolean"},Kb=$Ee(function(e){return u4(e)?e:e.replace(JEe,"-$&").toLowerCase()}),XN=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(ZEe,function(r,i,o){return Co={name:i,styles:o,next:Co},i})}return YEe[t]!==1&&!u4(t)&&typeof n=="number"&&n!==0?n+"px":n};function cd(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Co={name:n.name,styles:n.styles,next:Co},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Co={name:r.name,styles:r.styles,next:Co},r=r.next;var i=n.styles+";";return i}return QEe(e,t,n)}case"function":{if(e!==void 0){var o=Co,a=n(e);return Co=o,cd(e,t,a)}break}}if(t==null)return n;var s=t[n];return s!==void 0?s:n}function QEe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=cd(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":WN(a)&&(r+=Kb(o)+":"+XN(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)WN(a[s])&&(r+=Kb(o)+":"+XN(o,a[s])+";");else{var u=cd(e,t,a);switch(o){case"animation":case"animationName":{r+=Kb(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var qN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Co,Yb=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Co=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=cd(r,n,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=cd(r,n,t[s]),i&&(o+=a[s]);qN.lastIndex=0;for(var u="",l;(l=qN.exec(o))!==null;)u+="-"+l[1];var f=KEe(o)+u;return{name:f,styles:o,next:Co}},eTe=!0;function l4(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var tTe=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||eTe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},nTe=function(t,n,r){tTe(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function KN(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function YN(e,t,n){var r=[],i=l4(e,r,n);return r.length<2?n:i+t(r)}var rTe=function(t){var n=qEe(t);n.sheet.speedy=function(s){this.isSpeedy=s},n.compat=!0;var r=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var d=Yb(l,n.registered,void 0);return nTe(n,d,!1),n.key+"-"+d.name},i=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var d=Yb(l,n.registered),p="animation-"+d.name;return KN(n,{name:d.name,styles:"@keyframes "+p+"{"+d.styles+"}"}),p},o=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var d=Yb(l,n.registered);KN(n,d)},a=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];return YN(n.registered,r,iTe(l))};return{css:r,cx:a,injectGlobal:o,keyframes:i,hydrate:function(u){u.forEach(function(l){n.inserted[l]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:l4.bind(null,n.registered),merge:YN.bind(null,n.registered,r)}},iTe=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=e(i);else{o="";for(var a in i)i[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},c4=rTe({key:"css"}),oTe=c4.injectGlobal,ov=c4.css;function t_(e){const t=ao({classNameStyles:{},others:""}),n=Le(o=>o.stage.replacedUIlable),r=(o,a)=>{var u;const s=(n==null?void 0:n[o])??o;if(Object.keys(t.value.classNameStyles).includes(s)){const l=ov(((u=t.value.classNameStyles)==null?void 0:u[s])??"");return`${a} ${l}`}return a},i=async()=>{he.debug(" Scss ",e);const a=(await lc.get(`game/template/${e}`)).data;t.set(yEe(a))};return q.useEffect(()=>{i()},[]),q.useEffect(()=>{oTe(t.value.others)},[t.value.others]),aTe(i),r}function aTe(e){const t=()=>{e()};q.useEffect(()=>(I.events.styleUpdate.on(t),()=>I.events.styleUpdate.off(t)),[])}const JN=""+new URL("choose01-7fac2295.png",import.meta.url).href,sTe=""+new URL("choose02-d6fb177d.png",import.meta.url).href,uTe=""+new URL("skeleton-3f2a2749.png",import.meta.url).href;class mO{constructor(t,n){ye(this,"text");ye(this,"jump");ye(this,"jumpToScene");ye(this,"showCondition");ye(this,"enableCondition");ye(this,"showSkeleton");this.text=Jy(t),this.jump=n,this.jumpToScene=n.match(new RegExp("(?<!\\\\)\\."))!==null}static parse(t){const n=t.split("->"),r=n.length>1?n[0]:null,o=(n.length>1?n[1]:n[0]).split(new RegExp("(?<!\\\\):","g"));let a=o[1]||"",s=!1;a.endsWith("@skeleton")&&(a=a.slice(0,-9),s=!0);const u=new mO(o[0],a);if(u.showSkeleton=s,r!==null){const l=r.match(/\((.*)\)/);l&&(u.showCondition=l[1]);const f=r.match(/\[(.*)\]/);f&&(u.enableCondition=f[1])}return u}}const lTe=e=>{const n=e.content.split(new RegExp("(?<!\\\\)\\|")).map(r=>mO.parse(r.trim()));return Kr.render(E.jsx(mT,{store:W,children:E.jsx(cTe,{chooseOptions:n})}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Kr.render(E.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}};function cTe(e){const n=W.getState().userData.optionData.textboxFont===to.song?'"", serif':'"WebgalUI", serif',{playSeEnter:r,playSeClick:i}=Gc(),o=t_("Stage/Choose/choose.scss"),a=s=>s.filter((u,l)=>aE(u.showCondition)).map((u,l)=>{const f=aE(u.enableCondition),d=f?o("Choose_item",Bf.Choose_item):o("Choose_item_disabled",Bf.Choose_item_disabled),p=f?()=>{i(),I.gameplay.performController.unmountPerform("choose"),u.jumpToScene?Is(u.jump,u.text):Bu(u.jump)}:()=>{};return E.jsxs("div",{className:o("Choose_item_outer",Bf.Choose_item_outer),children:[u.showSkeleton&&E.jsx("img",{src:uTe,alt:"skeleton",className:o("Choose_skeleton",Bf.Choose_skeleton)}),E.jsx("div",{className:d,style:{fontFamily:n,backgroundImage:`url(${JN})`,color:"#8E354A",margin:"6px 0",padding:"100px 140px"},onClick:p,onMouseOver:m=>{m.currentTarget.style.backgroundImage=`url(${sTe})`,m.currentTarget.style.color="#FFFFFF"},onMouseOut:m=>{m.currentTarget.style.backgroundImage=`url(${JN})`,m.currentTarget.style.color="#8E354A"},children:u.text})]},u.jump+l)});return E.jsx("div",{className:o("Choose_Main",Bf.Choose_Main),children:a(e.chooseOptions)})}const fTe=e=>(he.debug(`${e.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),hTe=e=>(e.content!==""&&e.content!=="none"?W.dispatch(we({key:"enableFilm",value:e.content})):W.dispatch(we({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),dTe="_FullScreenPerform_main_lfauh_2",pTe="_FullScreenPerform_element_lfauh_9",mTe="_fullScreen_video_lfauh_17",vTe="_fadeIn_lfauh_74",gTe="_intro_showSoftly_lfauh_1",yTe="_slideIn_lfauh_80",_Te="_typingEffect_lfauh_86",xTe="_typing_lfauh_86",bTe="_blinkCursor_lfauh_1",STe="_pixelateEffect_lfauh_95",wTe="_pixelateAnimation_lfauh_1",ETe="_revealAnimation_lfauh_101",TTe="_videoContainer_lfauh_115",la={FullScreenPerform_main:dTe,FullScreenPerform_element:pTe,fullScreen_video:mTe,fadeIn:vTe,intro_showSoftly:gTe,slideIn:yTe,typingEffect:_Te,typing:xTe,blinkCursor:bTe,pixelateEffect:STe,pixelateAnimation:wTe,revealAnimation:ETe,videoContainer:TTe},fd=e=>{const t=W.getState().userData,n=t.optionData.volumeMain,r=n*.01*t.optionData.vocalVolume*.01,i=n*.01*t.optionData.bgmVolume*.01,o=o_();let a=At(e,"skipOff")??!1,s=At(e,"noSkip")??!1;Kr.render(E.jsx("div",{className:la.videoContainer,children:E.jsx("video",{className:la.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer"));let u=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>a,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(l=>{setTimeout(()=>{let f=document.getElementById("playVideoElement");if(f!==null){f.currentTime=0,f.volume=i;const d=()=>{for(const b of I.gameplay.performController.performList)b.performName===o&&(u=!0,b.stopFunction(),I.gameplay.performController.unmountPerform(b.performName))},p=()=>{d()};s||I.events.fullscreenDbClick.on(p);const m={performName:o,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{s||I.events.fullscreenDbClick.off(p);const b=document.getElementById("currentBgm");b&&(b.volume=i.toString());const w=document.getElementById("currentVocal");b&&(w.volume=r.toString()),Kr.render(E.jsx("div",{}),document.getElementById("videoContainer"))},blockingNext:()=>a,blockingAuto:()=>!u,stopTimeout:void 0,goNextWhenOver:!0};l(m);const v=0,_=0,y=document.getElementById("currentBgm");y&&(y.volume=_.toString());const x=document.getElementById("currentVocal");y&&(x.volume=v.toString()),f==null||f.play(),f.onended=()=>{d()}}},1)})}},CTe="_main_1jfhd_1",OTe="_button_1jfhd_16",ATe="_button_text_1jfhd_23",PTe="_button_on_1jfhd_31",ITe="_singleButton_1jfhd_42",RTe="_singleButton_active_1jfhd_56",kTe="_fastSlPreview_1jfhd_60",NTe="_fastSlEnter_1jfhd_1",LTe="_fastsave_1jfhd_74",MTe="_fastSPreview_1jfhd_74",FTe="_fastload_1jfhd_78",DTe="_fastLPreview_1jfhd_78",BTe="_slPreviewMain_1jfhd_90",jTe="_imgContainer_1jfhd_98",$Te="_textContainer_1jfhd_106",pg={main:CTe,button:OTe,button_text:ATe,button_on:PTe,singleButton:ITe,singleButton_active:RTe,fastSlPreview:kTe,fastSlEnter:NTe,fastsave:LTe,fastSPreview:MTe,fastload:FTe,fastLPreview:DTe,slPreviewMain:BTe,imgContainer:jTe,textContainer:$Te},f4=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=pg.button_on:t.className=pg.singleButton)},so=()=>{I.gameplay.isAuto=!1,f4(!1),I.gameplay.autoInterval!==null&&(clearInterval(I.gameplay.autoInterval),I.gameplay.autoInterval=null),I.gameplay.autoTimeout!==null&&(clearTimeout(I.gameplay.autoTimeout),I.gameplay.autoTimeout=null)},Nd=()=>{I.gameplay.isAuto?so():(I.gameplay.isAuto=!0,f4(!0),I.gameplay.autoInterval=setInterval(GTe,100))},UTe=()=>{wr(),I.gameplay.autoTimeout=null},GTe=()=>{const e=W.getState().userData.optionData.autoSpeed,t=W.getState().stage;let n=100+(100-e)*15;t.judgment==="begins"&&t.isJudgmentFastForward&&(n=200);let r=!1;I.gameplay.performController.performList.forEach(i=>{i.blockingAuto()&&(r=!0)}),!r&&I.gameplay.autoTimeout===null&&(I.gameplay.autoTimeout=setTimeout(UTe,n))},zTe=""+new URL("judgmentBegins-03c64fa6.webm",import.meta.url).href,HTe=""+new URL("judgmentConcluded-e22ce71f.webm",import.meta.url).href,VTe=e=>{if(!e)return 0;const t=e.split(":");if(t.length!==3)return 0;const n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return n*60*1e3+r*1e3+i},WTe=e=>{const t=e.content;if(t==="begins"){const n=Ne(e,"timer"),r=Ne(e,"timeout"),i=VTe(n);W.dispatch(we({key:"judgment",value:"video_playing"})),i>0&&W.dispatch(we({key:"judgmentTimer",value:i})),r&&W.dispatch(we({key:"judgmentTimeout",value:r})),W.dispatch(we({key:"isJudgmentFastForward",value:!1})),I.gameplay.isAuto||Nd();const o=fd({...e,content:zTe,args:[...e.args,{key:"noSkip",value:!0},{key:"skipOff",value:!0}]});return o.arrangePerformPromise&&(o.arrangePerformPromise=o.arrangePerformPromise.then(a=>{const s=a.stopFunction;return a.stopFunction=()=>{s(),W.dispatch(we({key:"judgment",value:"begins"}))},a})),o}if(t==="exit")return W.dispatch(we({key:"judgment",value:""})),W.dispatch(we({key:"testimonyData",value:[]})),I.gameplay.isAuto&&so(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};if(t==="concluded"){W.dispatch(we({key:"judgment",value:"concluded"}));const n=fd({...e,content:HTe,args:[...e.args,{key:"noSkip",value:!0},{key:"skipOff",value:!0}]});return n.arrangePerformPromise&&(n.arrangePerformPromise=n.arrangePerformPromise.then(r=>{const i=r.stopFunction;return r.stopFunction=()=>{i(),W.dispatch(we({key:"judgment",value:""})),I.gameplay.isAuto&&so()},r})),n}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Ot={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},XTe=e=>(Ot.maxAudioLevel=Math.max(e,Ot.maxAudioLevel),{OPEN_THRESHOLD:Ot.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Ot.maxAudioLevel*.5}),qTe=e=>{let t=!1;function n(){var r;t||e.animationEndTime&&Date.now()>e.animationEndTime||(t=!0,(r=I.gameplay.pixiStage)==null||r.performBlinkAnimation(e.key,e.animationItem,"closed",e.pos),Ot.blinkTimerID=setTimeout(()=>{var o;(o=I.gameplay.pixiStage)==null||o.performBlinkAnimation(e.key,e.animationItem,"open",e.pos),t=!1;const i=Math.random()*300+3500;Ot.blinkTimerID=setTimeout(n,i)},200))}n()},KTe=(e,t,n)=>{e.getByteFrequencyData(t);let r=0;for(let i=0;i<n;i++)r+=t[i];return r/n},rE=e=>{var p,m;const{audioLevel:t,OPEN_THRESHOLD:n,HALF_OPEN_THRESHOLD:r,currentMouthValue:i,lerpSpeed:o,key:a,animationItem:s,pos:u}=e;let l;t>n?l=1:t>r?l=.5:l=0;const f=i+(l-i)*o;(p=I.gameplay.pixiStage)==null||p.setModelMouthY(a,t);let d;f>.75?d="open":f>.25?d="half_open":d="closed",s!==void 0&&((m=I.gameplay.pixiStage)==null||m.performMouthSyncAnimation(a,s,d,u))},h4=e=>{he.debug("play vocal");const t="vocal-play",n=Ne(e,"vocal")??"";let r=Yr(e,"volume")??100;r=Math.max(0,Math.min(r,100));let i;i=W.getState().stage;let o="center";const a=At(e,"left")??!1,s=At(e,"right")??!1;a&&(o="left"),s&&(o="right");let u=Ne(e,"figureId")??"";const l=i.freeFigure,f=i.figureAssociatedAnimation;let d=0,p=0;const m=1;let v=document.getElementById("currentVocal");I.gameplay.performController.unmountPerform("vocal-play",!0),v!==null&&(v.currentTime=0,v.pause()),W.dispatch(we({key:"playVocal",value:n})),W.dispatch(we({key:"vocal",value:n}));let _=!1;return{arrangePerformPromise:new Promise(y=>{setTimeout(()=>{let x=document.getElementById("currentVocal");if(W.dispatch(we({key:"vocalVolume",value:r})),x!==null){x.currentTime=0;const b={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Ot.audioLevelInterval),x.pause(),u=u||`fig-${o}`;const T=f.find(C=>C.targetId===u);rE({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:p,lerpSpeed:m,key:u,animationItem:T,pos:o}),clearTimeout(Ot.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!_,skipNextCollect:!0,stopTimeout:void 0};I.gameplay.performController.arrangeNewPerform(b,e,!1),u=u||`fig-${o}`;const w=f.find(T=>T.targetId===u);if(w){const T=l.find(A=>A.key===u);if(T&&(o=T.basePosition),!Ot.audioContext){let A;A=new AudioContext,Ot.analyser=A.createAnalyser(),Ot.analyser.fftSize=256,Ot.dataArray=new Uint8Array(Ot.analyser.frequencyBinCount)}Ot.analyser||(Ot.analyser=Ot.audioContext.createAnalyser(),Ot.analyser.fftSize=256),d=Ot.analyser.frequencyBinCount,Ot.dataArray=new Uint8Array(d);let C=document.getElementById("currentVocal");Ot.source||(Ot.source=Ot.audioContext.createMediaElementSource(C),Ot.source.connect(Ot.analyser)),Ot.analyser.connect(Ot.audioContext.destination),Ot.audioLevelInterval=setInterval(()=>{const A=KTe(Ot.analyser,Ot.dataArray,d),{OPEN_THRESHOLD:M,HALF_OPEN_THRESHOLD:D}=XTe(A);rE({audioLevel:A,OPEN_THRESHOLD:M,HALF_OPEN_THRESHOLD:D,currentMouthValue:p,lerpSpeed:m,key:u,animationItem:w,pos:o})},50);let O;O=Date.now()+1e4,qTe({key:u,animationItem:w,pos:o,animationEndTime:O}),setTimeout(()=>{clearTimeout(Ot.blinkTimerID)},1e4)}x==null||x.play(),x.onended=()=>{for(const T of I.gameplay.performController.performList)T.performName===t&&(_=!0,T.stopFunction(),I.gameplay.performController.unmountPerform(T.performName))}}},1)})}},YTe=e=>{const t=e.content,n=TR(e,"refutes")||{},r=TR(e,"colors")||{},i=Ne(e,"vocal"),o=Yr(e,"y")||void 0;let a="center";At(e,"left")&&(a="left"),At(e,"right")&&(a="right");const s=W.getState().stage.testimonyData;W.dispatch(we({key:"testimonyData",value:[...s,{content:t,refutes:n,colors:r,pos:a,y:o}]})),i&&h4(e);const u=W.getState().userData,l=ry(u.optionData.textSpeed),d=ba(e.content,3).reduce((_,y)=>_+y.length,0),p=l*d,m=iy(u.optionData.textSpeed)/2;return{performName:o_(),duration:p+m,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},JTe=e=>(W.dispatch(we({key:"testimonyData",value:[]})),{performName:"clearTestimony",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}),ZTe=e=>{const t=ln(e.content,un.figure),n=Ne(e,"goto");W.getState().stage.judgment!==""&&(W.dispatch(we({key:"judgment",value:""})),W.dispatch(we({key:"isJudgmentFastForward",value:!1})),W.dispatch(we({key:"testimonyData",value:[]})),I.gameplay.isAuto&&so());const i=fd({...e,content:t,args:[...e.args,{key:"noSkip",value:!0},{key:"skipOff",value:!0}]});return i.arrangePerformPromise&&(i.arrangePerformPromise=i.arrangePerformPromise.then(o=>{const a=o.stopFunction;return n&&(o.goNextWhenOver=!1),o.stopFunction=()=>{if(a(),n){const s=n.toString().trim();if(s.endsWith(".txt")){const l=ln(s,un.scene);I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Is(l,s)},0)}else I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Bu(s)},0)}},o})),i},QTe="_Choose_Main_4xkm5_1",eCe="_Choose_item_4xkm5_13",tCe="_glabalDialog_container_inner_4xkm5_28",nCe="_glabalDialog_container_4xkm5_28",rCe="_title_4xkm5_47",iCe="_button_4xkm5_59",gl={Choose_Main:QTe,Choose_item:eCe,glabalDialog_container_inner:tCe,glabalDialog_container:nCe,title:rCe,button:iCe},oCe=e=>{const t=e.content.toString().trim();let n=Ne(e,"title")??"";n=n===""?"Please Input":n;let r=Ne(e,"buttonText")??"";r=r===""?"OK":r;const i=Ne(e,"defaultValue"),a=W.getState().userData.optionData.textboxFont===to.song?'"", serif':'"WebgalUI", serif',{playSeEnter:s,playSeClick:u}=Gc(),l=E.jsx("div",{style:{fontFamily:a},className:gl.glabalDialog_container,children:E.jsxs("div",{className:gl.glabalDialog_container_inner,children:[E.jsx("div",{className:gl.title,children:n}),E.jsx("input",{id:"user-input",className:gl.Choose_item}),E.jsx("div",{onClick:()=>{const f=document.getElementById("user-input");f&&W.dispatch(VD({key:t,value:(f==null?void 0:f.value)||i||" "})),u(),I.gameplay.performController.unmountPerform("userInput"),wr()},className:gl.button,children:r})]})});return Kr.render(E.jsx("div",{className:gl.Choose_Main,children:l}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Kr.render(E.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},aCe=e=>{const t=`introPerform${Math.random().toString()}`,n=Ne(e,"fontSize")??"medium";let r="350%";switch(n){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}const o=`url("game/background/${Ne(e,"backgroundImage")??""}") center/cover no-repeat`,a=Ne(e,"backgroundColor")??"rgba(0, 0, 0, 1)",s=Ne(e,"fontColor")??"rgba(255, 255, 255, 1)",u=Ne(e,"animation")??"";let f=((B,G=0)=>{switch(B){case"fadeIn":return la.fadeIn;case"slideIn":return la.slideIn;case"typingEffect":return`${la.typingEffect} ${G}`;case"pixelateEffect":return la.pixelateEffect;case"revealAnimation":return la.revealAnimation;default:return la.fadeIn}})(u),d=Yr(e,"delayTime")??1500,p=At(e,"hold")??!1,m=At(e,"userForward")??!1;d=m?99999999:d,p=m?!0:p;const v={background:o,backgroundColor:a,color:s,fontSize:r||"350%",width:"100%",height:"100%"},_=e.content.split(new RegExp("(?<!\\\\)\\|")).map(B=>Jy(B));let x=1e3+d*_.length;const b=p?1e3*60*60*24:1e3+d*_.length;let w=!0,T=setTimeout(()=>{w=!1},x),C=setTimeout(()=>{});const O=()=>{const B=document.getElementById("introContainer");if(x-=d,clearTimeout(T),T=setTimeout(()=>{w=!1},x),B){const G=B.childNodes[0].childNodes[0].childNodes,U=G.length;if(m){let H=!0;for(const Q of G)if(Number(Q.style.animationDelay.split("ms")[0])>0){H=!1;const ne=Q.getAnimations();Q.style.animationDelay="0ms ";for(const ce of ne)ce.currentTime=0,ce.play()}H&&(clearTimeout(C),clearTimeout(T),I.gameplay.performController.unmountPerform(t));return}G.forEach((H,Q)=>{const ee=Number(H.style.animationDelay.split("ms")[0]);ee>0&&(H.style.animationDelay=`${ee-d}ms`),Q===U-1&&(ee===0?(clearTimeout(C),I.gameplay.performController.unmountPerform(t)):(clearTimeout(C),p||(C=setTimeout(()=>{I.gameplay.performController.unmountPerform(t)},x))))})}};I.events.userInteractNext.on(O);const A=_.map((B,G)=>E.jsxs("div",{style:{animationDelay:`${d*G}ms`},className:f,children:[B,B===""?"":""]},"introtext"+G+Math.random().toString())),M=E.jsx("div",{style:v,children:E.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:A})});Kr.render(M,document.getElementById("introContainer"));const D=document.getElementById("introContainer");return D&&(D.style.display="block"),{performName:t,duration:b,isHoldOn:!1,stopFunction:()=>{const B=document.getElementById("introContainer");B&&(B.style.display="none"),I.events.userInteractNext.off(O)},blockingNext:()=>w,blockingAuto:()=>w,stopTimeout:void 0,goNextWhenOver:!0}},sCe=e=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),uCe=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),W.dispatch(we({key:"miniAvatar",value:t})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},vO=new Map;function lCe(e){return e?typeof e=="string"?e:e():null}function iE(e){const t=lCe(e);return t||(he.error("Get name of perform failed. There no name of the perform."),"")}function JFe(e,t){const n=iE(e);if(!n)throw new Error("Cannot register a perform without a valid name.");const{fg:r,bg:i}=t;if(typeof r<"u"&&typeof r!="function")throw new Error(`"fg" property for perform "${n}" must be a function or undefined.`);if(typeof i<"u"&&typeof i!="function")throw new Error(`"bg" property for perform "${n}" must be a function or undefined.`);if(!r&&!i)throw new Error(`Perform definition for "${n}" must have at least an 'fg' or 'bg' generator function.`);const o=()=>{let a,s;if(r&&(a=r(),!a||typeof a.container>"u"||typeof a.tickerKey>"u"))throw he.error(`The 'fg' generator for perform "${n}" did not return a valid ILayerResult.`),new Error(`Invalid result from 'fg' generator for perform "${n}".`);if(i&&(s=i(),!s||typeof s.container>"u"||typeof s.tickerKey>"u"))throw he.error(`The 'bg' generator for perform "${n}" did not return a valid ILayerResult.`),new Error(`Invalid result from 'bg' generator for perform "${n}".`);const u={};return a&&(u.fg=a),s&&(u.bg=s),u};vO.set(n,o)}function cCe(e){const t=vO.get(iE(e));if(!t||typeof t!="function"){const n=typeof e=="function"?iE(e):e,r=`Can't call the perform named "${n}". It might not be registered or was unregistered.`;throw he.error(r),new Error(`Perform "${n}" does not have a valid callback. Available performs: ${fCe().join(", ")}`)}return t()}function fCe(){return[...vO.keys()]}zh(()=>import("./initRegister-4731905c.js"),[],import.meta.url);const hCe=e=>{const t="PixiPerform"+e.content;I.gameplay.performController.performList.forEach(o=>{if(o.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const n=cCe(e.content),{fg:r,bg:i}=n;return{performName:t,duration:0,isHoldOn:!0,stopFunction:()=>{var o,a,s,u;he.warn("pixi"),r&&(r.container.destroy({texture:!0,baseTexture:!0}),(o=I.gameplay.pixiStage)==null||o.foregroundEffectsContainer.removeChild(r.container),(a=I.gameplay.pixiStage)==null||a.removeAnimation(r.tickerKey)),i&&(i.container.destroy({texture:!0,baseTexture:!0}),(s=I.gameplay.pixiStage)==null||s.backgroundEffectsContainer.removeChild(i.container),(u=I.gameplay.pixiStage)==null||u.removeAnimation(i.tickerKey))},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},dCe=e=>{he.debug("play SE");let t="effect-sound";I.gameplay.performController.unmountPerform(t,!0);let n=e.content,r=!1;const i=Ne(e,"id")??"";i&&(t=`effect-sound-${i}`,I.gameplay.performController.unmountPerform(t,!0),r=!0);let o=!1;return!n||n===ac?{performName:ac,duration:0,isHoldOn:!1,blockingAuto(){return!1},blockingNext(){return!1},stopFunction(){},stopTimeout:void 0}:{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(a=>{setTimeout(()=>{var m;let s=Yr(e,"volume")??100;s=Math.max(0,Math.min(s,100));let u=document.createElement("audio");u.src=n,r&&(u.loop=!0);const l=W.getState().userData,d=l.optionData.volumeMain*.01*(((m=l.optionData)==null?void 0:m.seVolume)??100)*.01*s*.01;u.volume=d,u.currentTime=0;const p={performName:t,duration:1e3*60*60,isHoldOn:r,skipNextCollect:!0,stopFunction:()=>{u.pause(),u.remove()},blockingNext:()=>!1,blockingAuto:()=>r?!1:!o,stopTimeout:void 0};a(p),u==null||u.play(),u.onended=()=>{for(const v of I.gameplay.performController.performList)v.performName===t&&(o=!0,v.stopFunction(),I.gameplay.performController.unmountPerform(v.performName))}},1)})}},pCe=e=>{W.getState().stage.currentDialogKey;const t=e.content,n=li(t);let r=Ne(e,"target")??"";r=r!==""?r:"default_id";const i=At(e,"writeDefault")??!1,o=At(e,"keep")??!1,a=`${r}-${t}-${n}`,s=`animation-${r}`;I.gameplay.performController.unmountPerform(s,!0);let u;return setTimeout(()=>{var f,d;(f=I.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(r);const l=sd(t,r,n,i);l&&(he.debug(`${t}${r}`,n),(d=I.gameplay.pixiStage)==null||d.registerAnimation(l,a,r))},0),u=()=>{setTimeout(()=>{var l;W.getState().stage.currentDialogKey,(l=I.gameplay.pixiStage)==null||l.removeAnimationWithSetEffects(a)},0)},{performName:s,duration:n,isHoldOn:o,stopFunction:u,blockingNext:()=>!1,blockingAuto:()=>!o,stopTimeout:void 0}},mCe=e=>{var s,u;W.getState().stage.currentDialogKey;const t=e.content,n=Yr(e,"duration")??0,r=Ne(e,"target")??"0",i=`${r}-${t}-${n}`,o=vCe(t);let a=()=>{};if(o){he.debug(`${t}${r}`,n);const l=o(r,n);(s=I.gameplay.pixiStage)==null||s.stopPresetAnimationOnTarget(r),(u=I.gameplay.pixiStage)==null||u.registerAnimation(l,i,r),a=()=>{var f;W.getState().stage.currentDialogKey,(f=I.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:n,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function vCe(e){const t=fO.find(n=>n.name===e);return he.debug("",t),t?t.animationGenerateFunc:null}const gCe=e=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),yCe=e=>{W.getState().stage.currentDialogKey;const t=(Math.random()*10).toString(16),n=e.content;let r;try{r=JSON.parse(n)}catch{r=[]}const i={name:t,effects:r};I.animationManager.addAnimation(i);const o=li(t),a=Ne(e,"target")??"0",s=At(e,"writeDefault")??!1,u=At(e,"keep")??!1,l=`${a}-${t}-${o}`,f=`animation-${a}`;I.gameplay.performController.unmountPerform(f,!0);let d=()=>{};return setTimeout(()=>{var m,v;(m=I.gameplay.pixiStage)==null||m.stopPresetAnimationOnTarget(a);const p=sd(t,a,o,s);p&&(he.debug(`${t}${a}`,o),(v=I.gameplay.pixiStage)==null||v.registerAnimation(p,l,a))},0),d=()=>{setTimeout(()=>{var p;W.getState().stage.currentDialogKey,(p=I.gameplay.pixiStage)==null||p.removeAnimationWithSetEffects(l)},0)},{performName:f,duration:o,isHoldOn:u,stopFunction:d,blockingNext:()=>!1,blockingAuto:()=>!u,stopTimeout:void 0}};function _Ce(e){const t=W.getState().stage;return e.content==="hide"||e.content==="off"?(W.dispatch(we({key:"isDisableTextbox",value:!0})),t.judgment!==""&&!I.gameplay.isAuto&&Nd()):(W.dispatch(we({key:"isDisableTextbox",value:!1})),t.judgment!==""&&I.gameplay.isAuto&&so()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const xCe=e=>{W.getState().stage.currentDialogKey;const t=(Math.random()*10).toString(16),n=e.content;let r;const i=Yr(e,"duration")??500,o=Ne(e,"ease")??"",a=At(e,"writeDefault")??!1,s=Ne(e,"target")??"0",u=At(e,"keep")??!1,l=`animation-${s}`;I.gameplay.performController.unmountPerform(l,!0);try{const v=JSON.parse(n);r=Uh(s,v,i,o),console.log("animationObj:",r)}catch{r=[]}const f={name:t,effects:r};I.animationManager.addAnimation(f);const d=li(t),p=`${s}-${t}-${d}`;let m=()=>{};return setTimeout(()=>{var _,y;(_=I.gameplay.pixiStage)==null||_.stopPresetAnimationOnTarget(s);const v=sd(t,s,d,a);v&&(he.debug(`${t}${s}`,d),(y=I.gameplay.pixiStage)==null||y.registerAnimation(v,p,s))},0),m=()=>{setTimeout(()=>{var v;W.getState().stage.currentDialogKey,(v=I.gameplay.pixiStage)==null||v.removeAnimationWithSetEffects(p)},0)},{performName:l,duration:d,isHoldOn:u,stopFunction:m,blockingNext:()=>!1,blockingAuto:()=>!u,stopTimeout:void 0}},bCe=e=>{let t=Ne(e,"target")??"0";const n=Ne(e,"enter"),r=Ne(e,"exit");return n&&I.animationManager.nextEnterAnimationName.set(t,n),r&&I.animationManager.nextExitAnimationName.set(t+"-off",r),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},SCe=e=>{const t=e.content,n=Ne(e,"name")??e.content,r=Ne(e,"series")??"default";he.info(`BGM${n}${t}${r}`),W.dispatch(l3({name:n,url:t,series:r}));const i=W.getState().userData;return Lu.setItem(I.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},wCe=e=>{const t=e.content,n=Ne(e,"name")??e.content,r=Ne(e,"series")??"default";he.info(`CG${n}${t}${r}`),W.dispatch(u3({name:n,url:t,series:r}));const i=W.getState().userData;return Lu.setItem(I.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},ECe=e=>{qy(!0);const t=W.dispatch,n=ln("start.txt",un.scene);return setTimeout(()=>{I.sceneManager.resetScene()},5),t(pa.resetFastSave()),Gv(),Ho(n).then(r=>{I.sceneManager.sceneData.currentScene=fo(r,"start.txt",n)}),t(at({component:"showTitle",visibility:!0})),WT(W.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},TCe=e=>(Bu(e.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),CCe=e=>(I.gameplay.performController.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){he.warn("pixi ",t.performName);for(let n=0;n<I.gameplay.performController.performList.length;n++){const r=I.gameplay.performController.performList[n];r.performName===t.performName&&(r.stopFunction(),clearTimeout(r.stopTimeout),I.gameplay.performController.performList.splice(n,1),n--)}W.dispatch(Ft.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),OCe=e=>{const t=W.getState().stage,n=W.getState().userData,r=W.dispatch;let i=Math.random().toString(),o=e.content;o&&(o=String(o).replace(/ {2,}/g,G=>"".repeat(G.length)));const a=At(e,"concat")??!1,s=At(e,"notend")??!1,u=Ne(e,"speaker"),l=At(e,"clear")??!1,f=Ne(e,"vocal");a?(i=t.currentDialogKey,o=t.showText+o,r(we({key:"currentConcatDialogPrev",value:t.showText}))):r(we({key:"currentConcatDialogPrev",value:""})),r(we({key:"showText",value:o})),r(we({key:"vocal",value:""})),r(we({key:"testimonyData",value:[]})),n.optionData.voiceInterruption===Dh.no&&f===null||(r(we({key:"playVocal",value:""})),I.gameplay.performController.unmountPerform("vocal-play",!0)),r(we({key:"currentDialogKey",value:i}));const d=ry(n.optionData.textSpeed),m=ba(e.content,3).reduce((G,U)=>G+U.length,0),v=d*m;switch(Ne(e,"fontSize")){case"small":r(we({key:"showTextSize",value:Ni.small}));break;case"medium":r(we({key:"showTextSize",value:Ni.medium}));break;case"large":r(we({key:"showTextSize",value:Ni.large}));break;default:r(we({key:"showTextSize",value:-1}));break}let y=t.showName;u!==null&&(y=u),l&&(y=""),r(we({key:"showName",value:y}));let x=null,b=0,w="center";const T=At(e,"left")??!1,C=At(e,"right")??!1;T&&(w="left"),C&&(w="right");let O=Ne(e,"figureId")??"",A=80;const M=(G=!1)=>{let U=A+(Math.random()*60-30);Math.abs(U-A)<5&&(U=A+Math.sign(U-A)*5),A=Math.max(15,Math.min(U,100));const ee=W.getState().stage.figureAssociatedAnimation.find(ce=>ce.targetId===O),ne=O||`fig-${w}`;G&&(A=0),rE({audioLevel:A,OPEN_THRESHOLD:50,HALF_OPEN_THRESHOLD:25,currentMouthValue:0,lerpSpeed:1,key:ne,animationItem:ee,pos:w}),G||(x=setTimeout(M,50))};f?h4(e):(O||w)&&(b=m*250,M());const D=o_();let B=iy(n.optionData.textSpeed)/2;return s&&(B=0),{performName:D,duration:v+B+b,isHoldOn:!1,stopFunction:()=>{I.events.textSettle.emit(),x&&(M(!0),clearTimeout(x))},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}};var Ld={},gO={},ACe={document:{}},n_=Object.prototype.hasOwnProperty,d4=function(e){return r_(e)?e.toLowerCase():e},Sh=Array.isArray,PCe=function(e){return r_(e)?e.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)|32)}):e};"I".toLowerCase()!=="i"&&(d4=PCe);function mg(e){var t=Function.prototype.constructor;delete Function.prototype.constructor;var n=e();return Function.prototype.constructor=t,n}var ICe,yO=Object.prototype.toString,p4=Object.getPrototypeOf,Jb=x4("ng");function RCe(e){if(e==null||xO(e))return!1;if(Sh(e)||r_(e)||ICe)return!0;var t="length"in Object(e)&&e.length;return _O(t)&&(t>=0&&(t-1 in e||e instanceof Array)||typeof e.item=="function")}function sn(e,t,n){var r,i;if(e)if(y4(e))for(r in e)r!=="prototype"&&r!=="length"&&r!=="name"&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(Sh(e)||RCe(e)){var o=typeof e!="object";for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==sn)e.forEach(t,n,e);else if(g4(e))for(r in e)t.call(n,e[r],r,e);else if(typeof e.hasOwnProperty=="function")for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)n_.call(e,r)&&t.call(n,e[r],r,e);return e}function kCe(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function m4(){}function NCe(e){return typeof e>"u"}function Ll(e){return typeof e<"u"}function v4(e){return e!==null&&typeof e=="object"}function g4(e){return e!==null&&typeof e=="object"&&!p4(e)}function r_(e){return typeof e=="string"}function _O(e){return typeof e=="number"}function y4(e){return typeof e=="function"}function xO(e){return e&&e.window===e}function _4(e){return e&&e.$evalAsync&&e.$watch}var LCe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function MCe(e){return e&&_O(e.length)&&LCe.test(yO.call(e))}function FCe(e){return yO.call(e)==="[object ArrayBuffer]"}function DCe(e,t){var n=[],r=[];if(t){if(MCe(t)||FCe(t))throw Jb("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Jb("cpi","Can't copy! Source and destination are identical.");return Sh(t)?t.length=0:sn(t,function(s,u){u!=="$$hashKey"&&delete t[u]}),n.push(e),r.push(t),i(e,t)}return o(e);function i(s,u){var l=u.$$hashKey,f;if(Sh(s))for(var d=0,p=s.length;d<p;d++)u.push(o(s[d]));else if(g4(s))for(f in s)u[f]=o(s[f]);else if(s&&typeof s.hasOwnProperty=="function")for(f in s)s.hasOwnProperty(f)&&(u[f]=o(s[f]));else for(f in s)n_.call(s,f)&&(u[f]=o(s[f]));return kCe(u,l),u}function o(s){if(!v4(s))return s;var u=n.indexOf(s);if(u!==-1)return r[u];if(xO(s)||_4(s))throw Jb("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,f=a(s);return f===void 0&&(f=Sh(s)?[]:Object.create(p4(s)),l=!0),n.push(s),r.push(f),l?i(s,f):f}function a(s){switch(yO.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(o(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var u=new ArrayBuffer(s.byteLength);return new Uint8Array(u).set(new Uint8Array(s)),u}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(y4(s.cloneNode))return s.cloneNode(!0)}}function BCe(e,t){var n=t;return typeof e=="string"&&e.charAt(0)==="$"&&e.charAt(1)==="$"?n=void 0:xO(t)?n="$WINDOW":t&&ACe.document===t?n="$DOCUMENT":_4(t)&&(n="$SCOPE"),n}function jCe(){return Object.create(null)}function $Ce(e){var t=[];return JSON.stringify(e,function(n,r){if(r=BCe(n,r),v4(r)){if(t.indexOf(r)>=0)return"...";t.push(r)}return r})}function ZN(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):NCe(e)?"undefined":typeof e!="string"?$Ce(e):e}function x4(e,t){return t=t||Error,function(){var n=2,r=arguments,i=r[0],o="["+(e?e+":":"")+i+"] ",a=r[1],s,u;for(o+=a.replace(/\{\d+\}/g,function(l){var f=+l.slice(1,-1),d=f+n;return d<r.length?ZN(r[d]):l}),o+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(e?e+"/":"")+i,u=n,s="?";u<r.length;u++,s="&")o+=s+"p"+(u-n)+"="+encodeURIComponent(ZN(r[u]));return new t(o)}}var Ml=x4("$parse");function b4(e){return e+""}var av=jCe();sn("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){av[e]=!0});var UCe={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'};function sv(e){this.options=e||{}}sv.prototype={constructor:sv,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if(t==='"'||t==="'"||t==="`")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=av[t],o=av[n],a=av[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&e<="9"&&typeof e=="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e===""},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return e.length===1?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=Ll(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ml("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=d4(this.text.charAt(this.index));if(n==="."||this.isNumber(n))e+=n;else{var r=this.peek();if(n==="e"&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)==="e")e+=n;else if(this.isExpOperator(n)&&(!r||!this.isNumber(r))&&e.charAt(e.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=e==="`",o=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i&&a==="$"&&this.text.charAt(this.index+1)==="{"){this.tokens.push({index:t,text:r,constant:!0,value:n});var s=this.text.indexOf("}",this.index),u=this.text.substr(this.index+2,s-this.index-2);this.tokens.push({index:this.index,text:"+",operator:!0});for(var l=new sv(this.options).lex(u),f=0,d=l.length;f<d;f++)this.tokens.push(l[f]);this.tokens.push({index:this.index,text:"+",operator:!0}),this.index=s,this.readString("`");return}if(r+=a,o){if(a==="u"){var p=this.text.substring(this.index+1,this.index+5);p.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+p+"]"),this.index+=4,n+=String.fromCharCode(parseInt(p,16))}else{var m=UCe[a];n=n+(m||a)}o=!1}else if(a==="\\")o=!0;else if(a===e){this.index++,this.tokens.push({index:t,text:r,constant:!0,value:n});return}else n+=a;this.index++}this.throwError("Unterminated quote",t)}};function _e(e,t){this.lexer=e,this.options=t}_e.Program="Program";_e.ExpressionStatement="ExpressionStatement";_e.AssignmentExpression="AssignmentExpression";_e.ConditionalExpression="ConditionalExpression";_e.LogicalExpression="LogicalExpression";_e.BinaryExpression="BinaryExpression";_e.UnaryExpression="UnaryExpression";_e.CallExpression="CallExpression";_e.MemberExpression="MemberExpression";_e.Identifier="Identifier";_e.Literal="Literal";_e.ArrayExpression="ArrayExpression";_e.Property="Property";_e.ObjectExpression="ObjectExpression";_e.ThisExpression="ThisExpression";_e.LocalsExpression="LocalsExpression";_e.NGValueParameter="NGValueParameter";_e.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:_e.Program,body:e}},expressionStatement:function(){return{type:_e.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!E4(e))throw Ml("lval","Trying to assign a value to a non l-value");e={type:_e.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR(),t,n;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(n=this.expression(),{type:_e.ConditionalExpression,test:e,alternate:t,consequent:n}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:_e.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:_e.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e=this.relational(),t;t=this.expect("==","!=","===","!==");)e={type:_e.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var e=this.additive(),t;t=this.expect("<",">","<=",">=");)e={type:_e.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e={type:_e.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e={type:_e.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:_e.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=DCe(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:_e.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)t.text==="("?(e={type:_e.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(e={type:_e.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?e={type:_e.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:_e.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(this.peekToken().text!==")")do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:_e.Identifier,name:e.text}},constant:function(){return{type:_e.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_e.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;t={type:_e.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:_e.ObjectExpression,properties:e}},throwError:function(e,t){throw Ml("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0)throw Ml("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw Ml("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1}};function GCe(e,t){return typeof e<"u"?e:t}function S4(e,t){return typeof e>"u"?t:typeof t>"u"?e:e+t}function zCe(e,t){var n=e(t);if(!n)throw new Error("Filter '"+t+"' is not defined");return!n.$stateful}function Vn(e,t){var n,r,i;switch(e.type){case _e.Program:n=!0,sn(e.body,function(o){Vn(o.expression,t),n=n&&o.expression.constant}),e.constant=n;break;case _e.Literal:e.constant=!0,e.toWatch=[];break;case _e.UnaryExpression:Vn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case _e.BinaryExpression:Vn(e.left,t),Vn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case _e.LogicalExpression:Vn(e.left,t),Vn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case _e.ConditionalExpression:Vn(e.test,t),Vn(e.alternate,t),Vn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case _e.Identifier:e.constant=!1,e.toWatch=[e];break;case _e.MemberExpression:Vn(e.object,t),e.computed&&Vn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case _e.CallExpression:i=e.filter?zCe(t,e.callee.name):!1,n=i,r=[],sn(e.arguments,function(o){Vn(o,t),n=n&&o.constant,o.constant||r.push.apply(r,o.toWatch)}),e.constant=n,e.toWatch=i?r:[e];break;case _e.AssignmentExpression:Vn(e.left,t),Vn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case _e.ArrayExpression:n=!0,r=[],sn(e.elements,function(o){Vn(o,t),n=n&&o.constant,o.constant||r.push.apply(r,o.toWatch)}),e.constant=n,e.toWatch=r;break;case _e.ObjectExpression:n=!0,r=[],sn(e.properties,function(o){Vn(o.value,t),n=n&&o.value.constant&&!o.computed,o.value.constant||r.push.apply(r,o.value.toWatch)}),e.constant=n,e.toWatch=r;break;case _e.ThisExpression:e.constant=!1,e.toWatch=[];break;case _e.LocalsExpression:e.constant=!1,e.toWatch=[];break}}function w4(e){if(e.length===1){var t=e[0].expression,n=t.toWatch;return n.length!==1||n[0]!==t?n:void 0}}function E4(e){return e.type===_e.Identifier||e.type===_e.MemberExpression}function T4(e){if(e.body.length===1&&E4(e.body[0].expression))return{type:_e.AssignmentExpression,left:e.body[0].expression,right:{type:_e.NGValueParameter},operator:"="}}function C4(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===_e.Literal||e.body[0].expression.type===_e.ArrayExpression||e.body[0].expression.type===_e.ObjectExpression)}function O4(e){return e.constant}function A4(e,t){this.astBuilder=e,this.$filter=t}A4.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Vn(n,t.$filter);var r="",i;if(this.stage="assign",i=T4(n)){this.state.computing="assign";var o=this.nextId();this.recurse(i,o),this.return_(o),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=w4(n.body);t.stage="inputs",sn(a,function(f,d){var p="fn"+d;t.state[p]={vars:[],body:[],own:{}},t.state.computing=p;var m=t.nextId();t.recurse(f,m),t.return_(m),t.state.inputs.push(p),f.watchId=d}),this.state.computing="fn",this.stage="main",this.recurse(n);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,b4,GCe,S4),l=function(f,d,p,m){return mg(function(){return u(f,d,p,m)})};return l.assign=function(f,d,p){return mg(function(){return u.assign(f,d,p)})},l.inputs=u.inputs,this.state=this.stage=void 0,l.ast=n,l.literal=C4(n),l.constant=O4(n),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return sn(t,function(r){e.push("var "+r+"="+n.generateFunction(r,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return sn(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var a,s,u=this,l,f,d;if(r=r||m4,!o&&Ll(e.watchId)){t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.unsafeComputedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));return}switch(e.type){case _e.Program:sn(e.body,function(m,v){u.recurse(m.expression,void 0,void 0,function(_){s=_}),v!==e.body.length-1?u.current().body.push(s,";"):u.return_(s)});break;case _e.Literal:f=this.escape(e.value),this.assign(t,f),r(t||f);break;case _e.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(m){s=m}),f=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,f),r(f);break;case _e.BinaryExpression:this.recurse(e.left,void 0,void 0,function(m){a=m}),this.recurse(e.right,void 0,void 0,function(m){s=m}),e.operator==="+"?f=this.plus(a,s):e.operator==="-"?f=this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):f="("+a+")"+e.operator+"("+s+")",this.assign(t,f),r(f);break;case _e.LogicalExpression:t=t||this.nextId(),u.recurse(e.left,t),u.if_(e.operator==="&&"?t:u.not(t),u.lazyRecurse(e.right,t)),r(t);break;case _e.ConditionalExpression:t=t||this.nextId(),u.recurse(e.test,t),u.if_(t,u.lazyRecurse(e.alternate,t),u.lazyRecurse(e.consequent,t)),r(t);break;case _e.Identifier:t=t||this.nextId();var p=u.current().inAssignment;n&&(p?n.context=this.assign(this.nextId(),"s"):n.context=u.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),u.if_(u.stage==="inputs"||u.not(u.getHasOwnProperty("l",e.name)),function(){u.if_(u.stage==="inputs"||u.and_("s",u.or_(u.isNull(u.nonComputedMember("s",e.name)),u.hasOwnProperty_("s",e.name))),function(){i&&i!==1&&u.if_(u.isNull(u.nonComputedMember("s",e.name)),u.lazyAssign(u.nonComputedMember("s",e.name),"{}")),u.assign(t,u.nonComputedMember("s",e.name))})},t&&function(){u.if_(u.hasOwnProperty_("l",e.name),u.lazyAssign(t,u.nonComputedMember("l",e.name)))}),r(t);break;case _e.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),u.recurse(e.object,a,void 0,function(){var m=null,v=u.current().inAssignment;e.computed?(s=u.nextId(),v||u.state.computing==="assign"?m=u.unsafeComputedMember(a,s):m=u.computedMember(a,s)):(v||u.state.computing==="assign"?m=u.unsafeNonComputedMember(a,e.property.name):m=u.nonComputedMember(a,e.property.name),s=e.property.name),e.computed&&e.property.type===_e.Literal&&u.recurse(e.property,s),u.if_(u.and_(u.notNull(a),u.or_(u.isNull(m),u.hasOwnProperty_(a,s,e.computed))),function(){e.computed?(e.property.type!==_e.Literal&&u.recurse(e.property,s),i&&i!==1&&u.if_(u.not(m),u.lazyAssign(m,"{}")),u.assign(t,m),n&&(n.computed=!0,n.name=s)):(i&&i!==1&&u.if_(u.isNull(m),u.lazyAssign(m,"{}")),u.assign(t,m),n&&(n.computed=!1,n.name=e.property.name))},function(){u.assign(t,"undefined")}),r(t)},!!i);break;case _e.CallExpression:t=t||this.nextId(),e.filter?(s=u.filter(e.callee.name),l=[],sn(e.arguments,function(m){var v=u.nextId();u.recurse(m,v),l.push(v)}),f=s+".call("+s+","+l.join(",")+")",u.assign(t,f),r(t)):(s=u.nextId(),a={},l=[],u.recurse(e.callee,s,a,function(){u.if_(u.notNull(s),function(){if(sn(e.arguments,function(v){u.recurse(v,e.constant?void 0:u.nextId(),void 0,function(_){l.push(_)})}),a.name){var m=u.member(a.context,a.name,a.computed);f="("+m+" === null ? null : "+u.unsafeMember(a.context,a.name,a.computed)+".call("+[a.context].concat(l).join(",")+"))"}else f=s+"("+l.join(",")+")";u.assign(t,f)},function(){u.assign(t,"undefined")}),r(t)}));break;case _e.AssignmentExpression:s=this.nextId(),a={},u.current().inAssignment=!0,this.recurse(e.left,void 0,a,function(){u.if_(u.and_(u.notNull(a.context),u.or_(u.hasOwnProperty_(a.context,a.name),u.isNull(u.member(a.context,a.name,a.computed)))),function(){u.recurse(e.right,s),f=u.member(a.context,a.name,a.computed)+e.operator+s,u.assign(t,f),r(t||f)}),u.current().inAssignment=!1,u.recurse(e.right,s),u.current().inAssignment=!0},1),u.current().inAssignment=!1;break;case _e.ArrayExpression:l=[],sn(e.elements,function(m){u.recurse(m,e.constant?void 0:u.nextId(),void 0,function(v){l.push(v)})}),f="["+l.join(",")+"]",this.assign(t,f),r(t||f);break;case _e.ObjectExpression:l=[],d=!1,sn(e.properties,function(m){m.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),sn(e.properties,function(m){m.computed?(a=u.nextId(),u.recurse(m.key,a)):a=m.key.type===_e.Identifier?m.key.name:""+m.key.value,s=u.nextId(),u.recurse(m.value,s),u.assign(u.unsafeMember(t,a,m.computed),s)})):(sn(e.properties,function(m){u.recurse(m.value,e.constant?void 0:u.nextId(),void 0,function(v){l.push(u.escape(m.key.type===_e.Identifier?m.key.name:""+m.key.value)+":"+v)})}),f="{"+l.join(",")+"}",this.assign(t,f)),r(t||f);break;case _e.ThisExpression:this.assign(t,"s"),r(t||"s");break;case _e.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case _e.NGValueParameter:this.assign(t,"v"),r(t||"v");break}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return n_.call(this.state.filters,e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},or_:function(e,t){return"("+e+") || ("+t+")"},hasOwnProperty_:function(e,t,n){return n?"(Object.prototype.hasOwnProperty.call("+e+","+t+"))":"(Object.prototype.hasOwnProperty.call("+e+",'"+t+"'))"},and_:function(e,t){return"("+e+") && ("+t+")"},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g,i="";return n.test(t)?i=e+"."+t:(t=t.replace(r,this.stringEscapeFn),i=e+'["'+t+'"]'),i},unsafeComputedMember:function(e,t){return e+"["+t+"]"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return this.state.computing==="assign"?this.unsafeComputedMember(e,t):"("+e+".hasOwnProperty("+t+") ? "+e+"["+t+"] : undefined)"},unsafeMember:function(e,t,n){return n?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(r_(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(_O(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(e===null)return"null";if(typeof e>"u")return"undefined";throw Ml("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}};function P4(e,t){this.astBuilder=e,this.$filter=t}P4.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);Vn(n,t.$filter);var r,i;(r=T4(n))&&(i=this.recurse(r));var o=w4(n.body),a;o&&(a=[],sn(o,function(f,d){var p=t.recurse(f);f.input=p,a.push(p),f.watchId=d}));var s=[];sn(n.body,function(f){s.push(t.recurse(f.expression))});var u=n.body.length===0?m4:n.body.length===1?s[0]:function(f,d){var p;return sn(s,function(m){p=m(f,d)}),p};i&&(u.assign=function(f,d,p){return i(f,p,d)});var l=function(f,d){return mg(function(){return u(f,d)})};return l.assign=function(f,d,p){return mg(function(){return u.assign(f,d,p)})},a&&(l.inputs=a),l.ast=n,l.literal=C4(n),l.constant=O4(n),l},recurse:function(e,t,n){var r,i,o=this,a;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case _e.Literal:return this.value(e.value,t);case _e.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case _e.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case _e.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case _e.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case _e.Identifier:return o.identifier(e.name,t,n);case _e.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case _e.CallExpression:return a=[],sn(e.arguments,function(s){a.push(o.recurse(s))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(s,u,l,f){for(var d=[],p=0;p<a.length;++p)d.push(a[p](s,u,l,f));var m=i.apply(void 0,d,f);return t?{context:void 0,name:void 0,value:m}:m}:function(s,u,l,f){var d=i(s,u,l,f),p;if(d.value!=null){for(var m=[],v=0;v<a.length;++v)m.push(a[v](s,u,l,f));p=d.value.apply(d.context,m)}return t?{value:p}:p};case _e.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(s,u,l,f){var d=r(s,!1,l,f),p=i(s,u,l,f);return d.context[d.name]=p,t?{value:p}:p};case _e.ArrayExpression:return a=[],sn(e.elements,function(s){a.push(o.recurse(s))}),function(s,u,l,f){for(var d=[],p=0;p<a.length;++p)d.push(a[p](s,u,l,f));return t?{value:d}:d};case _e.ObjectExpression:return a=[],sn(e.properties,function(s){s.computed?a.push({key:o.recurse(s.key),computed:!0,value:o.recurse(s.value)}):a.push({key:s.key.type===_e.Identifier?s.key.name:""+s.key.value,computed:!1,value:o.recurse(s.value)})}),function(s,u,l,f){for(var d={},p=0;p<a.length;++p)a[p].computed?d[a[p].key(s,u,l,f)]=a[p].value(s,u,l,f):d[a[p].key]=a[p].value(s,u,l,f);return t?{value:d}:d};case _e.ThisExpression:return function(s){return t?{value:s}:s};case _e.LocalsExpression:return function(s,u){return t?{value:u}:u};case _e.NGValueParameter:return function(s,u,l){return t?{value:l}:l}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return Ll(a)?a=+a:a=0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return Ll(a)?a=-a:a=-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),l=S4(s,u);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),l=(Ll(s)?s:0)-(Ll(u)?u:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var u=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i){var o=i&&e in i?i:r;n&&n!==1&&o&&o[e]==null&&(o[e]={});var a;return o&&n_.call(o,e)&&(a=o?o[e]:void 0),t?{context:o,name:e,value:a}:a}},computedMember:function(e,t,n,r){return function(i,o,a,s){var u=e(i,o,a,s),l,f;return u!=null&&(l=t(i,o,a,s),l=b4(l),r&&r!==1&&u&&!u[l]&&(u[l]={}),Object.prototype.hasOwnProperty.call(u,l)&&(f=u[l])),n?{context:u,name:l,value:f}:f}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){var u=e(i,o,a,s);r&&r!==1&&u&&u[t]==null&&(u[t]={});var l=void 0;return u!=null&&Object.prototype.hasOwnProperty.call(u,t)&&(l=u[t]),n?{context:u,name:t,value:l}:l}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var oE=function(t,n,r){this.lexer=t,this.$filter=n,r=r||{},r.handleThis=r.handleThis!=null?r.handleThis:!0,this.options=r,this.ast=new _e(t,r),this.ast.selfReferential={$locals:{type:_e.LocalsExpression}},r.handleThis&&(this.ast.selfReferential.this={type:_e.ThisExpression}),this.astCompiler=r.csp?new P4(this.ast,n):new A4(this.ast,n)};oE.prototype={constructor:oE,parse:function(e){return this.astCompiler.compile(e)}};gO.Lexer=sv;gO.Parser=oE;var I4=gO,R4={},k4=I4.Lexer,N4=I4.Parser;function HCe(e){return e=e||{},e.filters&&(e.cache=e.cache||{}),e.cache=e.cache||bO.cache,e.filters=e.filters||R4,e}function VCe(e){return{handleThis:e.handleThis!=null?e.handleThis:!0,csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}}}function bO(e,t){if(typeof e!="string")throw new TypeError("src must be a string, instead saw '"+typeof e+"'");t=HCe(t);var n=t,r=VCe(t),i=new k4(n),o=new N4(i,function(l){return t.filters[l]},r);if(!t.cache)return o.parse(e);delete t.src;var a=JSON.stringify(Object.assign({src:e},t)),s=t.cache[a];return s||(s=t.cache[a]=o.parse(e)),s}bO.cache=Object.create(null);Ld.Lexer=k4;Ld.Parser=N4;var L4=Ld.compile=bO;Ld.filters=R4;var WCe=Math.floor,XCe=Math.random;function qCe(e,t){return e+WCe(XCe()*(t-e+1))}var KCe=qCe,YCe=ay,JCe=MT,ZCe=hy,QCe=lo;function eOe(e,t,n){if(!QCe(n))return!1;var r=typeof t;return(r=="number"?JCe(n)&&ZCe(t,n.length):r=="string"&&t in n)?YCe(n[t],e):!1}var tOe=eOe,nOe=/\s/;function rOe(e){for(var t=e.length;t--&&nOe.test(e.charAt(t)););return t}var iOe=rOe,oOe=iOe,aOe=/^\s+/;function sOe(e){return e&&e.slice(0,oOe(e)+1).replace(aOe,"")}var uOe=sOe,lOe=uOe,QN=lo,cOe=Ly,eL=0/0,fOe=/^[-+]0x[0-9a-f]+$/i,hOe=/^0b[01]+$/i,dOe=/^0o[0-7]+$/i,pOe=parseInt;function mOe(e){if(typeof e=="number")return e;if(cOe(e))return eL;if(QN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=QN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lOe(e);var n=hOe.test(e);return n||dOe.test(e)?pOe(e.slice(2),n?2:8):fOe.test(e)?eL:+e}var M4=mOe,vOe=M4,tL=1/0,gOe=17976931348623157e292;function yOe(e){if(!e)return e===0?e:0;if(e=vOe(e),e===tL||e===-tL){var t=e<0?-1:1;return t*gOe}return e===e?e:0}var _Oe=yOe,xOe=KCe,bOe=tOe,nL=_Oe,SOe=parseFloat,wOe=Math.min,EOe=Math.random;function TOe(e,t,n){if(n&&typeof n!="boolean"&&bOe(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=nL(e),t===void 0?(t=e,e=0):t=nL(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=EOe();return wOe(e+i*(t-e+SOe("1e-"+((i+"").length-1))),t)}return xOe(e,t)}var COe=TOe;const OOe=Qn(COe),AOe=e=>{let t=At(e,"global")??!1,n;if(t?n=ore:n=VD,e.content.match(/\s*=\s*/)){const r=e.content.split(/\s*=\s*/)[0],i=e.content.split(/\s*=\s*/)[1];if(/^\s*[a-zA-Z_$][\w$]*\s*\(.*\)\s*$/.test(i))W.dispatch(n({key:r,value:POe(i)}));else if(i.match(/[+\-*\/()]/)){const a=i.split(/([+\-*\/()])/g).map(u=>{if(!u.trim().match(/^[a-zA-Z_$][a-zA-Z0-9_.]*$/))return u;const l=$o(u.trim(),!0);return typeof l=="string"?`'${l}'`:l}).reduce((u,l)=>u+l,"");let s="";try{s=L4(a)()}catch(u){he.error("expression compile error",u)}W.dispatch(n({key:r,value:s}))}else i.match(/true|false/)?(i.match(/true/)&&W.dispatch(n({key:r,value:!0})),i.match(/false/)&&W.dispatch(n({key:r,value:!1}))):i.length===0?W.dispatch(n({key:r,value:""})):isNaN(Number(i))?W.dispatch(n({key:r,value:$o(i,!0)})):W.dispatch(n({key:r,value:Number(i)}));t?(he.debug("",{key:r,value:W.getState().userData.globalGameVar[r]}),Gv()):he.debug("",{key:r,value:W.getState().stage.GameVar[r]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function POe(e){return Ld.compile(e)({random:(...n)=>n.length?OOe(...n):Math.random()})}function IOe(e){let t;const n=W.getState().stage,r=W.getState().userData,i={stage:n,userData:r};if(n.GameVar.hasOwnProperty(e))t=n.GameVar[e];else if(r.globalGameVar.hasOwnProperty(e))t=r.globalGameVar[e];else if(e.startsWith("$")){const o=e.replace("$","");t=Xhe(i,o,void 0)}return t}function $o(e,t=!1){const n=IOe(e);return n??(he.warn("valueFromState result null, key = "+e),t?e:`{${e}}`)}const ROe=e=>{const t=W.getState().stage,n=W.getState().userData,r=W.dispatch,i={stageGameVar:t.GameVar,globalGameVar:n.globalGameVar};r(we({key:"showText",value:JSON.stringify(i)})),r(we({key:"showName",value:""})),he.debug("",i),setTimeout(()=>{I.events.textSettle.emit()},0);const o=o_(),a=750-n.optionData.textSpeed*250;return{performName:o,duration:a,isHoldOn:!1,stopFunction:()=>{I.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function nt(e,t,n){return{scriptType:e,scriptFunction:t,...n}}const SO={};function kOe(e){const t={};for(const[n,r]of Object.entries(e))t[n]=SO[r.scriptType]={scriptString:n,...r};return t}const NOe=e=>{const{content:t}=e,n=t.split(",");for(const r of n){const i=r.split("->");if(i.length>=2){const o=i[0],a=i[1];W.dispatch(Ft.replaceUIlable([o,a]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},LOe=e=>{const t=Number(e.content);return{performName:`wait${Math.random().toString()}`,duration:t,goNextWhenOver:!0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function MOe(e){return e.content==="on"?W.dispatch(we({key:"enableManopedia",value:!0})):W.dispatch(we({key:"enableManopedia",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}class FOe{constructor(){ye(this,"items",new Map)}async loadItem(t){try{const n=`./game/Item/${t}/${t}.json`,r=await fetch(n);if(!r.ok)return he.warn(` ${t} `),null;const i=await r.json();i.id!==t&&(he.warn(`ID ${i.id}  ${t} `),i.id=t);const o=`./game/Item/${t}/`;return i.icon=i.icon.startsWith("http")?i.icon:o+i.icon,i.image=i.image.startsWith("http")?i.image:o+i.image,this.items.set(i.id,i),he.info(`: ${i.name} (${i.id})`),i}catch(n){return he.error(` ${t} :`,n),null}}getItem(t){return this.items.get(t)}getAllItems(){return Array.from(this.items.values())}hasItem(t){return this.items.has(t)}}const Md=new FOe;let $f=null;function rL(e,t,n){W.dispatch(at({component:"showManopediaUpdate",visibility:!0,itemInfo:{itemId:e,itemName:t,itemImage:n}})),$f&&(clearTimeout($f),$f=null),$f=setTimeout(()=>{W.dispatch(at({component:"showManopediaUpdate",visibility:!1})),$f=null},4500)}const DOe=e=>{const t=Ne(e,"itemId")||e.content,n=$o(t,!0),r=Yr(e,"count")??1,i=typeof r=="string"?Number($o(r,!0)):r;return Md.loadItem(String(n)).then(o=>{if(o)W.dispatch($v({itemId:String(n),count:i,name:o.name})),he.debug(`: ${o.name} (${n}) x${i}`),rL(String(n),o.name,o.image);else{const a=Ne(e,"name")||String(n);W.dispatch($v({itemId:String(n),count:i,name:a})),he.debug(`: ${a} (${n}) x${i}`),rL(String(n),a,"./game/Item/ansk/128x128.png")}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function BOe(e){let t=e.content.trim();if(t===ac||t==="")return he.error("Item ID"),{performName:"Item-error",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=$o(t,!0),r=String(n);let i="center";const o=At(e,"left")??!1,a=At(e,"right")??!1;o&&(i="left"),a&&(i="right");let s=Ne(e,"id")??`item-${r}`;const u=Ne(e,"transform");let l=Yr(e,"zIndex")??-1;const f=W.dispatch;return Md.loadItem(r).then(d=>{var _,y;if(!d){he.error(`: ${r}`);return}let p=d.image;if(p===ac||At(e,"clear")){(_=I.gameplay.pixiStage)==null||_.removeItemObjectByKey(s);return}(y=I.gameplay.pixiStage)==null||y.addItem(s,p,i);function m(){l=Math.max(l,0),f(Ft.setFigureMetaData([s,"zIndex",l,!1]))}if(m(),u)try{const x=JSON.parse(u);f(Ft.updateEffect({target:s,transform:{...x,position:x.position||{x:0,y:0},scale:x.scale||{x:1,y:1}}}))}catch(x){he.error(` transform : ${u}`,x)}setTimeout(()=>{var b;const x=(b=I.gameplay.pixiStage)==null?void 0:b.getItemObjByKey(s);if(x&&u)try{const w=JSON.parse(u),C=W.getState().stage.effects.find(O=>O.target===s);if(C!=null&&C.transform){const O=x.pixiContainer,{position:A,...M}=C.transform,D={...M,x:(A==null?void 0:A.x)??0,y:(A==null?void 0:A.y)??0};Mo.assignTransform(O,D)}}catch(w){he.error(` transform : ${u}`,w)}},100),(()=>{let x=0;const b=50,w=setInterval(()=>{var C;x++;const T=(C=I.gameplay.pixiStage)==null?void 0:C.getItemObjByKey(s);if(T!=null&&T.pixiContainer){let O=null;for(const A of T.pixiContainer.children)if(A&&"texture"in A){O=A;break}O&&"interactive"in O&&(clearInterval(w),O.interactive=!0,O.cursor="pointer",O.on("pointerdown",()=>{const A=Yr(e,"count")??1,M=typeof A=="string"?Number($o(A,!0)):A;f(Ft.setViewingItemId({itemId:r,count:M})),he.debug(`: ${d.name} (${r})`)}),O.on("pointerover",()=>{if("scale"in O&&O.scale){const A=O.scale.x||1;O.scale.set(A*1.05)}}),O.on("pointerout",()=>{if("scale"in O&&O.scale){const A=O.scale.x||1;O.scale.set(A/1.05)}}))}x>=b&&(clearInterval(w),he.warn(` ${r} item `))},100)})()}),{performName:`Item-${r}`,duration:0,isHoldOn:!1,stopFunction:()=>{var d;(d=I.gameplay.pixiStage)==null||d.removeItemObjectByKey(s)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const jOe=e=>(W.dispatch(Zte()),he.debug(""),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0});let Uf=null;function iL(e,t,n){W.dispatch(at({component:"showItem",visibility:!0,itemInfo:{itemId:e,itemName:t,itemImage:n}})),Uf&&(clearTimeout(Uf),Uf=null),Uf=setTimeout(()=>{W.dispatch(at({component:"showItem",visibility:!1})),Uf=null},4500)}const $Oe=e=>{const t=Ne(e,"itemId")||e.content,n=$o(t,!0);return Md.loadItem(String(n)).then(r=>{if(r)iL(String(n),r.name,r.image),he.debug(`: ${r.name} (${n})`);else{const i=Ne(e,"name")||String(n),o=Ne(e,"image")||"./game/Item/ansk/128x128.png";iL(String(n),i,o),he.debug(`: ${i} (${n})`)}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};let Gf=null;function UOe(){W.dispatch(at({component:"showManopediaUpdate",visibility:!0})),Gf&&(clearTimeout(Gf),Gf=null),Gf=setTimeout(()=>{W.dispatch(at({component:"showManopediaUpdate",visibility:!1})),Gf=null},4500)}const GOe=e=>{const t=Ne(e,"name")||"";return Ne(e,"image"),UOe(),he.debug(`: ${t}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function zOe(e){const n=e.content.split(new RegExp("(?<!\\\\)@")),r=(n[0]||"").trim(),i=n.length>1?n[1].trim():"",o=r?r.split("|").map(a=>{const s=a.trim();return s&&!s.startsWith("./")&&!s.startsWith("http")&&s.endsWith(".txt")?ln(s,un.scene):s}):[];return W.dispatch(we({key:"isEvidenceMode",value:!0})),W.dispatch(we({key:"evidenceTarget",value:i})),W.dispatch(we({key:"evidenceJumpScenes",value:o})),W.dispatch(we({key:"showManopedia",value:!0})),{performName:"presentTheEvidence",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{W.dispatch(we({key:"isEvidenceMode",value:!1})),W.dispatch(we({key:"evidenceTarget",value:""})),W.dispatch(we({key:"evidenceJumpScenes",value:[]}))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}}const HOe="_Thinking_Main_1sf7i_2",VOe="_Thinking_Overlay_1sf7i_12",WOe="_Thinking_Character_1sf7i_23",XOe="_Thinking_Character_Image_1sf7i_34",qOe="_Thinking_Options_1sf7i_42",KOe="_Thinking_Option_Container_1sf7i_55",YOe="_Thinking_Button_Icon_1sf7i_63",JOe="_Thinking_Bubble_1sf7i_79",ZOe="_Thinking_Back_1sf7i_101",Xn={Thinking_Main:HOe,Thinking_Overlay:VOe,Thinking_Character:WOe,Thinking_Character_Image:XOe,Thinking_Options:qOe,Thinking_Option_Container:KOe,Thinking_Button_Icon:YOe,Thinking_Bubble:JOe,Thinking_Back:ZOe},vg=""+new URL("messageBubble-c2164000.png",import.meta.url).href,F4=""+new URL("messageBubble_hover-0c8caf05.png",import.meta.url).href;class wO{constructor(t,n){ye(this,"characterImage");ye(this,"options");this.characterImage=t,this.options=n}static parse(t){const n=t.split(" ");if(n.length<2)throw new Error("Invalid thinking format");const r=n[0],a=n.slice(1).join(" ").split(new RegExp("(?<!\\\\)\\|")).map(s=>{const u=s.trim();if(u==="@back")return{text:"",scene:"@back",buttonIcon:void 0};const l=u.match(/^(.*?):(.*?)(?:@(.*))?$/);if(!l)throw new Error(`Invalid thinking option format: ${s}`);const[,f,d,p]=l;let m,v;return p&&p.split("@").forEach(y=>{const x=y.trim();x.startsWith("icon=")?m=x.substring(5).trim():x.startsWith("refute=")?v=x.substring(7).trim():m||(m=x)}),{text:Jy(f.trim()),scene:d.trim(),buttonIcon:m,refuteVideo:v}});return new wO(r,a)}}const QOe=e=>{const t=wO.parse(e.content);return Kr.render(E.jsx(mT,{store:W,children:E.jsx(eAe,{thinkingOption:t})}),document.getElementById("thinkingContainer")),{performName:"thinking",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Kr.render(E.jsx("div",{}),document.getElementById("thinkingContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}};function eAe(e){const n=W.getState().userData.optionData.textboxFont===to.song?'"", serif':'"WebgalUI", serif',{playSeEnter:r,playSeClick:i}=Gc(),o=t_("Stage/Thinking/thinking.scss"),a=`./game/thinking/${e.thinkingOption.characterImage}`;return E.jsxs("div",{className:o("Thinking_Main",Xn.Thinking_Main),children:[E.jsx("div",{className:o("Thinking_Overlay",Xn.Thinking_Overlay)}),E.jsx("div",{className:o("Thinking_Character",Xn.Thinking_Character),children:E.jsx("img",{src:a,alt:"character",className:o("Thinking_Character_Image",Xn.Thinking_Character_Image)})}),E.jsx("div",{className:o("Thinking_Options",Xn.Thinking_Options),children:e.thinkingOption.options.map((s,u)=>{const l=s.scene==="@back",f=async()=>{if(i(),I.gameplay.performController.unmountPerform("thinking"),l)return;const d=async()=>{if(I.sceneManager.lockSceneWrite=!1,s.scene.endsWith(".txt")){const{changeScene:p}=await zh(()=>Promise.resolve().then(()=>iEe),void 0,import.meta.url),m=ln(s.scene,un.scene);p(m,s.text)}else if(s.scene!==""){const{jmp:p}=await zh(()=>Promise.resolve().then(()=>aEe),void 0,import.meta.url);p(s.scene)}};if(s.refuteVideo){const p=W.dispatch;W.getState().stage.judgment!==""&&(p(we({key:"judgment",value:""})),p(we({key:"isJudgmentFastForward",value:!1})),I.gameplay.isAuto&&so());const v=ln(s.refuteVideo,un.figure),_=fd({command:0,commandRaw:"",args:[{key:"noSkip",value:!0},{key:"skipOff",value:!0}],content:v,sentenceAssets:[],subScene:[]});_.arrangePerformPromise?_.arrangePerformPromise.then(y=>{I.gameplay.performController.performList.push(y);const x=y.stopFunction;y.goNextWhenOver=!1,y.stopFunction=()=>{x(),d()}}):d()}else d()};return E.jsxs("div",{className:o("Thinking_Option_Container",Xn.Thinking_Option_Container),children:[s.buttonIcon&&E.jsx("div",{className:o("Thinking_Button_Icon",Xn.Thinking_Button_Icon),children:E.jsx("img",{src:`./game/thinking_button/${s.buttonIcon}`,alt:"button icon"})}),E.jsx("div",{className:`${o("Thinking_Bubble",Xn.Thinking_Bubble)} ${l?o("Thinking_Back",Xn.Thinking_Back):""}`,onClick:f,onMouseEnter:r,onMouseOver:d=>{d.currentTarget.style.backgroundImage=`url(${F4})`},onMouseOut:d=>{d.currentTarget.style.backgroundImage=`url(${vg})`},style:{backgroundImage:`url(${vg})`,fontFamily:n},children:s.text})]},u)})})]})}const EO=kOe({say:nt(Ye.say,OCe),changeBg:nt(Ye.changeBg,tEe),changeFigure:nt(Ye.changeFigure,nEe),bgm:nt(Ye.bgm,mse,{next:!0}),playVideo:nt(Ye.video,fd),pixiPerform:nt(Ye.pixi,hCe,{next:!0}),pixiInit:nt(Ye.pixiInit,CCe,{next:!0}),intro:nt(Ye.intro,aCe),miniAvatar:nt(Ye.miniAvatar,uCe,{next:!0}),changeScene:nt(Ye.changeScene,oEe),choose:nt(Ye.choose,lTe),end:nt(Ye.end,ECe),setComplexAnimation:nt(Ye.setComplexAnimation,mCe),setFilter:nt(Ye.setFilter,gCe),label:nt(Ye.label,sCe,{next:!0}),jumpLabel:nt(Ye.jumpLabel,TCe),setVar:nt(Ye.setVar,AOe,{next:!0}),callScene:nt(Ye.callScene,Gle),showVars:nt(Ye.showVars,ROe),unlockCg:nt(Ye.unlockCg,wCe,{next:!0}),unlockBgm:nt(Ye.unlockBgm,SCe,{next:!0}),filmMode:nt(Ye.filmMode,hTe,{next:!0}),judgment:nt(Ye.judgment,WTe,{next:!0}),testimony:nt(Ye.testimony,YTe),clearTestimony:nt(Ye.clearTestimony,JTe,{next:!0}),refute:nt(Ye.refute,ZTe),setTextbox:nt(Ye.setTextbox,_Ce),setAnimation:nt(Ye.setAnimation,pCe),playEffect:nt(Ye.playEffect,dCe,{next:!0}),setTempAnimation:nt(Ye.setTempAnimation,yCe),__commment:nt(Ye.comment,fTe,{next:!0}),setTransform:nt(Ye.setTransform,xCe),setTransition:nt(Ye.setTransition,bCe,{next:!0}),getUserInput:nt(Ye.getUserInput,oCe),applyStyle:nt(Ye.applyStyle,NOe,{next:!0}),wait:nt(Ye.wait,LOe),manopedia:nt(Ye.manopedia,MOe),addItem:nt(Ye.addItem,DOe,{next:!0}),Item:nt(Ye.Item,BOe),clearItem:nt(Ye.clearItem,jOe,{next:!0}),showItem:nt(Ye.showItem,$Oe,{next:!0}),pediaUpdate:nt(Ye.pediaUpdate,GOe,{next:!0}),presentTheEvidence:nt(Ye.presentTheEvidence,zOe),thinking:nt(Ye.thinking,QOe)}),D4=Object.values(EO),tAe=D4.filter(e=>e.next).map(e=>e.scriptType),Hc=new fse(Sre,ln,tAe,D4),fo=(e,t,n)=>{const r=Hc.parse(e,t,n);return he.info(`${t}`,r),r},i_=e=>{var r;let t=bre;t=(((r=SO[e.command])==null?void 0:r.scriptFunction)??EO.say.scriptFunction)(e),t.arrangePerformPromise?t.arrangePerformPromise.then(i=>I.gameplay.performController.arrangeNewPerform(i,e)):I.gameplay.performController.arrangeNewPerform(t,e)},nAe=e=>{I.sceneManager.lockSceneWrite||(I.sceneManager.lockSceneWrite=!0,Ho(e.sceneUrl).then(t=>{I.sceneManager.sceneData.currentScene=fo(t,e.sceneName,e.sceneUrl),I.sceneManager.sceneData.currentSentenceId=e.continueLine+1,he.debug("",I.sceneManager.sceneData.currentScene),I.sceneManager.lockSceneWrite=!1,wr()}).catch(t=>{he.error("",t),I.sceneManager.lockSceneWrite=!1}))};function rAe(e){try{return L4(e)()}catch{return!1}}const aE=e=>{if(e===void 0)return!0;const n=e.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g).map(r=>r.match(/[a-zA-Z]/)?r.match(/true/)||r.match(/false/)?r:$o(r,!0):r).reduce((r,i)=>r+i,"");return!!rAe(n)},B4=()=>{if(I.sceneManager.sceneData.currentSentenceId>I.sceneManager.sceneData.currentScene.sentenceList.length-1){if(I.sceneManager.sceneData.sceneStack.length!==0){const f=I.sceneManager.sceneData.sceneStack.pop();f!==void 0&&nAe(f)}return}const e=Pt(I.sceneManager.sceneData.currentScene.sentenceList[I.sceneManager.sceneData.currentSentenceId]),t=f=>{let d=f;const p=d.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return p!==null&&p.forEach(m=>{const v=$o(m.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));d=d.replace(m,v)}),d=d.replace(/\\{/g,"{").replace(/\\}/g,"}"),d};(()=>{e.content=t(e.content),e.args.forEach(f=>{f.value&&typeof f.value=="string"&&(f.value=t(f.value))})})();let r=!0,i=Ne(e,"when");if(i&&(r=aE(i)),!r){he.warn(""),I.sceneManager.sceneData.currentSentenceId++,wr();return}i_(e);let o=At(e,"next")??!1,a=e.command===Ye.say;const s=At(e,"notend")??!1,u=W.getState().stage.judgment!=="";a=a&&!s&&!u;let l;if(o){I.sceneManager.sceneData.currentSentenceId++,B4();return}setTimeout(()=>{l=W.getState().stage;const f={currentStageState:l,globalGameVar:W.getState().userData.globalGameVar};he.debug("",f),a&&I.backlogManager.saveCurrentStateToBacklog()},0),I.sceneManager.sceneData.currentSentenceId++},wr=()=>{if(I.events.userInteractNext.emit(),W.getState().GUI.showTitle)return;let t=!1;if(I.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(t=!0)}),t){he.warn("next ");return}let n=!0;if(I.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(n=!1)}),n){const i=W.getState().stage,o=Pt(i);for(let a=0;a<o.PerformList.length;a++)o.PerformList[a].isHoldOn||(o.PerformList.splice(a,1),a--);W.dispatch(my(o)),B4();return}he.debug("");let r=!1;for(let i=0;i<I.gameplay.performController.performList.length;i++){const o=I.gameplay.performController.performList[i];o.isHoldOn||(o.goNextWhenOver&&(r=!0),o.skipNextCollect||(o.stopFunction(),clearTimeout(o.stopTimeout),I.gameplay.performController.performList.splice(i,1),i--))}r&&wr()},o_=()=>Math.random().toString().substring(0,10);class iAe{constructor(){ye(this,"performList",[])}arrangeNewPerform(t,n,r=!0){if(this.performList.findIndex(a=>a.performName===t.performName)>-1)for(let a=0;a<this.performList.length;a++){const s=this.performList[a];s.performName===t.performName&&(s.stopFunction(),clearTimeout(s.stopTimeout),this.performList.splice(a,1),a--)}if(t.performName===ac)return;if(r){const a={id:t.performName,isHoldOn:t.isHoldOn,script:n};W.dispatch(Ft.addPerform(a))}t.stopTimeout=setTimeout(()=>{t.isHoldOn||this.unmountPerform(t.performName)},t.duration),(At(n,"continue")??!1)&&(t.goNextWhenOver=!0),this.performList.push(t)}unmountPerform(t,n=!1){if(n)for(let r=0;r<this.performList.length;r++){const i=this.performList[r];i.performName===t&&(i.stopFunction(),clearTimeout(i.stopTimeout),i.goNextWhenOver&&this.goNextWhenOver(),this.performList.splice(r,1),r--,this.erasePerformFromState(t))}else for(let r=0;r<this.performList.length;r++){const i=this.performList[r];!i.isHoldOn&&i.performName===t&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(r,1),r--,this.erasePerformFromState(t),i.goNextWhenOver&&this.goNextWhenOver())}}erasePerformFromState(t){W.dispatch(Ft.removePerformByName(t))}removeAllPerform(){for(const t of this.performList)clearTimeout(t.stopTimeout),t.stopFunction();this.performList=[]}goNextWhenOver(){var n;let t=!1;(n=this.performList)==null||n.forEach(r=>{r.blockingAuto()&&(t=!0)}),t?setTimeout(this.goNextWhenOver,100):wr()}}class oAe{constructor(){ye(this,"isAuto",!1);ye(this,"isFast",!1);ye(this,"autoInterval",null);ye(this,"fastInterval",null);ye(this,"autoTimeout",null);ye(this,"pixiStage",null);ye(this,"performController",new iAe)}resetGamePlay(){this.isAuto=!1,this.isFast=!1;const t=this.autoInterval;t!==null&&clearInterval(t),this.autoInterval=null;const n=this.fastInterval;n!==null&&clearInterval(n),this.fastInterval=null;const r=this.autoTimeout;r!==null&&clearInterval(r),this.autoTimeout=null}}function aAe(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}class sAe{constructor(){ye(this,"textSettle",Am("text-settle"));ye(this,"userInteractNext",Am("__NEXT"));ye(this,"fullscreenDbClick",Am("fullscreen-dbclick"));ye(this,"styleUpdate",Am("style-update"))}}const Zb=aAe();function Am(e){return{on:(t,n)=>{Zb.on(`${e}-${n??""}`,t)},emit:(t,n)=>{Zb.emit(`${e}-${n??""}`,t)},off:(t,n)=>{Zb.off(`${e}-${n??""}`,t)}}}class uAe{constructor(){ye(this,"sceneManager",new _re);ye(this,"backlogManager",new yre(this.sceneManager));ye(this,"animationManager",new xre);ye(this,"gameplay",new oAe);ye(this,"gameName","");ye(this,"gameKey","");ye(this,"events",new sAe)}}const I=new uAe,yl=new Kwe,lAe=""+new URL("textbox-9a75d348.png",import.meta.url).href,j4=""+new URL("namebox-5f2bdaf6.png",import.meta.url).href;function $4(e,t){const[n,r]=q.useState(t),[i,o]=q.useState(!1),a=async()=>{try{he.debug("json",e);const u=(await lc.get(`game/template/${e}`)).data;r(u),o(!0)}catch(s){he.error("json",s),r(t),o(!1)}};return q.useEffect(()=>{a()},[e]),q.useEffect(()=>{const s=()=>{a()};return I.events.styleUpdate.on(s),()=>I.events.styleUpdate.off(s)},[e]),n}const cAe=""+new URL("button_on-1dbc5ccb.png",import.meta.url).href,fAe=""+new URL("button_off-714ac9b6.png",import.meta.url).href,hAe=""+new URL("cursor-90b8a159.png",import.meta.url).href;function U4(e){const{textArray:t,textDelay:n,currentConcatDialogPrev:r,currentDialogKey:i,isText:o,isSafari:a,isFirefox:s,fontSize:u,miniAvatar:l,isHasName:f,showName:d,font:p,textDuration:m,isUseStroke:v,textboxOpacity:_,textSizeState:y,isAuto:x}=e,[b,w]=q.useState(!1),[T,C]=q.useState(!1),O=t_("Stage/TextBox/textbox.scss"),{playSeClick:A}=yn(),M=$4("Stage/TextBox/characters.json",{});q.useEffect(()=>{const L=()=>{const re=I.gameplay.isAuto;w(ae=>re!==ae?re:ae)};L();const Z=setInterval(L,100);return()=>clearInterval(Z)},[]),q.useEffect(()=>{w(x)},[x]);const D=()=>{Nd(),A(),w(I.gameplay.isAuto)};q.useEffect(()=>{function L(){[...document.querySelectorAll(".Textelement_start")].forEach(ae=>{ae.className=O("TextBox_textElement_Settled",On.TextBox_textElement_Settled)}),C(!0)}return I.events.textSettle.on(L),()=>{I.events.textSettle.off(L)}},[O]),q.useEffect(()=>{C(!1)},[i]),q.useEffect(()=>{if(!o||t.length===0){C(!1);return}let L=0;t.forEach(de=>{de.forEach(()=>{L++})});const Z=L*n,re=m/2,ae=Z+re,le=setTimeout(()=>{C(!0)},ae);return()=>{clearTimeout(le)}},[t,n,m,o,i]);let B=0;function G(L){var Z;return typeof L=="string"?L:typeof L=="number"?String(L):Array.isArray(L)?L.map(G).join(""):L==null?"":typeof((Z=L.props)==null?void 0:Z.children)<"u"?G(L.props.children):String(L)}function U(L){return/^[a-z]/.test(L)?L.toUpperCase():L}function H(L){return L.replace(/\u3000/g," ").trim().replace(/\s+/g," ")}function Q(L){return H(L).replace(/\s+/g,"")}function ee(L,Z){const re=H(L),ae=Q(re),le=Z;for(const ge of Object.keys(le))if(Q(ge)===ae){const Ie=le[ge];return Ie&&Ie.length>0?{canonicalKey:H(ge),color:Ie}:{canonicalKey:H(ge)}}const de=H(re);return le[de]?{canonicalKey:de,color:le[de]}:{canonicalKey:de}}function ne(L,Z){const{isSurnameFirst:re,isGivenFirst:ae,hasSurname:le,surnameColor:de}=Z,ge=re?"250%":ae?"200%":"150%";return re?de?{fontSize:ge,color:de,useLayer:!1}:{fontSize:ge,color:"#fff",useLayer:!0}:ae?{fontSize:ge,color:"#fff",useLayer:!0}:{fontSize:ge,color:"#fff",useLayer:!0}}const ce=d.map((L,Z)=>{const re=L.map(Se=>G(Se.reactNode)).join(""),{canonicalKey:ae,color:le}=ee(re,M),de=ae.split(" "),ge=de.length>=2,Ie=ge?de[0]:ae,ke=ge?de.slice(1).join(""):"",Ze=ge&&ke.length>0?Ie+ke:Ie,Be=Array.from(Ze),Ue=ge&&ke.length>0?Ie.length:-1,je=Be.map((Se,Ge)=>{const yt=Ge===0,Je=ge&&ke.length>0&&Ge===Ue,It=yt||Je?U(Se):Se,Cn=ne(Ge,{isSurnameFirst:yt,isGivenFirst:Je,hasSurname:ge,surnameColor:le}),kn={position:"relative",display:"inline-block",lineHeight:1,marginRight:0};return yt&&le?E.jsx("span",{style:{...kn,fontSize:Cn.fontSize,color:le,left:"20px"},children:It},`${It}-${Ge}`):Cn.useLayer?E.jsx("span",{style:{...kn,fontSize:Cn.fontSize},children:E.jsxs("span",{className:On.zhanwei,children:[It,E.jsx("span",{className:O("outerName",On.outerName),children:It}),v&&E.jsx("span",{className:O("innerName",On.innerName),children:It})]})},`${It}-${Ge}`):Cn.outlineOnly?E.jsx("span",{style:{...kn,fontSize:Cn.fontSize,color:"transparent"},children:It},`${It}-${Ge}`):E.jsx("span",{style:{...kn,fontSize:Cn.fontSize,color:Cn.color??"#fff"},children:It},`${It}-${Ge}`)});return E.jsx("div",{style:{display:"flex",alignItems:"baseline",wordBreak:a||e.isFirefox?"break-all":void 0,flexWrap:a?"wrap":void 0},children:je},`name-line-${Z}`)}),Ae=t.map((L,Z)=>{const re=L.map((ae,le)=>{const de=ae.reactNode;let ge="",Ie="";if(ae.enhancedValue){const je=ae.enhancedValue;for(const Se of je){const{key:Ge,value:yt}=Se;switch(Ge){case"style":ge=yt;break;case"tips":break;case"style-alltext":Ie=yt;break}}}let ke=B*n;B++;const Ze=r.length;r!==""&&B>=Ze&&(ke=ke-Ze*n);const Be=" "+ov(ge),Ue=" "+ov(Ie);return B<Ze?E.jsx("span",{id:`${ke}`,className:O("TextBox_textElement_Settled",On.TextBox_textElement_Settled),style:{animationDelay:`${ke}ms`,animationDuration:`${m}ms`},children:E.jsxs("span",{className:On.zhanwei+Ue,children:[de,E.jsx("span",{className:O("outer",On.outer)+Be+Ue,children:de}),v&&E.jsx("span",{className:O("inner",On.inner)+Ue,children:de})]})},i+le):E.jsx("span",{id:`${ke}`,className:`${O("TextBox_textElement_start",On.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${ke}ms`,position:"relative"},children:E.jsxs("span",{className:On.zhanwei+Ue,children:[de,E.jsx("span",{className:O("outer",On.outer)+Be+Ue,children:de}),v&&E.jsx("span",{className:O("inner",On.inner)+Ue,children:de})]})},i+le)});return E.jsx("div",{style:{wordBreak:a||e.isFirefox?"break-all":void 0,display:a?"flex":void 0,flexWrap:a?"wrap":void 0},children:re},`text-line-${Z}`)}),pe=`line-height: ${y===Ni.medium?"2.2em":"2em"}`,fe=ov(pe);return E.jsx(E.Fragment,{children:o&&E.jsxs("div",{className:On.TextBox_Container,children:[E.jsx("div",{"aria-hidden":!0,style:{position:"fixed",inset:0,zIndex:2,pointerEvents:"none",backgroundImage:`url(${lAe})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",opacity:_/100}}),E.jsxs("div",{id:"textBoxMain",className:O("TextBox_main",On.TextBox_main)+" "+(l===""?O("TextBox_main_miniavatarOff",On.TextBox_main_miniavatarOff):void 0),style:{fontFamily:p,background:"transparent"},children:[E.jsx("div",{id:"miniAvatar",className:O("miniAvatarContainer",On.miniAvatarContainer),children:l!==""&&E.jsx("img",{className:O("miniAvatarImg",On.miniAvatarImg),alt:"miniAvatar",src:l})}),f&&E.jsxs(E.Fragment,{children:[E.jsx("div",{"aria-hidden":!0,style:{position:"fixed",inset:0,zIndex:3,pointerEvents:"none",backgroundImage:`url(${j4})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",opacity:_/100}}),E.jsx("div",{className:O("TextBox_showName",On.TextBox_showName),style:{position:"absolute",left:-165,top:-190,fontSize:"200%",background:"transparent",border:0,zIndex:4},children:ce})]}),E.jsx("div",{style:{position:"fixed",left:40,top:1260,zIndex:99999,cursor:"pointer",display:"flex",justifyContent:"center",pointerEvents:"auto"},onClick:D,children:E.jsx("img",{src:b?cAe:fAe,alt:"auto_button",style:{width:"auto",height:"auto"},draggable:!1})}),E.jsx("div",{className:`${fe} ${O("text",On.text)}`,style:{fontSize:u,flexFlow:"column",overflow:"hidden",paddingLeft:"0.1em"},children:Ae}),T&&!b&&E.jsx("img",{src:hAe,alt:"cursor",className:On.textBoxCursor})]})]})})}const G4=navigator.userAgent,dAe=/firefox/i.test(G4),pAe=/^((?!chrome|android).)*safari/i.test(G4),mAe=()=>{const e=Le(A=>A.stage),t=Le(A=>A.GUI),n=Le(A=>A.userData),r=ry(n.optionData.textSpeed),i=iy(n.optionData.textSpeed);let o=K1(n.optionData.textSize)+"%";const a=uD(),s=e.showText!==""||e.showName!=="";let u=n.optionData.textSize;s&&e.showTextSize!==-1&&(o=K1(e.showTextSize)+"%",u=e.showTextSize);const l=gT(u).with(Ni.small,()=>3).with(Ni.medium,()=>2).with(Ni.large,()=>2).default(()=>2),f=ba(e.showText,l),d=e.showName!=="",p=ba(e.showName,l),m=e.currentConcatDialogPrev,v=e.currentDialogKey,_=e.miniAvatar,y=n.optionData.textboxOpacity,x=U4,b=t.fontOptimization,[w,T]=q.useState(!0),[C,O]=q.useState(I.gameplay.isAuto);return q.useEffect(()=>{const M=setInterval(()=>{const D=I.gameplay.isAuto;O(B=>D!==B?D:B)},100);return()=>clearInterval(M)},[]),q.useEffect(()=>{if(!b){T(!0);return}const A=()=>{const M=ug.height,D=ug.width,B=window.innerHeight,G=window.innerWidth,U=B/M,H=G/D,Q=G/M,ee=B/D;[U,H,Q,ee].forEach(ne=>{ne<=.2?T(!1):T(!0)})};return window.addEventListener("resize",A),A(),()=>{window.removeEventListener("resize",A)}},[b]),E.jsx(x,{textArray:f,isText:s,textDelay:r,showName:p,isHasName:d,currentConcatDialogPrev:m,fontSize:o,currentDialogKey:v,isSafari:pAe,isFirefox:dAe,miniAvatar:_,textDuration:i,font:a,textSizeState:u,lineLimit:l,isUseStroke:w,textboxOpacity:y,isAuto:C})};function oL(e){return!!e.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function ba(e,t,n,r=!0){return e.split(new RegExp("(?<!\\\\)\\|")).map(s=>Jy(s)).map(s=>vAe(s)).map(s=>{const u=[];return s.forEach((l,f)=>{gT(l.type).with("SegmentType.String",()=>{const d=aL(l.value,r);u.push(...d.map(p=>({reactNode:p})))}).endsWith("SegmentType.Link",()=>{const d=l.value;if(d.ruby){const p=E.jsx("span",{className:"__enhanced_text",children:E.jsxs("ruby",{children:[d.text,E.jsx("rt",{children:d.ruby})]},f+d.text)},d.text+`${f}`);u.push({reactNode:p,enhancedValue:d.values})}else aL(d.text,r).forEach((m,v)=>{const _=E.jsx("span",{className:"__enhanced_text",children:m},d.text+`${f}-${v}`);u.push({reactNode:_,enhancedValue:d.values})})})}),u}).slice(0,n?void 0:t)}function aL(e,t=!0){if(!e)return[""];const n=[];let r="",i=oL(e[0]);const o=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of e)if(a===" "||a==="")r&&(n.push(r),r=""),t?n.push(""):n.push(a),i=!1;else if(oL(a)&&!o(a))!i&&r&&(n.push(r),r=""),n.push(a),i=!0;else{if(o(a)){r?(r+=a,n.push(r),r=""):n.length>0?n[n.length-1]+=a:n.push(a);continue}i&&r&&(n.push(r),r=""),r+=a,i=!1}return r&&n.push(r),n}function vAe(e){const t=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,n=[];let r;for(;(r=t.exec(e))!==null;)if(r[1]){const i=r[2],o=r[3];let a=[],s="";if(o.match(/style=|tips=|ruby=|style-alltext=/)){a=gAe(o);const u=a.find(l=>l.key==="ruby");u&&(s=u.value)}else s=o;n.push({type:"SegmentType.Link",value:{text:i,ruby:s,values:a}})}else{const i=r[0];n.push({type:"SegmentType.String",value:i})}return n.unshift({type:"SegmentType.String",value:""}),n}function gAe(e){const t=[],n=/(\S+)=(.*?)(?=\s+\S+=|\s*$)/g;let r;for(;(r=n.exec(e))!==null;)t.push({key:r[1],value:r[2].replace(/~/g,":").trim()});return t}const yAe=()=>{var _;const e=Le(y=>y.stage),t=Le(y=>y.GUI.titleBgm),n=Le(y=>y.GUI.showTitle),r=Le(y=>y.userData),i=r.optionData.volumeMain,o=i*.01*r.optionData.vocalVolume*.01*e.vocalVolume*.01,a=i*.01*r.optionData.bgmVolume*.01*e.bgm.volume*.01,s=e.bgm.enter,u=e.uiSe,l=i*.01*(((_=r.optionData)==null?void 0:_.seVolume)??100)*.01,f=i*.01*(r.optionData.uiSeVolume??50)*.01,d=Le(y=>y.GUI.isEnterGame),[p,m]=q.useState(setTimeout(()=>{},0)),v=(y,x,b)=>{b>=0?y.volume=0:y.volume=x;const w=10,T=x/b*w,C=()=>{const O=setTimeout(()=>{y.volume+T>=x?y.volume=x:y.volume+T<=0?(y.volume=0,W.dispatch(we({key:"bgm",value:{src:"",enter:0,volume:100}}))):(y.volume+=T,C())},w);m(O)};C()};return q.useEffect(()=>{clearTimeout(p);const y=document.getElementById("currentBgm");y&&(s===0?y.volume=a:v(y,a,s))},[n,t,e.bgm.src,a,s]),q.useEffect(()=>{he.debug(`${a}`)},[a]),q.useEffect(()=>{he.debug(`: ${s}`)},[s]),q.useEffect(()=>{he.debug(`${o}`);const y=document.getElementById("currentVocal");y&&(y.volume=o.toString())},[o]),q.useEffect(()=>{if(u==="")return;const y=document.createElement("audio");y.src=u,y.loop=!1,isNaN(f)?(he.error("UI SE Vol is NaN"),y.volume=isNaN(l)?i/100:l/100):y.volume=f,y.play(),y.addEventListener("ended",()=>{y.remove()}),W.dispatch(we({key:"uiSe",value:""}))},[u]),q.useEffect(()=>{he.debug(`: ${l}`)},[l]),q.useEffect(()=>{he.debug(`: ${f}`)},[f]),E.jsxs("div",{children:[E.jsx("audio",{id:"currentBgm",src:n?t:e.bgm.src,loop:!0,autoPlay:d},n.toString()+t),E.jsx("audio",{id:"currentVocal",src:e.playVocal})]})},_Ae=()=>{const e=Le(i=>i.stage);let t="100%",n="100%",r="0";return e.enableFilm!==""&&(n="76%",r="12%"),E.jsx("div",{className:la.FullScreenPerform_main,style:{width:t,height:n,top:r},children:E.jsx("div",{id:"videoContainer"})})},z4=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=pg.button_on:t.className=pg.singleButton)},Zl=()=>{V4()&&(I.gameplay.isFast=!1,z4(!1),I.gameplay.fastInterval!==null&&(clearInterval(I.gameplay.fastInterval),I.gameplay.fastInterval=null))},H4=()=>{V4()||(I.gameplay.isFast=!0,z4(!0),I.gameplay.fastInterval=setInterval(()=>{wr()},p3.fast_timeout))},V4=function(){return I.gameplay.isFast},TO=()=>{Zl(),so()},xAe=()=>{I.gameplay.isFast?Zl():H4()},bAe="_TextBox_EventHandler_449dq_2",SAe="_TextBox_main_449dq_10",wAe="_showSoftly_449dq_1",EAe="_TextBox_textElement_449dq_38",TAe="_TextBox_textElement_start_449dq_43",CAe="_TextDelayShow_449dq_1",OAe="_TextBox_textElement_Settled_449dq_48",AAe="_TextBox_showName_449dq_52",PAe="_miniAvatarContainer_449dq_68",IAe="_miniAvatarImg_449dq_76",Qb={TextBox_EventHandler:bAe,TextBox_main:SAe,showSoftly:wAe,TextBox_textElement:EAe,TextBox_textElement_start:TAe,TextDelayShow:CAe,TextBox_textElement_Settled:OAe,TextBox_showName:AAe,miniAvatarContainer:PAe,miniAvatarImg:IAe},RAe=()=>{const e=Le(a=>a.stage),t=Le(a=>a.userData);q.useEffect(()=>{});const n=gre.textInitialDelay-20*t.optionData.textSpeed,r=t.optionData.textSize*50+200+"%",o=e.showText.split("").map((a,s)=>{let u=s*n,l=e.currentConcatDialogPrev.length;return e.currentConcatDialogPrev!==""&&s>=l&&(u=u-l*n),s<l?E.jsx("span",{id:`${u}`,className:Qb.TextBox_textElement_Settled,style:{animationDelay:`${u}ms`},children:a},e.currentDialogKey+s):E.jsx("span",{id:`${u}`,className:Qb.TextBox_textElement_start,style:{animationDelay:`${u}ms`},children:a},e.currentDialogKey+s)});return E.jsx("div",{id:"textBoxMain",className:Qb.TextBox_main,children:E.jsx("div",{style:{fontSize:r},children:o})})};function ju(e){const t=Le(e),n=q.useRef(t);return q.useEffect(()=>{n.current=t},[t]),n}function Vc(e){q.useEffect(()=>{e()},[])}function Wc(e){q.useEffect(()=>function(){e()},[])}function kAe(e){q.useEffect(()=>{e()})}const NAe="_Backlog_main_x1iyk_3",LAe="_backlog_soft_in_x1iyk_1",MAe="_Backlog_main_out_x1iyk_19",FAe="_backlog_soft_out_x1iyk_1",DAe="_Backlog_main_out_IndexHide_x1iyk_33",BAe="_Backlog_main_DisableScroll_x1iyk_38",jAe="_backlog_top_x1iyk_43",$Ae="_backlog_top_icon_x1iyk_51",UAe="_backlog_icon_softin_x1iyk_1",GAe="_backlog_title_x1iyk_71",zAe="_backlog_content_x1iyk_82",HAe="_backlog_item_x1iyk_95",VAe="_backlog_item_in_x1iyk_1",WAe="_backlog_item_out_x1iyk_112",XAe="_backlog_func_area_x1iyk_123",qAe="_backlog_item_button_list_x1iyk_135",KAe="_backlog_item_button_element_x1iyk_142",YAe="_backlog_item_button_img_x1iyk_149",JAe="_backlog_item_content_name_x1iyk_161",ZAe="_name_container_bg_x1iyk_176",QAe="_name_container_text_x1iyk_190",ePe="_backlog_item_content_x1iyk_161",tPe="_backlog_item_content_text_x1iyk_223",nPe="_name_zhanwei_x1iyk_265",rPe="_name_outer_x1iyk_271",iPe="_name_inner_x1iyk_280",oPe="_name_char_x1iyk_292",aPe="_name_line_x1iyk_308",Ut={Backlog_main:NAe,backlog_soft_in:LAe,Backlog_main_out:MAe,backlog_soft_out:FAe,Backlog_main_out_IndexHide:DAe,Backlog_main_DisableScroll:BAe,backlog_top:jAe,backlog_top_icon:$Ae,backlog_icon_softin:UAe,backlog_title:GAe,backlog_content:zAe,backlog_item:HAe,backlog_item_in:VAe,backlog_item_out:WAe,backlog_func_area:XAe,backlog_item_button_list:qAe,backlog_item_button_element:KAe,backlog_item_button_img:YAe,backlog_item_content_name:JAe,name_container_bg:ZAe,name_container_text:QAe,backlog_item_content:ePe,backlog_item_content_text:tPe,name_zhanwei:nPe,name_outer:rPe,name_inner:iPe,name_char:oPe,name_line:aPe};var sPe=uo,uPe=function(){return sPe.Date.now()},lPe=uPe,cPe=lo,e1=lPe,sL=M4,fPe="Expected a function",hPe=Math.max,dPe=Math.min;function pPe(e,t,n){var r,i,o,a,s,u,l=0,f=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(fPe);t=sL(t)||0,cPe(n)&&(f=!!n.leading,d="maxWait"in n,o=d?hPe(sL(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(O){var A=r,M=i;return r=i=void 0,l=O,a=e.apply(M,A),a}function v(O){return l=O,s=setTimeout(x,t),f?m(O):a}function _(O){var A=O-u,M=O-l,D=t-A;return d?dPe(D,o-M):D}function y(O){var A=O-u,M=O-l;return u===void 0||A>=t||A<0||d&&M>=o}function x(){var O=e1();if(y(O))return b(O);s=setTimeout(x,_(O))}function b(O){return s=void 0,p&&r?m(O):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function T(){return s===void 0?a:b(e1())}function C(){var O=e1(),A=y(O);if(r=arguments,i=this,u=O,A){if(s===void 0)return v(u);if(d)return clearTimeout(s),s=setTimeout(x,t),m(u)}return s===void 0&&(s=setTimeout(x,t)),a}return C.cancel=w,C.flush=T,C}var mPe=pPe,vPe=mPe,gPe=lo,yPe="Expected a function";function _Pe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(yPe);return gPe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vPe(e,t,{leading:r,maxWait:t,trailing:i})}var xPe=_Pe;const bPe=Qn(xPe),uL=()=>!!(document.fullscreenElement||document.webkitFullscreenElement);function W4(e=document.documentElement){const t=document.fullscreenEnabled||document.webkitFullscreenEnabled,[n,r]=q.useState(uL());q.useEffect(()=>{if(!t)return;const a=()=>r(uL());return document.addEventListener("fullscreenchange",a),()=>{document.removeEventListener("fullscreenchange",a)}},[]);const i=t?()=>e.requestFullscreen():async()=>{},o=t?()=>document.exitFullscreen():async()=>{};return{isSupported:t,isFullScreen:n,enter:i,exit:o,toggle:()=>n?o():i()}}const lL="keyboard"in navigator&&navigator.keyboard;function SPe(e){const t=ju(n=>n.stage);wPe(),TPe(t),OPe(t),CPe(),APe(),NPe(t),MPe()}function wPe(){const e=ju(l=>l.GUI),t=s_(),{playSeRightClick:n}=yn(),r=a_(e),i=X4(e),o=PPe(e),a=RPe(e),s=IPe(e),u=q.useCallback(l=>o()?(n(),t("showGlobalDialog",!1),l.preventDefault(),!1):(s()&&(n(),t("showExtra",!1)),r()&&(n(),t("showTextBox",!e.current.showTextBox)),i()&&(n(),t("showBacklog",!1),t("showTextBox",!0)),a()&&(n(),t("showMenuPanel",!1)),l.preventDefault(),!1),[]);Vc(()=>{document.addEventListener("contextmenu",u)}),Wc(()=>{document.removeEventListener("contextmenu",u)})}let EPe=setTimeout(()=>{},0);function TPe(e){const t=ju(l=>l.GUI),n=s_(),r=a_(t),i=X4(t),o=q4(t),a=q.useCallback(bPe(()=>{(e==null?void 0:e.current.judgment)===""&&wr()},100),[]),s=q.useRef(0),u=q.useCallback(l=>{if(o())return;const f=l.wheelDelta&&(l.wheelDelta>0?"up":"down")||l.detail&&(l.detail<0?"up":"down")||"down",d=l.ctrlKey,p=document.querySelector(`.${Ut.backlog_content}`);if(r()&&f==="up"&&!d){if((e==null?void 0:e.current.judgment)!=="")return;n("showBacklog",!0),n("showTextBox",!1)}else if(i()&&f==="down"&&!d){if(p){let m=LPe(p),v=new Date().getTime();m&&v-s.current>100&&(n("showBacklog",!1),n("showTextBox",!0)),s.current=v}}else if(r()&&f==="down"&&!d){if((e==null?void 0:e.current.judgment)!=="")return;clearTimeout(EPe),I.gameplay.isFast=!0,setTimeout(()=>{I.gameplay.isFast=!1},150),a()}},[r,i,o,e]);Vc(()=>{document.addEventListener("wheel",u)}),Wc(()=>{document.removeEventListener("wheel",u)})}function CPe(){const e=["Escape","Backquote"],t=s=>!s.isComposing&&!s.defaultPrevented&&e.includes(s.code),n=ju(s=>s.GUI),r=q.useCallback(()=>n.current.showTitle,[n]),i=q4(n),o=s_(),a=q.useCallback(s=>{!t(s)||r()||(i()?o("showPanicOverlay",!1):(o("showPanicOverlay",!0),TO()))},[]);Vc(()=>{document.addEventListener("keyup",a)}),Wc(()=>{document.removeEventListener("keyup",a)})}function OPe(e){const t=ju(s=>s.GUI),n=a_(t),r=q.useCallback(s=>s.keyCode===17,[]),i=q.useCallback(s=>{if(r(s)&&n()){if((e==null?void 0:e.current.judgment)!=="")return;H4()}},[n,r,e]),o=q.useCallback(s=>{r(s)&&n()&&Zl()},[n,r]),a=q.useCallback(s=>{Zl()},[]);Vc(()=>{document.addEventListener("keydown",i),document.addEventListener("keyup",o),window.addEventListener("blur",a)}),Wc(()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",o),window.removeEventListener("blur",a)}),kAe(()=>{(!n()||(e==null?void 0:e.current.judgment)!==""&&I.gameplay.isFast)&&Zl()})}function APe(){const e=kPe(),t=q.useCallback(async n=>{e()&&await E1e()},[]);Vc(()=>{window.addEventListener("beforeunload",t)}),Wc(()=>{window.removeEventListener("beforeunload",t)})}function a_(e){return q.useCallback(()=>!e.current.showTitle&&!e.current.showMenuPanel&&!e.current.showBacklog&&!e.current.showPanicOverlay,[e])}function X4(e){return q.useCallback(()=>e.current.showBacklog,[e])}function PPe(e){return q.useCallback(()=>e.current.showGlobalDialog,[e])}function IPe(e){return q.useCallback(()=>e.current.showExtra,[e])}function q4(e){return q.useCallback(()=>e.current.showPanicOverlay,[e])}function RPe(e){return q.useCallback(()=>[Dt.Save,Dt.Load,Dt.Option].includes(e.current.currentMenuTag),[e])}function kPe(){return q.useCallback(()=>I.sceneManager.sceneData.currentSentenceId!==0,[I.sceneManager.sceneData])}function s_(){const e=on();return(t,n)=>{e(at({component:t,visibility:n}))}}function NPe(e){const t=ju(l=>l.GUI),n=a_(t),r=s_(),i=q.useRef(!1),o=q.useCallback(l=>l.keyCode===32||l.keyCode===13,[]),a=q.useCallback(l=>{if(o(l)&&n()&&!i.current){if((e==null?void 0:e.current.judgment)!==""&&(e!=null&&e.current.isDisableTextbox))return;if(!t.current.showTextBox){r("showTextBox",!0);return}TO(),wr(),i.current=!0}},[n,o,t,e]),s=q.useCallback(l=>{o(l)&&n()&&(i.current=!1)},[n,o]),u=q.useCallback(l=>{i.current=!1},[]);Vc(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",s),document.addEventListener("blur",u)}),Wc(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("blur",u)})}function LPe(e){const{scrollTop:t,clientHeight:n,scrollHeight:r}=e;return t===0}function MPe(){const{isSupported:e,isFullScreen:t,toggle:n}=W4();if(!e)return;const r=on();q.useEffect(()=>{const i=o=>o.repeat||o.key==="F11"&&n();return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[]),q.useEffect(()=>{r(qn({key:"fullScreen",value:t?0:1})),I.gameKey&&nn()},[t])}async function FPe(e,t){return await new Promise((n,r)=>{try{const i=We.from(t),o=i.baseTexture,a=()=>{console.debug(`[LUT] : ${i.width}x${i.height} from ${t}`),!o.valid||i.width===0||i.height===0?r(new Error(`[LUT] : ${t}`)):n(i)},s=u=>{r(new Error(`[LUT] : ${t} ${(u==null?void 0:u.message)??""}`))};o.valid?a():(o.once("loaded",a),o.once("error",s))}catch(i){r(new Error(`[LUT] : ${t} ${i.message}`))}})}class DPe{constructor(){ye(this,"activeRequests",new Map);ye(this,"requestCounter",0)}async loadLUT(t,n,r){this.cancelRequest(t);const i=++this.requestCounter,o=new AbortController,a={id:t,url:n,version:i,controller:o,promise:this.createLoadPromise(n,r,o,i)};this.activeRequests.set(t,a);try{const s=await a.promise,u=this.activeRequests.get(t);if(u&&u.version===i)return console.debug(`[LUT]  LUT: ${t} (v${i}) from ${n}`),s;throw s.destroy(),new Error(`[LUT] : ${t} (v${i})`)}catch(s){const u=this.activeRequests.get(t);throw u&&u.version===i?(this.activeRequests.delete(t),s):new Error(`[LUT] : ${t} (v${i})`)}}createLoadPromise(t,n,r,i){return new Promise((o,a)=>{if(r.signal.aborted){a(new Error(`[LUT] : v${i}`));return}r.signal.addEventListener("abort",()=>{a(new Error(`[LUT] : v${i}`))}),FPe(n,t).then(o).catch(a)})}cancelRequest(t){const n=this.activeRequests.get(t);n&&(n.controller.abort(),this.activeRequests.delete(t),console.debug(`[LUT] : ${t} (v${n.version})`))}cancelAllRequests(){for(const[t,n]of this.activeRequests)n.controller.abort(),console.debug(`[LUT] : ${t} (v${n.version})`);this.activeRequests.clear()}hasActiveRequest(t){return this.activeRequests.has(t)}getActiveRequestCount(){return this.activeRequests.size}}const Ql=new DPe;function BPe(e){const t=e.bgName;q.useEffect(()=>{var r,i;const n="bg-main";if(t!==""){const o=(r=I.gameplay.pixiStage)==null?void 0:r.getStageObjByKey(n);o&&o.sourceUrl!==t&&cL(o),jPe(void 0,n,t),Wy(t),he.debug("");const{duration:a,animation:s}=Xa("bg-main","enter",!0);I.gameplay.pixiStage.registerPresetAnimation(s,"bg-main-softin",n,e.effects),setTimeout(()=>I.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),a)}else{const o=(i=I.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(n);o&&cL(o)}},[t]),q.useEffect(()=>{var i;const n=e.bgLut,r=(i=I.gameplay.pixiStage)==null?void 0:i.getStageObjByKey("bg-main");if(r){if(!n){Ql.cancelRequest("bg-main"),r.pixiContainer.setColorMapTexture(null);return}(async()=>{try{const o=I.gameplay.pixiStage.currentApp,a=await Ql.loadLUT("bg-main",n,o);r.pixiContainer.setColorMapTexture(a),r.pixiContainer.colorMapIntensity=1}catch(o){o instanceof Error&&!o.message.includes("")&&console.error("Failed to apply bg LUT",n,o)}})()}},[e.bgLut,e.bgName]),q.useEffect(()=>()=>{Ql.cancelRequest("bg-main")},[])}function cL(e){var a,s;(a=I.gameplay.pixiStage)==null||a.removeAnimationWithSetEffects("bg-main-softin");const t=e.key;e.key="bg-main-off"+String(new Date().getTime());const n=e.key,r=e.key+"-softoff";(s=I.gameplay.pixiStage)==null||s.removeStageObjectByKey(t);const{duration:i,animation:o}=Xa("bg-main-off","exit",!0,n);I.gameplay.pixiStage.registerAnimation(o,r,n),setTimeout(()=>{var u,l;(u=I.gameplay.pixiStage)==null||u.removeAnimation(r),(l=I.gameplay.pixiStage)==null||l.removeStageObjectByKey(n)},i)}function jPe(e,...t){var r,i,o;const n=t[1];return["mp4","webm","mkv"].some(a=>n.toLocaleLowerCase().endsWith(a))?(r=I.gameplay.pixiStage)==null?void 0:r.addVideoBg(...t):n.toLocaleLowerCase().endsWith(".skel")?(i=I.gameplay.pixiStage)==null?void 0:i.addSpineBg(...t):(o=I.gameplay.pixiStage)==null?void 0:o.addBg(...t)}function $Pe(e){const{figNameLeft:t,figName:n,figNameRight:r,freeFigure:i,live2dMotion:o,live2dExpression:a,live2dBlink:s,live2dFocus:u,figureMetaData:l}=e;q.useEffect(()=>{var f;for(const d of o)(f=I.gameplay.pixiStage)==null||f.changeModelMotionByKey(d.target,d.motion)},[o]),q.useEffect(()=>{var f;for(const d of a)(f=I.gameplay.pixiStage)==null||f.changeModelExpressionByKey(d.target,d.expression)},[a]),q.useEffect(()=>{var f;for(const d of s)(f=I.gameplay.pixiStage)==null||f.changeModelBlinkByKey(d.target,d.blink)},[s]),q.useEffect(()=>{var f;for(const d of u)(f=I.gameplay.pixiStage)==null||f.changeModelFocusByKey(d.target,d.focus)},[u]),q.useEffect(()=>{Object.entries(l).forEach(([f,d])=>{var m;const p=(m=I.gameplay.pixiStage)==null?void 0:m.getStageObjByKey(f);p&&!p.isExiting&&(d==null?void 0:d.zIndex)!==void 0&&(p.pixiContainer.zIndex=d.zIndex)})},[l]),q.useEffect(()=>{Object.entries(l).forEach(async([f,d])=>{var v;const p=d==null?void 0:d.lut;if(p===void 0)return;const m=async()=>{var y;const _=(y=I.gameplay.pixiStage)==null?void 0:y.getStageObjByKey(f);if(!(!_||_.isExiting)){if(p===""){Ql.cancelRequest(f),_.pixiContainer.setColorMapTexture(null);return}try{const x=I.gameplay.pixiStage.currentApp,b=await Ql.loadLUT(f,p,x);_.pixiContainer.setColorMapTexture(b),_.pixiContainer.colorMapIntensity=1}catch(x){x instanceof Error&&!x.message.includes("")&&console.error("Failed to apply figure LUT",f,x)}}};(v=I.gameplay.pixiStage)!=null&&v.getStageObjByKey(f)?m():setTimeout(m,0)})},[l]),q.useEffect(()=>()=>{Object.keys(l).forEach(f=>{Ql.cancelRequest(f)})},[l]),q.useEffect(()=>{var p,m;const f="fig-center",d="fig-center-softin";if(n!==""){const v=(p=I.gameplay.pixiStage)==null?void 0:p.getStageObjByKey(f);v&&v.sourceUrl!==n&&oa(v,d,e.effects),zf(void 0,f,n,"center"),he.debug("");const{duration:_,animation:y}=Xa(f,"enter");I.gameplay.pixiStage.registerPresetAnimation(y,d,f,e.effects),setTimeout(()=>I.gameplay.pixiStage.removeAnimationWithSetEffects(d),_)}else{he.debug("");const v=(m=I.gameplay.pixiStage)==null?void 0:m.getStageObjByKey(f);v&&v.sourceUrl!==n&&oa(v,d,e.effects)}},[n]),q.useEffect(()=>{var p,m;const f="fig-left",d="fig-left-softin";if(t!==""){const v=(p=I.gameplay.pixiStage)==null?void 0:p.getStageObjByKey(f);v&&v.sourceUrl!==t&&oa(v,d,e.effects),zf(void 0,f,t,"left"),he.debug("");const{duration:_,animation:y}=Xa(f,"enter");I.gameplay.pixiStage.registerPresetAnimation(y,d,f,e.effects),setTimeout(()=>I.gameplay.pixiStage.removeAnimationWithSetEffects(d),_)}else{he.debug("");const v=(m=I.gameplay.pixiStage)==null?void 0:m.getStageObjByKey(f);v&&v.sourceUrl!==t&&oa(v,d,e.effects)}},[t]),q.useEffect(()=>{var p,m;const f="fig-right",d="fig-right-softin";if(r!==""){const v=(p=I.gameplay.pixiStage)==null?void 0:p.getStageObjByKey(f);v&&v.sourceUrl!==r&&oa(v,d,e.effects),zf(void 0,f,r,"right"),he.debug("");const{duration:_,animation:y}=Xa(f,"enter");I.gameplay.pixiStage.registerPresetAnimation(y,d,f,e.effects),setTimeout(()=>I.gameplay.pixiStage.removeAnimationWithSetEffects(d),_)}else{const v=(m=I.gameplay.pixiStage)==null?void 0:m.getStageObjByKey(f);v&&v.sourceUrl!==r&&oa(v,d,e.effects)}},[r]),q.useEffect(()=>{var d,p,m;for(const v of i){const _=`${v.key}`,y=`${v.key}-softin`;if(v.name!==""){const x=(d=I.gameplay.pixiStage)==null?void 0:d.getStageObjByKey(_);if(x){if(x.sourceUrl!==v.name){oa(x,y,e.effects),zf(void 0,_,v.name,v.basePosition),he.debug(`${v.key}`);const{duration:b,animation:w}=Xa(_,"enter");I.gameplay.pixiStage.registerPresetAnimation(w,y,_,e.effects),setTimeout(()=>I.gameplay.pixiStage.removeAnimationWithSetEffects(y),b)}}else{zf(void 0,_,v.name,v.basePosition),he.debug(`${v.key}`);const{duration:b,animation:w}=Xa(_,"enter");I.gameplay.pixiStage.registerPresetAnimation(w,y,_,e.effects),setTimeout(()=>I.gameplay.pixiStage.removeAnimationWithSetEffects(y),b)}}else{const x=(p=I.gameplay.pixiStage)==null?void 0:p.getStageObjByKey(_);x&&x.sourceUrl!==v.name&&oa(x,y,e.effects)}}const f=(m=I.gameplay.pixiStage)==null?void 0:m.getFigureObjects();if(f){for(const v of f)if(!(v.key==="fig-left"||v.key==="fig-center"||v.key==="fig-right"||v.key.endsWith("-off"))){const _=v.key;if(i.findIndex(x=>x.key===_)<0){const x=`${v.key}-softin`;oa(v,x,e.effects)}}}},[i])}function oa(e,t,n){var l,f,d;if((l=I.gameplay.pixiStage)==null||l.removeAnimationWithSetEffects(t),I.gameplay.isFast){he.debug(""),(f=I.gameplay.pixiStage)==null||f.removeStageObjectByKey(e.key);return}const r=e.key,i=r+"-off";e.key=r+String(new Date().getTime())+"-off";const o=e.key;(d=I.gameplay.pixiStage)==null||d.removeStageObjectByKey(r);const a=o+"-softoff",{duration:s,animation:u}=Xa(i,"exit",!1,o);I.gameplay.pixiStage.registerAnimation(u,a,o),setTimeout(()=>{var p,m;(p=I.gameplay.pixiStage)==null||p.removeAnimation(a),(m=I.gameplay.pixiStage)==null||m.removeStageObjectByKey(o)},s)}function zf(e,...t){var a,s;const n=t[1],r=window.location.origin,o=new URL(n,r).searchParams.get("type");return n.endsWith(".jsonl")?GPe(...t):n.endsWith(".json")?UPe(...t):n.endsWith(".gif")?zPe(...t):n.endsWith(".webm")||n.endsWith(".mov")||o==="video"?HPe(...t):n.endsWith(".skel")||o==="spine"?(a=I.gameplay.pixiStage)==null?void 0:a.addSpineFigure(...t):(s=I.gameplay.pixiStage)==null?void 0:s.addFigure(...t)}function UPe(...e){var t;return(t=I.gameplay.pixiStage)==null?void 0:t.addLive2dFigure(...e)}function GPe(...e){var t;return(t=I.gameplay.pixiStage)==null?void 0:t.addJsonlFigure(...e)}function zPe(...e){var t;return(t=I.gameplay.pixiStage)==null?void 0:t.addGifFigure(...e)}function HPe(...e){var t;return(t=I.gameplay.pixiStage)==null?void 0:t.addVideoFigure(...e)}function VPe(e){const t=e.effects;setTimeout(()=>{WPe(t)},10)}function WPe(e){var n,r,i,o;const t=((n=I.gameplay.pixiStage)==null?void 0:n.getAllStageObj())??[];for(const a of t){const s=a.key,u=e.find(f=>f.target===s);if(!(((r=I.gameplay.pixiStage)==null?void 0:r.getAllLockedObject())??[]).includes(s))if(u){const f=(i=I.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(f){const d=f.pixiContainer;Mo.assignTransform(d,fL(u.transform))}}else{const f=(o=I.gameplay.pixiStage)==null?void 0:o.getStageObjByKey(s);if(f){const d=f.pixiContainer;Mo.assignTransform(d,fL(TT))}}}}function fL(e){if(!e)return{};const{position:t,...n}=e;return t&&typeof t.x=="number"&&typeof t.y=="number"?{...n,x:t.x,y:t.y}:{...n}}function XPe(){const e=Le(t=>t.stage);return BPe(e),$Pe(e),VPe(e),E.jsx("div",{style:{display:"none"}})}const qPe="_introContainer_119k8_1",KPe={introContainer:qPe};function YPe(){return E.jsx("div",{className:KPe.introContainer,id:"introContainer"})}function hL(e){const t=document.getElementById("textBoxMain");if(!t)return!1;let n=t.getBoundingClientRect();return e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom}function JPe(e,t,n){!t.controlsVisibility&&hL(e)&&n(at({component:"controlsVisibility",visibility:!0})),t.controlsVisibility&&!hL(e)&&n(at({component:"controlsVisibility",visibility:!1}))}function ZPe(e,t){var i;return!!(!t.showTextBox||e.isDisableTextbox||!(e.showText!==""||e.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let t1=null;function QPe(e,t,n,r){ZPe(t,n)?(t1&&clearTimeout(t1),r(at({component:"controlsVisibility",visibility:!0})),t1=setTimeout(()=>{r(at({component:"controlsVisibility",visibility:!1}))},1e3)):JPe(e,n,r)}const e2e=()=>{const e=Le(r=>r.stage),t=Le(r=>r.GUI),n=on();return SPe(),E.jsxs("div",{className:ul.MainStage_main,children:[E.jsx(_Ae,{}),E.jsx(XPe,{}),E.jsx("div",{id:"pixiContianer",className:ul.pixiContainer,style:{zIndex:cO?"-5":void 0}}),E.jsx("div",{id:"itemContainer",className:ul.itemContainer}),E.jsx("div",{id:"chooseContainer",className:ul.chooseContainer}),E.jsx("div",{id:"thinkingContainer",className:ul.thinkingContainer}),E.jsx("div",{id:"refuteContainer",className:ul.refuteContainer}),t.showTextBox&&e.enableFilm===""&&!e.isDisableTextbox&&E.jsx(mAe,{}),t.showTextBox&&e.enableFilm!==""&&E.jsx(RAe,{}),E.jsx(yAe,{}),E.jsx("div",{onClick:()=>{if(!t.showPhone&&!(e.judgment!==""&&e.isDisableTextbox)){if(!t.showTextBox){n(at({component:"showTextBox",visibility:!0}));return}TO(),wr()}},onDoubleClick:()=>{t.showPhone||I.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{left:"40",width:"100%",height:"85%",position:"absolute",zIndex:"12",top:"0",pointerEvents:t.showPhone?"none":"auto"},onMouseMove:r=>!t.showControls&&QPe(r,e,t,n)}),E.jsx(YPe,{})]})};var t2e=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function dL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(n),!0).forEach(function(r){n2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n2e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r2e(e,t){if(e==null)return{};var n=i2e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var o2e={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function a2e(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function s2e(e,t,n){var r=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],o=t.theme||n.theme;switch(o){case"outline":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push("none"),i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[1]=="string"?r[1]:n.colors.twoTone.twoTone),i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[1]=="string"?r[1]:n.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[1]=="string"?r[1]:n.colors.multiColor.outFillColor),i.push(typeof r[2]=="string"?r[2]:n.colors.multiColor.innerStrokeColor),i.push(typeof r[3]=="string"?r[3]:n.colors.multiColor.innerFillColor);break}return{size:t.size||n.size,strokeWidth:t.strokeWidth||n.strokeWidth,strokeLinecap:t.strokeLinecap||n.strokeLinecap,strokeLinejoin:t.strokeLinejoin||n.strokeLinejoin,colors:i,id:e}}var K4=q.createContext(o2e);K4.Provider;function Qr(e,t,n){return function(r){var i=r.size,o=r.strokeWidth,a=r.strokeLinecap,s=r.strokeLinejoin,u=r.theme,l=r.fill,f=r.className,d=r.spin,p=r2e(r,t2e),m=q.useContext(K4),v=q.useMemo(a2e,[]),_=s2e(v,{size:i,strokeWidth:o,strokeLinecap:a,strokeLinejoin:s,theme:u,fill:l},m),y=[m.prefix+"-icon"];return y.push(m.prefix+"-icon-"+e),t&&m.rtl&&y.push(m.prefix+"-icon-rtl"),d&&y.push(m.prefix+"-icon-spin"),f&&y.push(f),Ve.createElement("span",pL(pL({},p),{},{className:y.join(" ")}),n(_))}}const Y4=Qr("close-small",!1,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),u2e=Qr("folder-open",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),l2e=Qr("go-end",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M34 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),c2e=Qr("go-start",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M14 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),f2e=Qr("hamburger-button",!1,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),h2e=Qr("home",!1,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),d2e=Qr("info",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 11C25.3807 11 26.5 12.1193 26.5 13.5C26.5 14.8807 25.3807 16 24 16C22.6193 16 21.5 14.8807 21.5 13.5C21.5 12.1193 22.6193 11 24 11Z",fill:e.colors[2]}),Ve.createElement("path",{d:"M24.5 34V20H23.5H22.5",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M21 34H28",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),p2e=Qr("left",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M31 36L19 24L31 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),m2e=Qr("logout",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M23.9917 6H6V42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),v2e=Qr("music-list",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M24 19H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M24 10H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M8 38H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M8 28H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M8 10L16 15L8 20V10Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),g2e=Qr("play-one",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),y2e=Qr("save",!0,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),Ve.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),_2e=Qr("setting-two",!1,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ve.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),x2e=Qr("square-small",!1,function(e){return Ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ve.createElement("path",{d:"M34 12H14C12.8954 12 12 12.8954 12 14V34C12 35.1046 12.8954 36 14 36H34C35.1046 36 36 35.1046 36 34V14C36 12.8954 35.1046 12 34 12Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))});function CO(e,t){if(e==null)return{};var n=a7(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var b2e={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const S2e=Qn(b2e);var w2e=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function mL(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(S2e[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(w2e),o=null;(o=i.exec(e))!==null;)if(o[0].trim())if(o[1]){var a=o[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var E2e=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,T2e=/^\s*$/,C2e=Object.create(null);function J4(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(J4,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var O2e={parse:function(e,t){t||(t={}),t.components||(t.components=C2e);var n,r=[],i=[],o=-1,a=!1;if(e.indexOf("<")!==0){var s=e.indexOf("<");r.push({type:"text",content:s===-1?e:e.substring(0,s)})}return e.replace(E2e,function(u,l){if(a){if(u!=="</"+n.name+">")return;a=!1}var f,d=u.charAt(1)!=="/",p=u.startsWith("<!--"),m=l+u.length,v=e.charAt(m);if(p){var _=mL(u);return o<0?(r.push(_),r):((f=i[o]).children.push(_),r)}if(d&&(o++,(n=mL(u)).type==="tag"&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!v||v==="<"||n.children.push({type:"text",content:e.slice(m,e.indexOf("<",m))}),o===0&&r.push(n),(f=i[o-1])&&f.children.push(n),i[o]=n),(!d||n.voidElement)&&(o>-1&&(n.voidElement||n.name===u.slice(2,-1))&&(o--,n=o===-1?r:i[o]),!a&&v!=="<"&&v)){f=o===-1?r:i[o].children;var y=e.indexOf("<",m),x=e.slice(m,y===-1?void 0:y);T2e.test(x)&&(x=" "),(y>-1&&o+f.length>=0||x!==" ")&&f.push({type:"text",content:x})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+J4("",n)},"")}};function uv(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var vL={};function gg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&vL[t[0]]||(typeof t[0]=="string"&&(vL[t[0]]=new Date),uv.apply(void 0,t))}var Z4=function(t,n){return function(){if(t.isInitialized)n();else{var r=function i(){setTimeout(function(){t.off("initialized",i)},0),n()};t.on("initialized",r)}}};function gL(e,t,n){e.loadNamespaces(t,Z4(e,n))}function yL(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(function(i){e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Z4(e,r))}function A2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(u,l){var f=t.services.backendConnector.state["".concat(u,"|").concat(l)];return f===-1||f===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}function P2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return gg("i18n.languages were undefined or empty",t.languages),!0;var r=t.options.ignoreJSONStructure!==void 0;return r?t.hasLoadedNamespace(e,{lng:n.lng,precheck:function(o,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}):A2e(e,t,n)}var I2e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,R2e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},k2e=function(t){return R2e[t]},N2e=function(t){return t.replace(I2e,k2e)};function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:N2e};function L2e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};sE=xL(xL({},sE),e)}function Q4(){return sE}var eU;function M2e(e){eU=e}function OO(){return eU}var F2e=["format"],D2e=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n1(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function r1(e){return e?e.props?e.props.children:e.children:[]}function B2e(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(t){return q.isValidElement(t)})}function th(e){return Array.isArray(e)?e:[e]}function j2e(e,t){var n=Dn({},t);return n.props=Object.assign(e.props,t.props),n}function tU(e,t){if(!e)return"";var n="",r=th(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach(function(o,a){if(typeof o=="string")n+="".concat(o);else if(q.isValidElement(o)){var s=Object.keys(o.props).length,u=i.indexOf(o.type)>-1,l=o.props.children;if(!l&&u&&s===0)n+="<".concat(o.type,"/>");else if(!l&&(!u||s!==0))n+="<".concat(a,"></").concat(a,">");else if(o.props.i18nIsDynamicList)n+="<".concat(a,"></").concat(a,">");else if(u&&s===1&&typeof l=="string")n+="<".concat(o.type,">").concat(l,"</").concat(o.type,">");else{var f=tU(l,t);n+="<".concat(a,">").concat(f,"</").concat(a,">")}}else if(o===null)uv("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Jn(o)==="object"){var d=o.format,p=CO(o,F2e),m=Object.keys(p);if(m.length===1){var v=d?"".concat(m[0],", ").concat(d):m[0];n+="{{".concat(v,"}}")}else uv("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",o)}else uv("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",o)}),n}function $2e(e,t,n,r,i,o){if(t==="")return[];var a=r.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(a.join("|")).test(t);if(!e&&!s)return[t];var u={};function l(y){var x=th(y);x.forEach(function(b){typeof b!="string"&&(n1(b)?l(r1(b)):Jn(b)==="object"&&!q.isValidElement(b)&&Object.assign(u,b))})}l(e);var f=O2e.parse("<0>".concat(t,"</0>")),d=Dn(Dn({},u),i);function p(y,x,b){var w=r1(y),T=v(w,x.children,b);return B2e(w)&&T.length===0?w:T}function m(y,x,b,w,T){y.dummy&&(y.children=x),b.push(q.cloneElement(y,Dn(Dn({},y.props),{},{key:w}),T?void 0:x))}function v(y,x,b){var w=th(y),T=th(x);return T.reduce(function(C,O,A){var M=O.children&&O.children[0]&&O.children[0].content&&n.services.interpolator.interpolate(O.children[0].content,d,n.language);if(O.type==="tag"){var D=w[parseInt(O.name,10)];!D&&b.length===1&&b[0][O.name]&&(D=b[0][O.name]),D||(D={});var B=Object.keys(O.attrs).length!==0?j2e({props:O.attrs},D):D,G=q.isValidElement(B),U=G&&n1(O,!0)&&!O.voidElement,H=s&&Jn(B)==="object"&&B.dummy&&!G,Q=Jn(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,O.name);if(typeof B=="string"){var ee=n.services.interpolator.interpolate(B,d,n.language);C.push(ee)}else if(n1(B)||U){var ne=p(B,O,b);m(B,ne,C,A)}else if(H){var ce=v(w,O.children,b);C.push(q.cloneElement(B,Dn(Dn({},B.props),{},{key:A}),ce))}else if(Number.isNaN(parseFloat(O.name)))if(Q){var Ae=p(B,O,b);m(B,Ae,C,A,O.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(O.name)>-1)if(O.voidElement)C.push(q.createElement(O.name,{key:"".concat(O.name,"-").concat(A)}));else{var pe=v(w,O.children,b);C.push(q.createElement(O.name,{key:"".concat(O.name,"-").concat(A)},pe))}else if(O.voidElement)C.push("<".concat(O.name," />"));else{var fe=v(w,O.children,b);C.push("<".concat(O.name,">").concat(fe,"</").concat(O.name,">"))}else if(Jn(B)==="object"&&!G){var L=O.children[0]?M:null;L&&C.push(L)}else O.children.length===1&&M?C.push(q.cloneElement(B,Dn(Dn({},B.props),{},{key:A}),M)):C.push(q.cloneElement(B,Dn(Dn({},B.props),{},{key:A})))}else if(O.type==="text"){var Z=r.transWrapTextNodes,re=o?r.unescape(n.services.interpolator.interpolate(O.content,d,n.language)):n.services.interpolator.interpolate(O.content,d,n.language);Z?C.push(q.createElement(Z,{key:"".concat(O.name,"-").concat(A)},re)):C.push(re)}return C},[])}var _=v([{dummy:!0,children:e||[]}],f,th(e||[]));return r1(_[0])}function U2e(e){var t=e.children,n=e.count,r=e.parent,i=e.i18nKey,o=e.context,a=e.tOptions,s=a===void 0?{}:a,u=e.values,l=e.defaults,f=e.components,d=e.ns,p=e.i18n,m=e.t,v=e.shouldUnescape,_=CO(e,D2e),y=p||OO();if(!y)return gg("You will need to pass in an i18next instance by using i18nextReactModule"),t;var x=m||y.t.bind(y)||function(U){return U};o&&(s.context=o);var b=Dn(Dn({},Q4()),y.options&&y.options.react),w=d||x.ns||y.options&&y.options.defaultNS;w=typeof w=="string"?[w]:w||["translation"];var T=l||tU(t,b)||b.transEmptyNodeValue||i,C=b.hashTransKey,O=i||(C?C(T):T),A=u?s.interpolation:{interpolation:Dn(Dn({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},M=Dn(Dn(Dn(Dn({},s),{},{count:n},u),A),{},{defaultValue:T,ns:w}),D=O?x(O,M):T,B=$2e(f||t,D,y,b,M,v),G=r!==void 0?r:b.defaultTransParent;return G?q.createElement(G,_,B):B}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pD(r.key),r)}}function po(e,t,n){return t&&SL(e.prototype,t),n&&SL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var G2e={type:"3rdParty",init:function(t){L2e(t.options.react),M2e(t)}},nU=q.createContext(),z2e=function(){function e(){ho(this,e),this.usedNamespaces={}}return po(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}(),H2e=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function wL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W2e(e){var t=e.children,n=e.count,r=e.parent,i=e.i18nKey,o=e.context,a=e.tOptions,s=a===void 0?{}:a,u=e.values,l=e.defaults,f=e.components,d=e.ns,p=e.i18n,m=e.t,v=e.shouldUnescape,_=CO(e,H2e),y=q.useContext(nU)||{},x=y.i18n,b=y.defaultNS,w=p||x||OO(),T=m||w&&w.t.bind(w);return U2e(V2e({children:t,count:n,parent:r,i18nKey:i,context:o,tOptions:s,values:u,defaults:l,components:f,ns:d||T&&T.ns||b||w&&w.options&&w.options.defaultNS,i18n:w,t:m,shouldUnescape:v},_))}function rU(e){if(Array.isArray(e))return e}function X2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(f){l=!0,i=f}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function EL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iU(e,t){if(e){if(typeof e=="string")return EL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(e,t)}}function oU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2e(e,t){return rU(e)||X2e(e,t)||iU(e,t)||oU()}function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var K2e=function(t,n){var r=q.useRef();return q.useEffect(function(){r.current=n?r.current:t},[t,n]),r.current};function AO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=q.useContext(nU)||{},i=r.i18n,o=r.defaultNS,a=n||i||OO();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new z2e),!a){gg("You will need to pass in an i18next instance by using initReactI18next");var s=function(D,B){return typeof B=="string"?B:B&&Jn(B)==="object"&&typeof B.defaultValue=="string"?B.defaultValue:Array.isArray(D)?D[D.length-1]:D},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}a.options.react&&a.options.react.wait!==void 0&&gg("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=i1(i1(i1({},Q4()),a.options.react),t),f=l.useSuspense,d=l.keyPrefix,p=e||o||a.options&&a.options.defaultNS;p=typeof p=="string"?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);var m=(a.isInitialized||a.initializedStoreOnce)&&p.every(function(M){return P2e(M,a,l)});function v(){return a.getFixedT(t.lng||null,l.nsMode==="fallback"?p:p[0],d)}var _=q.useState(v),y=q2e(_,2),x=y[0],b=y[1],w=p.join();t.lng&&(w="".concat(t.lng).concat(w));var T=K2e(w),C=q.useRef(!0);q.useEffect(function(){var M=l.bindI18n,D=l.bindI18nStore;C.current=!0,!m&&!f&&(t.lng?yL(a,t.lng,p,function(){C.current&&b(v)}):gL(a,p,function(){C.current&&b(v)})),m&&T&&T!==w&&C.current&&b(v);function B(){C.current&&b(v)}return M&&a&&a.on(M,B),D&&a&&a.store.on(D,B),function(){C.current=!1,M&&a&&M.split(" ").forEach(function(G){return a.off(G,B)}),D&&a&&D.split(" ").forEach(function(G){return a.store.off(G,B)})}},[a,w]);var O=q.useRef(!0);q.useEffect(function(){C.current&&!O.current&&b(v),O.current=!1},[a,d]);var A=[x,a,m];if(A.t=x,A.i18n=a,A.ready=m,m||!m&&!f)return A;throw new Promise(function(M){t.lng?yL(a,t.lng,p,function(){return M()}):gL(a,p,function(){return M()})})}function Lr(e){const{t}=AO(),n=i=>t(i[0]==="$"?i.slice(1):e+i);function r(i,...o){return o.length?[n(i),...o.map(a=>n(a))]:n(i)}return r}const Y2e=""+new URL("backlog-e0c96608.png",import.meta.url).href,J2e=""+new URL("backlog_item_left-d5302298.png",import.meta.url).href;function uE(e){var t;return typeof e=="string"?e:typeof e=="number"?String(e):Array.isArray(e)?e.map(uE).join(""):e==null?"":typeof((t=e==null?void 0:e.props)==null?void 0:t.children)<"u"?uE(e.props.children):String(e)}function Z2e(e){return/^[a-z]/.test(e)?e.toUpperCase():e}function lE(e){return e.replace(/[\u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u2060\u3000\uFEFF]/g," ").replace(/\s+/g," ").trim()}function CL(e){return lE(e).replace(/\s+/g,"")}function Q2e(e,t){const n=t,r=lE(e),i=CL(e);for(const o of Object.keys(n))if(CL(o)===i){const a=lE(o),s=n[o];return s?{canonicalKey:a,color:s}:{canonicalKey:a}}return n[r]?{canonicalKey:r,color:n[r]}:{canonicalKey:r}}function eIe(e,t){const{isSurnameFirst:n,isGivenFirst:r,hasSurname:i,surnameColor:o}=t,a=n?"250%":r?"200%":"150%";return n?o?{fontSize:a,color:o,useLayer:!1}:{fontSize:a,color:"#fff",useLayer:!0}:r?{fontSize:a,color:"#fff",useLayer:!0}:{fontSize:a,color:"#fff",useLayer:!0}}const tIe=()=>{var y,x;const e=Lr("gaming."),{playSeEnter:t,playSeClick:n,playSeCancel:r}=yn(),i=Le(b=>b.GUI),o=i.showBacklog,a=on(),[s,u]=q.useState(!1),[l,f]=q.useState(!1),[d,p]=q.useState(20),m=$4("Stage/TextBox/characters.json",{});q.useEffect(()=>{if(!o)return;const b={root:null,rootMargin:"0px",threshold:[1]},w=new IntersectionObserver(C=>{var O;(((O=C==null?void 0:C[0])==null?void 0:O.intersectionRatio)??0)<=0||p(A=>A+20)},b),T=document.querySelector(`#backlog_item_${d-5}`);return T&&w.observe(T),()=>w.disconnect()},[d,o]),q.useEffect(()=>{o||p(20)},[o]);const v=q.useRef(),_=q.useMemo(()=>{const b=[],w=I.backlogManager.getBacklog().length;for(let T=0;T<Math.min(w,d);T++){const C=w-T-1,O=I.backlogManager.getBacklog()[C],M=ba(O.currentStageState.showText,3,!0,!1).map(le=>le.map(de=>de.reactNode)),B=aU(M).map((le,de)=>E.jsx("div",{children:le.map((ge,Ie)=>ge==="<br />"?E.jsx("br",{},`br${Ie}`):ge)},`backlog-line-${de}`)),U=ba(O.currentStageState.showName,3,!0).map(le=>le.map(de=>uE(de.reactNode)).join("")).join(`
`),{canonicalKey:H,color:Q}=Q2e(U,m),ee=H.trim()!=="",ne=H.split(" "),ce=ne.length>=2,Ae=ce?ne[0]:H,pe=ce?ne.slice(1).join(""):"",fe=ce&&pe.length>0?Ae+pe:Ae,L=Array.from(fe),Z=ce&&pe.length>0?Ae.length:-1,re=L.map((le,de)=>{const ge=de===0,Ie=ce&&pe.length>0&&de===Z,ke=ge||Ie?Z2e(le):le,Ze=eIe(de,{isSurnameFirst:ge,isGivenFirst:Ie,hasSurname:ce,surnameColor:Q}),Be={fontSize:Ze.fontSize,color:Ze.color??"#fff",lineHeight:1,marginRight:0};return ge&&Q?E.jsx("span",{className:Ut.name_char,style:Be,children:ke},`${ke}-${de}`):Ze.useLayer?E.jsx("span",{className:Ut.name_char,style:Be,children:E.jsxs("span",{className:Ut.name_zhanwei,children:[ke,E.jsx("span",{className:Ut.name_outer,children:ke}),E.jsx("span",{className:Ut.name_inner,children:ke})]})},`${ke}-${de}`):E.jsx("span",{className:Ut.name_char,style:Be,children:ke},`${ke}-${de}`)}),ae=E.jsx("div",{className:Ut.name_line,children:re},`name-line-${T}`);b.push(E.jsxs("div",{className:Ut.backlog_item,id:`backlog_item_${T}`,style:{animationDelay:`${20*((T-1)%20)}ms`},children:[E.jsxs("div",{className:Ut.backlog_func_area,children:[E.jsx("div",{className:Ut.backlog_item_button_list,children:E.jsx("div",{onClick:le=>{n(),U$(C),le.preventDefault(),le.stopPropagation()},onMouseEnter:t,className:Ut.backlog_item_button_element,children:E.jsx("img",{src:J2e,alt:"return",className:Ut.backlog_item_button_img})})}),ee&&E.jsxs("div",{className:Ut.backlog_item_content_name,children:[E.jsx("img",{src:j4,alt:"namebox",className:Ut.name_container_bg}),E.jsx("div",{className:Ut.name_container_text,children:ae})]})]}),E.jsx("div",{className:Ut.backlog_item_content,children:E.jsx("span",{className:Ut.backlog_item_content_text,children:B})}),E.jsx("audio",{id:"backlog_audio_play_element_"+C,src:O.currentStageState.vocal??""})]},"backlogItem"+O.currentStageState.showText+O.saveScene.currentSentenceId))}return b},[((x=(y=I.backlogManager.getBacklog()[I.backlogManager.getBacklog().length-1])==null?void 0:y.saveScene)==null?void 0:x.currentSentenceId)??0,d]);return q.useEffect(()=>{i.showBacklog?(v.current&&clearTimeout(v.current),u(!1),f(!0),setTimeout(()=>f(!1),0)):v.current=setTimeout(()=>{u(!0),v.current=void 0},700+80)},[i.showBacklog]),E.jsxs("div",{className:`
          ${i.showBacklog?Ut.Backlog_main:Ut.Backlog_main_out}
          ${s?Ut.Backlog_main_out_IndexHide:""}
        `,style:{"--backlog-bg":`url(${Y2e})`},children:[E.jsxs("div",{className:Ut.backlog_top,children:[E.jsx(Y4,{className:Ut.backlog_top_icon,onClick:()=>{r(),a(at({component:"showBacklog",visibility:!1})),a(at({component:"showTextBox",visibility:!0}))},onMouseEnter:t,theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),E.jsx("div",{className:Ut.backlog_title,onClick:()=>{he.info("Rua! Testing")},children:e("buttons.backlog")})]}),i.showBacklog&&E.jsx("div",{className:`${Ut.backlog_content} ${l?Ut.Backlog_main_DisableScroll:""}`,children:_})]})};function aU(e){return e.map(t=>{const n=[];let r="";for(const i of t)typeof i=="string"?r+=i:(r&&(n.push(r),r=""),n.push(i));return r&&n.push(r),n})}const nIe="_tag_yghix_2",rIe="_container_yghix_17",iIe="_showContainer_yghix_1",oIe="_singleButton_yghix_33",aIe="_button_text_yghix_37",Hn={tag:nIe,container:rIe,showContainer:iIe,singleButton:oIe,button_text:aIe},PO=()=>{if(W.getState().GUI.showTitle)return;const e=W.dispatch;uO(),so(),Zl(),e(we({key:"playVocal",value:""})),e(we({key:"enableManopedia",value:!1})),e(at({component:"showTitle",visibility:!0})),Wy(W.getState().GUI.titleBg)},sIe=()=>{const e=ao(!1),t=Le(o=>o.stage),n=on(),r=(o,a)=>{n(at({component:o,visibility:a}))},i=o=>{n(du(o))};return E.jsx(E.Fragment,{children:t.enableFilm!==""&&t.judgment===""&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Hn.tag,onClick:()=>{e.set(!e.value)},children:E.jsx(f2e,{theme:"outline",size:"32",fill:"#fff"})}),e.value&&E.jsxs("div",{className:Hn.container,children:[E.jsx("span",{className:Hn.singleButton,onClick:()=>{r("showBacklog",!0),r("showTextBox",!1),e.set(!e.value)},children:E.jsx("span",{className:Hn.button_text,children:" / BACKLOG"})}),E.jsx("span",{className:Hn.singleButton,onClick:()=>{e.set(!e.value);let o=document.getElementById("currentVocal");o!==null&&(o.currentTime=0,o.pause(),o==null||o.play())},children:E.jsx("span",{className:Hn.button_text,children:" / REPLAY VOICE"})}),E.jsx("span",{id:"Button_ControlPanel_auto",className:Hn.singleButton,onClick:()=>{Nd(),e.set(!e.value)},children:E.jsx("span",{className:Hn.button_text,children:" / AUTO"})}),E.jsx("span",{id:"Button_ControlPanel_fast",className:Hn.singleButton,onClick:()=>{xAe(),e.set(!e.value)},children:E.jsx("span",{className:Hn.button_text,children:" / FAST"})}),E.jsx("span",{className:Hn.singleButton,onClick:()=>{e.set(!e.value),i(Dt.Save),r("showMenuPanel",!0)},children:E.jsx("span",{className:Hn.button_text,children:" / SAVE"})}),E.jsx("span",{className:Hn.singleButton,onClick:()=>{e.set(!e.value),i(Dt.Load),r("showMenuPanel",!0)},children:E.jsx("span",{className:Hn.button_text,children:" / LOAD"})}),E.jsx("span",{className:Hn.singleButton,onClick:()=>{e.set(!e.value),i(Dt.Option),r("showMenuPanel",!0)},children:E.jsx("span",{className:Hn.button_text,children:" / OPTIONS"})}),E.jsx("span",{className:Hn.singleButton,onClick:()=>{e.set(!e.value),PO()},children:E.jsx("span",{className:Hn.button_text,children:" / TITLE"})})]})]})})},uIe="_devPanelMain_11x6i_1",lIe="_devPanelOpener_11x6i_13",OL={devPanelMain:uIe,devPanelOpener:lIe};function cIe(){document.getElementById("pixiCanvas").toBlob(t=>{if(t){const n=document.createElement("a");document.body.append(n),n.download="screenshot",n.href=URL.createObjectURL(t),n.click(),n.remove()}},"image/png")}function fIe(){function e(){return!!window.location.hash.match(/dev/)}const t=ao(!1),n=ao(window.location.hash),r=Le(u=>u.stage);q.useEffect(()=>{window.onhashchange=()=>{n.set(window.location.hash)}},[]);const i=e(),{t:o,i18n:a}=AO(),s=E.jsxs(E.Fragment,{children:[E.jsx("div",{onClick:()=>cIe(),children:"Save PIXI Screenshot"}),E.jsxs("div",{children:["Current Language:",a.language]}),E.jsx("div",{onClick:()=>{var u;return(u=I.gameplay.pixiStage)==null?void 0:u.removeAnimation("snow-ticker")},children:"Remove Snow Ticker"}),E.jsx("div",{children:"Stage State"}),E.jsx("div",{children:JSON.stringify(r,null,"  ")})]});return E.jsxs(E.Fragment,{children:[i&&t.value&&E.jsxs("div",{className:OL.devPanelMain,children:[E.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[E.jsx("div",{onClick:()=>t.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),E.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),E.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!t.value&&i&&E.jsx("div",{onClick:()=>t.set(!0),className:OL.devPanelOpener,children:"Open Dev Panel"})]})}const hIe="_extra_hq9dj_2",dIe="_extra_top_hq9dj_14",pIe="_extra_top_icon_hq9dj_20",mIe="_extra_icon_softin_hq9dj_1",vIe="_extra_title_hq9dj_40",gIe="_mainContainer_hq9dj_51",yIe="_bgmContainer_hq9dj_59",_Ie="_bgmListContainer_hq9dj_76",xIe="_bgmPlayerMain_hq9dj_91",bIe="_bgmControlButton_hq9dj_95",SIe="_bgmName_hq9dj_110",wIe="_bgmElement_hq9dj_118",EIe="_bgmElement_active_hq9dj_148",TIe="_cgMain_hq9dj_153",CIe="_cgContainer_hq9dj_158",OIe="_cgElement_hq9dj_170",AIe="_cgShowDiv_hq9dj_185",PIe="_cgShowDivWarpper_hq9dj_194",IIe="_cgNav_hq9dj_203",RIe="_cgNav_active_hq9dj_223",kIe="_showFullContainer_hq9dj_233",NIe="_showFullCgMain_hq9dj_246",LIe="_fullCgIn_hq9dj_1",MIe="_bgmElement_In_hq9dj_1",Kt={extra:hIe,extra_top:dIe,extra_top_icon:pIe,extra_icon_softin:mIe,extra_title:vIe,mainContainer:gIe,bgmContainer:yIe,bgmListContainer:_Ie,bgmPlayerMain:xIe,bgmControlButton:bIe,bgmName:SIe,bgmElement:wIe,bgmElement_active:EIe,cgMain:TIe,cgContainer:CIe,cgElement:OIe,cgShowDiv:AIe,cgShowDivWarpper:PIe,cgNav:IIe,cgNav_active:RIe,showFullContainer:kIe,showFullCgMain:NIe,fullCgIn:LIe,bgmElement_In:MIe};function FIe(){const{playSeClick:e,playSeEnter:t}=yn(),n=Le(_=>_.GUI.titleBgm),r=Le(_=>_.userData.appreciationData),i="Title_BGM",o=ao(!1);let a=i,s=-1;const u=39,l=o.value?"80%":"10%",f=r.bgm.length;r.bgm.forEach((_,y)=>{_.url===n&&(a=_.name,s=y)});const d=ao("");a!==i&&a!==d.value&&d.set(a);const p=on();function m(_){const y=r.bgm[_];d.set(y.name),p(zv({asset:"titleBgm",value:y.url}))}const v=r.bgm.map((_,y)=>{let x=Kt.bgmElement;return _.name===d.value&&(x=x+" "+Kt.bgmElement_active),E.jsx("div",{onClick:()=>{e(),d.set(_.name),p(zv({asset:"titleBgm",value:_.url}))},className:x,style:{animationDelay:`${y*150}ms`},children:_.name},_.name)});return f===0?null:E.jsxs("div",{className:Kt.bgmContainer,style:{maxHeight:l},children:[E.jsxs("div",{className:Kt.bgmPlayerMain,children:[E.jsx("div",{onClick:()=>{e(),s<=0?m(f-1):m(s-1)},className:Kt.bgmControlButton,children:E.jsx(c2e,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),E.jsx("div",{onClick:()=>{e();const _=document.getElementById("currentBgm");_==null||_.play().then()},className:Kt.bgmControlButton,children:E.jsx(g2e,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),E.jsx("div",{onClick:()=>{e(),s>=f-1?m(0):m(s+1)},className:Kt.bgmControlButton,children:E.jsx(l2e,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),E.jsx("div",{onClick:()=>{e(),document.getElementById("currentBgm").pause()},className:Kt.bgmControlButton,children:E.jsx(x2e,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),E.jsx("div",{className:Kt.bgmName,children:a}),E.jsx("div",{onClick:()=>{e(),o.set(!o.value)},className:Kt.bgmControlButton,style:{marginLeft:"auto"},children:E.jsx(v2e,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})})]}),o.value&&E.jsxs("div",{className:Kt.bgmListContainer,children:[" ",v]})]})}function DIe(e){const t=ao(!1),{playSeEnter:n,playSeClick:r}=yn(),i=q.useMemo(()=>{var u;const s=((u=e.resourceUrl.split(".").pop())==null?void 0:u.toLowerCase())||"";return["mp4","webm","mkv"].includes(s)},[e.resourceUrl]),o=q.useMemo(()=>{var u;const s=((u=e.resourceUrl.split(".").pop())==null?void 0:u.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(s)},[e.resourceUrl]),a=s=>i?E.jsx("video",{src:e.resourceUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}):o?E.jsx("div",{style:{backgroundImage:`url('${e.resourceUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}}):E.jsx("div",{style:{backgroundImage:`url('${e.resourceUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}});return E.jsxs(E.Fragment,{children:[t.value&&E.jsx("div",{onClick:()=>{t.set(!t.value),r()},className:Kt.showFullContainer,children:E.jsx("div",{className:Kt.showFullCgMain,children:a()})}),E.jsx("div",{onClick:()=>{t.set(!t.value),r()},style:{animation:`cg_softIn_${e.transformDeg} 1.5s ease-out ${100+e.index*100}ms forwards`},className:Kt.cgElement,children:a()},e.name)]})}function BIe(){const t=Le(l=>l.userData.appreciationData),n=Math.ceil(t.cg.length/8),r=ao(1),{playSeEnter:i,playSeClick:o}=yn(),a=[],s=t.cg.length;for(let l=(r.value-1)*8;l<Math.min(s,(r.value-1)*8+8);l++){const f=l-(r.value-1)*8,d=jIe(-5,5),p=E.jsx(DIe,{name:t.cg[l].name,resourceUrl:t.cg[l].url,transformDeg:d,index:f},f.toString()+t.cg[l].url);a.push(p)}const u=[];for(let l=1;l<=n;l++){let f=Kt.cgNav;r.value===l&&(f=f+" "+Kt.cgNav_active);const d=E.jsx("div",{onClick:()=>{r.set(l),o()},className:f,children:l},"nav"+l);u.push(d)}return E.jsxs("div",{className:Kt.cgMain,children:[E.jsx("div",{className:Kt.cgShowDiv,children:E.jsx("div",{className:Kt.cgShowDivWarpper,children:u})}),E.jsx("div",{className:Kt.cgContainer,children:a})]})}function jIe(e,t){return Math.round(Math.random()*(t-e))+e}function $Ie(){const{playSeClick:e,playSeCancel:t}=yn(),n=Le(o=>o.GUI.showExtra),r=on(),i=Lr("extra.");return E.jsx(E.Fragment,{children:n&&E.jsxs("div",{className:Kt.extra,children:[E.jsxs("div",{className:Kt.extra_top,children:[E.jsx(Y4,{className:Kt.extra_top_icon,onClick:()=>{r(at({component:"showExtra",visibility:!1})),t()},onMouseEnter:e,theme:"outline",size:"4em",fill:"#fff",strokeWidth:3}),E.jsx("div",{className:Kt.extra_title,children:i("title")})]}),E.jsxs("div",{className:Kt.mainContainer,children:[E.jsx(BIe,{}),E.jsx(FIe,{})]})]})})}const UIe=""+new URL("gear-9c61a57c.png",import.meta.url).href,GIe="_gearButton_5ma9r_1",zIe="_gearIcon_5ma9r_10",AL={gearButton:GIe,gearIcon:zIe},HIe=()=>{const e=on(),{playSeGear:t}=yn(),n=Le(o=>o.GUI),r=Le(o=>o.stage);if(n.showTitle||n.showPhone||r.judgment!=="")return null;const i=()=>{t(),e(at({component:"showPhone",visibility:!0}))};return E.jsx("span",{className:AL.gearButton,onClick:i,children:E.jsx("img",{src:UIe,alt:"Settings",className:AL.gearIcon})})},VIe=""+new URL("manopedia-a6685af7.png",import.meta.url).href,WIe="_handboxButton_1mz97_1",XIe="_handboxIcon_1mz97_10",PL={handboxButton:WIe,handboxIcon:XIe},qIe="_manopediaOverlay_1uqws_2",KIe="_closeButtonsContainer_1uqws_15",YIe="_closeButton_1uqws_15",JIe="_rightButtonsContainer_1uqws_40",ZIe="_rightButtonContainer_1uqws_54",QIe="_rightButton_1uqws_40",eRe="_frameContainer_1uqws_77",tRe="_frameAsset_1uqws_94",nRe="_mainDisplayArea_1uqws_106",rRe="_selectedItemDisplay_1uqws_119",iRe="_itemLargeImage_1uqws_132",oRe="_evidenceButtonContainer_1uqws_147",aRe="_evidenceButtonBase_1uqws_163",sRe="_evidenceButtonHover_1uqws_169",uRe="_visible_1uqws_179",lRe="_evidenceButtonText_1uqws_183",cRe="_itemsDisplayAsset_1uqws_196",fRe="_thumbnailList_1uqws_210",hRe="_thumbnailItem_1uqws_224",dRe="_thumbnailImage_1uqws_239",pRe="_lockedOverlay_1uqws_246",mRe="_loadingContainer_1uqws_260",vRe="_nameContainerWrapper_1uqws_271",gRe="_nameContainerImage_1uqws_282",yRe="_nameContainerContent_1uqws_296",_Re="_itemName_1uqws_318",xRe="_firstCharacter_1uqws_334",bRe="_restCharacters_1uqws_341",SRe="_itemDescription_1uqws_349",wRe="_descriptionContainerWrapper_1uqws_366",ERe="_descriptionContainerContent_1uqws_379",bt={manopediaOverlay:qIe,closeButtonsContainer:KIe,closeButton:YIe,rightButtonsContainer:JIe,rightButtonContainer:ZIe,rightButton:QIe,frameContainer:eRe,frameAsset:tRe,mainDisplayArea:nRe,selectedItemDisplay:rRe,itemLargeImage:iRe,evidenceButtonContainer:oRe,evidenceButtonBase:aRe,evidenceButtonHover:sRe,visible:uRe,evidenceButtonText:lRe,itemsDisplayAsset:cRe,thumbnailList:fRe,thumbnailItem:hRe,thumbnailImage:dRe,lockedOverlay:pRe,loadingContainer:mRe,nameContainerWrapper:vRe,nameContainerImage:gRe,nameContainerContent:yRe,itemName:_Re,firstCharacter:xRe,restCharacters:bRe,itemDescription:SRe,descriptionContainerWrapper:wRe,descriptionContainerContent:ERe},IL=""+new URL("manopedia-abe20b03.png",import.meta.url).href,TRe=""+new URL("closeButton-bfdc07f2.png",import.meta.url).href,CRe=""+new URL("closeButton_hover-52dbc177.png",import.meta.url).href,ORe=""+new URL("Exhibit-61d2eef5.png",import.meta.url).href,ARe=""+new URL("Exhibit_on-4ff25c32.png",import.meta.url).href,PRe=""+new URL("Figure-4b1f9b04.png",import.meta.url).href,IRe=""+new URL("Figure_on-7532c350.png",import.meta.url).href,RRe=""+new URL("Map-6405e29f.png",import.meta.url).href,kRe=""+new URL("Map_on-e0ba2504.png",import.meta.url).href,NRe=""+new URL("Rule-d9b4735e.png",import.meta.url).href,LRe=""+new URL("Rule_on-9291f495.png",import.meta.url).href,MRe=""+new URL("Record-2738236d.png",import.meta.url).href,FRe=""+new URL("Record_on-61c1520e.png",import.meta.url).href,DRe=""+new URL("manopedia_frame-239db1ac.png",import.meta.url).href,BRe=""+new URL("manopedia_items-7a3d40cb.png",import.meta.url).href,jRe=""+new URL("nameContainer-ee86a4c6.png",import.meta.url).href,$Re=""+new URL("button-dc31358f.png",import.meta.url).href,URe=""+new URL("presentTheEvidence_hover-da71e27e.png",import.meta.url).href,GRe=""+new URL("presentTheEvidence_text-000f5e09.png",import.meta.url).href,zRe="_EvidenceConfirmDialog_main_1a03r_2",HRe="_showEvidenceConfirmDialog_1a03r_1",VRe="_evidenceConfirmDialog_container_inner_1a03r_19",WRe="_evidenceConfirmDialog_container_1a03r_19",XRe="_title_1a03r_35",qRe="_button_list_1a03r_42",KRe="_button_1a03r_42",qs={EvidenceConfirmDialog_main:zRe,showEvidenceConfirmDialog:HRe,evidenceConfirmDialog_container_inner:VRe,evidenceConfirmDialog_container:WRe,title:XRe,button_list:qRe,button:KRe};function YRe(e){const{playSeClick:t,playSeEnter:n,playSeCancel:r}=Gc(),i=()=>{r(),e.leftFunc(),cE()},o=()=>{t(),e.rightFunc(),cE()},a=u=>{u.target===u.currentTarget&&i()},s=E.jsx("div",{className:qs.EvidenceConfirmDialog_main,onClick:a,children:E.jsx("div",{className:qs.evidenceConfirmDialog_container,children:E.jsxs("div",{className:qs.evidenceConfirmDialog_container_inner,children:[E.jsx("div",{className:qs.title,children:e.title}),E.jsxs("div",{className:qs.button_list,children:[E.jsx("div",{className:qs.button,onClick:i,onMouseEnter:()=>n(),children:E.jsx("span",{children:e.leftText})}),E.jsx("div",{className:qs.button,onClick:o,onMouseEnter:()=>n(),children:E.jsx("span",{style:{color:"#da98a3"},children:e.rightText})})]})]})})});setTimeout(()=>{Kr.render(s,document.getElementById("evidenceConfirmDialogContainer"))},100)}function cE(){const e=document.getElementById("evidenceConfirmDialogContainer");e&&Kr.unmountComponentAtNode(e)}function JRe(){return E.jsx("div",{id:"evidenceConfirmDialogContainer"})}const sU=({onClose:e})=>{const{playSeClick:t,playSeEnter:n,playSeCloseManopedia:r,playSePediaChoose:i}=yn(),[o,a]=q.useState(!1),[s,u]=q.useState("exhibit"),[l,f]=q.useState(null),[d,p]=q.useState(null),[m,v]=q.useState([]),[_,y]=q.useState(!0),[x,b]=q.useState(!1);on();const w=Le(L=>L.stage.inventory.items),T=Le(L=>L.stage.isEvidenceMode),C=Le(L=>L.stage.evidenceTarget),O=Le(L=>L.stage.evidenceJumpScenes);q.useEffect(()=>{(async()=>{y(!0);try{const re=Md.getAllItems().map(le=>{const de=w[le.id],ge=!!de&&de.count>0;return{...le,obtained:ge,count:(de==null?void 0:de.count)||0,description:le.description||""}});re.sort((le,de)=>le.obtained&&!de.obtained?-1:!le.obtained&&de.obtained?1:0),v(re);const ae=re.find(le=>le.obtained);ae&&p(ae.id)}catch(Z){console.error(":",Z)}finally{y(!1)}})()},[w]);const A=q.useMemo(()=>m.filter(L=>L.obtained),[m]),M=q.useMemo(()=>m.find(L=>L.id===d),[m,d]),D=()=>{r(),e()},B=()=>{a(!0),n()},G=()=>{a(!1)},U=L=>{f(L),n()},H=()=>{f(null)},Q=L=>{i(),u(L)},ee=L=>{const Z=m.find(re=>re.id===L);Z!=null&&Z.obtained&&p(L)},ne=()=>{d&&YRe({title:"",leftText:"",rightText:"",leftFunc:()=>{console.log("")},rightFunc:()=>{ce()},onClose:()=>{cE()}})},ce=()=>{if(!d)return;const L=d===C,Z=O[0],re=O[1];console.log("Present Evidence:",{selectedItemId:d,evidenceTarget:C,isCorrect:L,successTarget:Z,failTarget:re}),e(),I.gameplay.performController.unmountPerform("presentTheEvidence",!0);const ae=le=>{le&&(le.endsWith(".txt")?(console.log("Jumping to scene:",le),Is(le,le)):(console.log("Jumping to label:",le),Bu(le)))};L&&Z?ae(Z):!L&&re&&ae(re)},Ae=L=>{if(!L)return"";const Z=L.split(`
`);return Z.map((re,ae)=>E.jsxs(Ve.Fragment,{children:[re,ae<Z.length-1&&E.jsx("br",{})]},ae))},pe=[{type:"exhibit",normal:ORe,hover:ARe},{type:"figure",normal:PRe,hover:IRe},{type:"map",normal:RRe,hover:kRe},{type:"rule",normal:NRe,hover:LRe},{type:"record",normal:MRe,hover:FRe}],fe={exhibit:1,figure:2,map:3,rule:4,record:5};return q.useEffect(()=>{const L=re=>{re.preventDefault(),re.stopPropagation()},Z=re=>{re.preventDefault(),re.stopPropagation()};return window.addEventListener("wheel",L,{passive:!1}),window.addEventListener("touchmove",Z,{passive:!1}),()=>{window.removeEventListener("wheel",L),window.removeEventListener("touchmove",Z)}},[]),_?E.jsx("div",{className:bt.manopediaOverlay,style:{backgroundImage:`url(${IL})`},children:E.jsx("div",{className:bt.loadingContainer,children:E.jsx("div",{className:bt.loadingText,children:"..."})})}):E.jsxs("div",{className:bt.manopediaOverlay,style:{backgroundImage:`url(${IL})`},children:[E.jsxs("div",{className:bt.frameContainer,children:[E.jsx("img",{src:DRe,alt:"manopedia frame",className:bt.frameAsset}),E.jsx("div",{className:bt.mainDisplayArea,children:(M==null?void 0:M.obtained)&&E.jsxs("div",{className:bt.selectedItemDisplay,children:[E.jsx("img",{src:M.image,alt:M.name,className:bt.itemLargeImage}),T&&E.jsxs("div",{className:bt.evidenceButtonContainer,onMouseEnter:()=>{b(!0),n()},onMouseLeave:()=>b(!1),onClick:ne,children:[E.jsx("img",{src:$Re,alt:"present button",className:bt.evidenceButtonBase}),E.jsx("img",{src:URe,alt:"present hover",className:`${bt.evidenceButtonHover} ${x?bt.visible:""}`}),E.jsx("img",{src:GRe,alt:"present text",className:bt.evidenceButtonText})]})]})})]}),(M==null?void 0:M.obtained)&&E.jsxs("div",{className:bt.nameContainerWrapper,children:[E.jsx("img",{src:jRe,alt:"Name Container",className:bt.nameContainerImage}),E.jsx("div",{className:bt.nameContainerContent,children:E.jsx("div",{className:bt.itemName,children:M.name&&M.name.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:bt.firstCharacter,children:M.name.charAt(0)}),E.jsx("span",{className:bt.restCharacters,children:M.name.slice(1)})]})})})]}),(M==null?void 0:M.obtained)&&E.jsx("div",{className:bt.descriptionContainerWrapper,children:E.jsx("div",{className:bt.descriptionContainerContent,children:E.jsx("div",{className:bt.itemDescription,children:Ae(M.description)})})}),E.jsx("img",{src:BRe,alt:"manopedia items display",className:bt.itemsDisplayAsset}),E.jsx("div",{className:bt.thumbnailList,children:A.map(L=>E.jsx("div",{className:`${bt.thumbnailItem} ${d===L.id?bt.selected:""}`,onClick:()=>ee(L.id),onMouseEnter:()=>n(),children:E.jsx("img",{src:L.image,alt:L.name,className:bt.thumbnailImage})},L.id))}),E.jsx("div",{className:bt.rightButtonsContainer,children:pe.map(L=>E.jsx("div",{className:bt.rightButtonContainer,style:{order:fe[L.type]},children:E.jsx("img",{src:l===L.type||s===L.type?L.hover:L.normal,alt:L.type,className:bt.rightButton,onClick:()=>Q(L.type),onMouseEnter:()=>U(L.type),onMouseLeave:H})},L.type))}),E.jsx("div",{className:bt.closeButtonsContainer,onClick:D,onMouseEnter:B,onMouseLeave:G,children:E.jsx("div",{className:bt.closeButton,style:{backgroundImage:`url(${o?CRe:TRe})`}})})]})},ZRe=({children:e})=>{const[t,n]=q.useState(!1),{playSeClick:r,playSeManopedia:i,playSeCloseManopedia:o}=yn(),a=()=>{n(!0),i()},s=()=>{n(!1),o()};return E.jsxs(E.Fragment,{children:[E.jsx("span",{onClick:a,children:e}),t&&E.jsx(sU,{onClose:s})]})},QRe=()=>(yn(),Le(t=>t.stage).enableManopedia?E.jsx("span",{className:PL.handboxButton,children:E.jsx(ZRe,{children:E.jsx("img",{src:VIe,alt:"Manopedia",className:PL.handboxIcon})})}):null),eke=""+new URL("fast-forward-51a7ef57.png",import.meta.url).href,tke=""+new URL("fast-forward-on-eaecb982.png",import.meta.url).href,nke=""+new URL("timer-897701d1.png",import.meta.url).href,rke="_timerContainer_1a60k_1",ike="_fastForwardBtn_1a60k_14",oke="_timerDisplay_1a60k_23",ake="_timerValue_1a60k_35",ske="_digit_1a60k_45",uke="_separator_1a60k_51",_l={timerContainer:rke,fastForwardBtn:ike,timerDisplay:oke,timerValue:ake,digit:ske,separator:uke},lke=()=>{const e=on(),t=Le(f=>f.stage.judgment),n=Le(f=>f.stage.judgmentTimer),r=Le(f=>f.stage.judgmentTimeout),i=Le(f=>f.stage.isJudgmentFastForward),o=Le(f=>f.stage.isDisableTextbox),a=q.useRef(null);if(q.useEffect(()=>{if(t==="begins"&&n>0&&o){let f=Date.now();const d=16;a.current=setInterval(()=>{const p=Date.now(),m=p-f;f=p;const _=m*(i?5:1),y=W.getState().stage.judgmentTimer,x=Math.max(0,y-_);if(e(we({key:"judgmentTimer",value:x})),x===0&&(a.current&&clearInterval(a.current),r)){e(we({key:"isJudgmentFastForward",value:!1})),e(we({key:"judgment",value:""})),so();const b=r.toString(),w=ln(b,un.scene);I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Is(w,b)},0)}},d)}else a.current&&(clearInterval(a.current),a.current=null);return()=>{a.current&&clearInterval(a.current)}},[t,r,i,o,e]),t!=="begins"||!o)return null;const s=()=>{e(we({key:"isJudgmentFastForward",value:!0}))},u=()=>{e(we({key:"isJudgmentFastForward",value:!1}))},l=f=>{const d=Math.floor(f/1e3),p=Math.floor(d/60),m=d%60,v=f%1e3;return`${p.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}:${v.toString().padStart(3,"0")}`.split("").map((y,x)=>E.jsx("span",{className:y===":"?_l.separator:_l.digit,children:y},x))};return E.jsxs("div",{className:_l.timerContainer,children:[E.jsx("div",{className:_l.fastForwardBtn,onMouseDown:s,onMouseUp:u,onMouseLeave:u,children:E.jsx("img",{src:i?tke:eke,alt:"fast forward"})}),E.jsx("div",{className:_l.timerDisplay,style:{backgroundImage:`url(${nke})`},children:E.jsx("div",{className:_l.timerValue,children:l(n)})})]})},cke="_container_dy8qt_1",fke="_testimonyList_dy8qt_15",hke="_testimonyItem_dy8qt_22",dke="_left_dy8qt_27",pke="_right_dy8qt_33",mke="_text_dy8qt_38",vke="_center_dy8qt_41",gke="_textWrapper_dy8qt_46",yke="_keyword_dy8qt_61",za={container:cke,testimonyList:fke,testimonyItem:hke,left:dke,right:pke,text:mke,center:vke,textWrapper:gke,keyword:yke},_ke=()=>{const e=on(),t=Le(i=>i.stage.testimonyData),n=Le(i=>i.stage.judgment);if(n===""||n==="video_playing")return null;const r=i=>{const o=i.toString().trim();if(o.startsWith("thinking:")){const s=o.replace("thinking:","").trim(),u=s.indexOf(" ");if(u!==-1){const l=s.substring(0,u).trim(),p=s.substring(u+1).split("|").map(m=>{const v=m.trim();if(v==="@back")return{label:"",target:"@back"};const _=v.indexOf(":");if(_===-1)return{label:v,target:v};const y=v.substring(0,_).trim(),b=v.substring(_+1).trim().split("@"),w=b[0].trim();let T,C;return b.slice(1).forEach(O=>{const A=O.trim();A.startsWith("icon=")?T=A.substring(5).trim():A.startsWith("refute=")?C=A.substring(7).trim():T||(T=A)}),{label:y,target:w,icon:T,refuteVideo:C}});e(we({key:"inlineThinking",value:{avatar:l,options:p}})),I.gameplay.isAuto&&so();return}}if(e(we({key:"testimonyData",value:[]})),e(we({key:"isJudgmentFastForward",value:!1})),I.gameplay.isAuto&&so(),o.endsWith(".txt")){const s=ln(o,un.scene);I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Is(s,o)},0)}else I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Bu(o)},0)};return E.jsx("div",{className:za.container,children:E.jsx("div",{className:za.testimonyList,children:Array.isArray(t)&&t.map((i,o)=>E.jsx(xke,{data:i,onKeywordClick:r},o))})})},xke=({data:e,onKeywordClick:t})=>{const{content:n,refutes:r,colors:i,pos:o,y:a}=e,s=q.useMemo(()=>{if(!n)return null;const f=Object.keys(r).sort((m,v)=>v.length-m.length);if(f.length===0)return n;const d=new RegExp(`(${f.map(m=>m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"g");return n.split(d).map((m,v)=>{if(r[m]){const _=i[m]||"#FF69B4";return E.jsx("span",{className:za.keyword,style:{color:_},onClick:()=>t(r[m]),children:m},v)}return E.jsx("span",{children:m},v)})},[n,r,i]),u=`${za.testimonyItem} ${o?za[o]:za.center}`,l={position:a!==void 0?"absolute":"relative",top:a!==void 0?`${a}px`:void 0};return E.jsx("div",{className:u,style:l,children:E.jsx("div",{className:za.textWrapper,children:E.jsx("div",{className:za.text,children:s})})})},bke=()=>{const e=on(),t=Le(a=>a.stage.inlineThinking),{playSeEnter:n,playSeClick:r}=Gc();if(!t)return null;const i=()=>{e(we({key:"inlineThinking",value:null})),W.getState().stage.judgment!==""&&!I.gameplay.isAuto&&Nd()},o=a=>{if(r(),a==="@back"){i();return}const s=a.toString().trim();if(s.includes(":")){i();const l=Hc.parse(s,"inline_cmd","");l.sentenceList.length>0&&i_(l.sentenceList[0]);return}if(i(),e(we({key:"testimonyData",value:[]})),e(we({key:"isJudgmentFastForward",value:!1})),s.endsWith(".txt")){const l=ln(s,un.scene);I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Is(l,s)},0)}else I.sceneManager.lockSceneWrite=!1,setTimeout(()=>{Bu(s)},0)};return E.jsxs("div",{className:Xn.Thinking_Main,style:{zIndex:2e3},children:[E.jsx("div",{className:Xn.Thinking_Overlay,style:{pointerEvents:"auto"},onClick:i}),E.jsx("div",{className:Xn.Thinking_Character,children:E.jsx("img",{src:`./game/thinking/${t.avatar}`,alt:"character",className:Xn.Thinking_Character_Image})}),E.jsx("div",{className:Xn.Thinking_Options,children:t.options.map((a,s)=>E.jsxs("div",{className:Xn.Thinking_Option_Container,children:[a.icon&&E.jsx("div",{className:Xn.Thinking_Button_Icon,children:E.jsx("img",{src:`./game/thinking_button/${a.icon}`,alt:"button icon"})}),E.jsx("div",{className:`${Xn.Thinking_Bubble} ${a.target==="@back"?Xn.Thinking_Back:""}`,onClick:u=>{u.stopPropagation(),o(a.target)},onMouseEnter:n,onMouseOver:u=>{u.currentTarget.style.backgroundImage=`url(${F4})`},onMouseOut:u=>{u.currentTarget.style.backgroundImage=`url(${vg})`},style:{backgroundImage:`url(${vg})`,fontFamily:'"WebgalUI", serif'},children:a.label})]},s))})]})},Ske="_GlobalDialog_main_civkj_2",wke="_showGlobalDialog_civkj_1",Eke="_glabalDialog_container_inner_civkj_17",Tke="_glabalDialog_container_civkj_17",Cke="_title_civkj_33",Oke="_button_list_civkj_40",Ake="_button_civkj_40",Ks={GlobalDialog_main:Ske,showGlobalDialog:wke,glabalDialog_container_inner:Eke,glabalDialog_container:Tke,title:Cke,button_list:Oke,button:Ake};function Pke(){const e=Le(t=>t.GUI.showGlobalDialog);return E.jsx(E.Fragment,{children:e&&E.jsx("div",{id:"globalDialogContainer"})})}function ts(e){const{playSeClick:t,playSeEnter:n,playSeCancel:r}=Gc();W.dispatch(at({component:"showGlobalDialog",visibility:!0}));const i=()=>{r(),e.leftFunc(),RL()},o=()=>{t(),e.rightFunc(),RL()},a=E.jsx("div",{className:Ks.GlobalDialog_main,children:E.jsx("div",{className:Ks.glabalDialog_container,children:E.jsxs("div",{className:Ks.glabalDialog_container_inner,children:[E.jsx("div",{className:Ks.title,children:e.title}),E.jsxs("div",{className:Ks.button_list,children:[E.jsx("div",{className:Ks.button,onClick:i,children:E.jsx("span",{children:e.leftText})}),E.jsx("div",{className:Ks.button,onClick:o,children:E.jsx("span",{dangerouslySetInnerHTML:{__html:e.rightText}})})]})]})})});setTimeout(()=>{Kr.render(a,document.getElementById("globalDialogContainer"))},100)}function RL(){W.dispatch(at({component:"showGlobalDialog",visibility:!1}))}const Ike="_Logo_main_1bne2_1",Rke="_Logo_Back_1bne2_32",kke="_animationActive_1bne2_46",Nke="_fadeout_1bne2_1",o1={Logo_main:Ike,"change-img-anim":"_change-img-anim_1bne2_1",Logo_Back:Rke,animationActive:kke,fadeout:Nke},Lke=()=>{const e=Le(u=>u.GUI),t=e.logoImage,n=e.isEnterGame,r=ao(-1),i=ao(-1),o=5e3,a=()=>{clearTimeout(i.value),r.value<t.length-1?(r.set(r.value+1),i.set(setTimeout(a,o))):r.set(-1)};q.useEffect(()=>{n&&t.length>0&&(r.set(0),i.set(setTimeout(a,o)))},[n]);const s=r.value===-1?"":t[r.value];return E.jsxs(E.Fragment,{children:[r.value!==-1&&E.jsx("div",{className:o1.Logo_Back+" "+(r.value===t.length-1?o1.animationActive:""),style:{animationDuration:`${o}ms`}},r.value+"wh"),s!==""&&E.jsx("div",{className:o1.Logo_main,onClick:a,style:{backgroundImage:`url("${s}")`,animationDuration:`${o}ms`}},r.value+"bg")]})},Mke="_Menu_main_okjz7_1",Fke="_Menu_ShowSoftly_okjz7_1",Dke="_Menu_TagContent_okjz7_14",kL={Menu_main:Mke,Menu_ShowSoftly:Fke,Menu_TagContent:Dke},Bke="_MenuPanel_main_1c9ky_1",jke="_MenuPanel_button_1c9ky_10",$ke="_MenuPanel_button_icon_1c9ky_38",Uke="_MenuPanel_button_hl_1c9ky_44",Fl={MenuPanel_main:Bke,MenuPanel_button:jke,MenuPanel_button_icon:$ke,MenuPanel_button_hl:Uke},Gke=e=>{let t;switch(e.iconName){case"save":t=E.jsx(y2e,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=E.jsx(u2e,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=E.jsx(_2e,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=E.jsx(h2e,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"exit":t=E.jsx(m2e,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;default:t=E.jsx("div",{})}return t},Hf=e=>{yn();let t=Fl.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(t=t+e.buttonOnClassName),E.jsxs("div",{className:t,onClick:()=>{e.clickFunc()},style:{...e.style,color:e.tagColor},children:[E.jsx("div",{className:Fl.MenuPanel_button_icon,children:E.jsx(Gke,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},zke=()=>{const e=Lr("menu."),{playSeClick:t,playSeDialogOpen:n,playSePageChange:r,playSeCancel:i}=yn(),o=Le(y=>y.GUI),a=on(),s=o.currentMenuTag===Dt.Save?` ${Fl.MenuPanel_button_hl}`:"",u=o.currentMenuTag===Dt.Load?` ${Fl.MenuPanel_button_hl}`:"",l=o.currentMenuTag===Dt.Option?` ${Fl.MenuPanel_button_hl}`:"",f=o.currentMenuTag===Dt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",d=o.currentMenuTag===Dt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",p=o.currentMenuTag===Dt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",m=o.currentMenuTag===Dt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",v=o.currentMenuTag===Dt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",_=o.currentMenuTag===Dt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return E.jsxs("div",{className:Fl.MenuPanel_main,children:[E.jsx(Hf,{iconName:"save",buttonOnClassName:s,iconColor:m,tagColor:f,clickFunc:()=>{r(),!o.showTitle&&a(du(Dt.Save))},tagName:e("saving.title")},"saveButton"),E.jsx(Hf,{iconName:"load",buttonOnClassName:u,iconColor:v,tagColor:d,clickFunc:()=>{r(),a(du(Dt.Load))},tagName:e("loadSaving.title")},"loadButton"),E.jsx(Hf,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{n(),ts({title:"",leftText:"",rightText:'<span style="color: red"></span>',leftFunc:()=>{},rightFunc:()=>{PO(),a(at({component:"showMenuPanel",visibility:!1}))}})},tagName:e("title.title")},"titleIcon"),E.jsx(Hf,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:l,iconColor:_,tagColor:p,clickFunc:()=>{r(),a(du(Dt.Option))},tagName:e("options.title")},"optionButton"),E.jsx(Hf,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{i(),a(at({component:"showMenuPanel",visibility:!1}))},tagName:e("exit.title")},"exitIcon")]})},Hke="_Save_Load_main_1i6fh_2",Vke="_Save_Load_top_1i6fh_11",Wke="_Elements_in_1i6fh_1",Xke="_Save_Load_title_1i6fh_19",qke="_Save_title_text_1i6fh_37",Kke="_Load_title_text_1i6fh_45",Yke="_Save_Load_content_1i6fh_53",Jke="_Save_Load_top_buttonList_1i6fh_63",Zke="_Save_Load_top_button_1i6fh_63",Qke="_Save_Load_top_button_text_1i6fh_85",eNe="_Save_Load_top_button_on_1i6fh_96",tNe="_Load_top_button_on_1i6fh_108",nNe="_Load_top_button_1i6fh_108",rNe="_Save_Load_content_element_1i6fh_121",iNe="_Save_Load_content_element_top_1i6fh_146",oNe="_Save_Load_content_element_top_index_1i6fh_153",aNe="_Load_content_elememt_top_index_1i6fh_162",sNe="_Save_Load_content_element_top_date_1i6fh_166",uNe="_Load_content_element_top_date_1i6fh_177",lNe="_Save_Load_content_text_1i6fh_181",cNe="_Save_Load_content_text_padding_1i6fh_195",fNe="_Save_Load_content_speaker_1i6fh_199",hNe="_Load_content_speaker_1i6fh_207",dNe="_Load_content_text_1i6fh_211",pNe="_Save_Load_content_miniRen_1i6fh_215",mNe="_Save_Load_content_miniRen_bg_1i6fh_222",vNe="_Save_Load_content_miniRen_figure_1i6fh_229",gNe="_Save_Load_content_miniRen_figLeft_1i6fh_237",yNe="_Save_Load_content_miniRen_figRight_1i6fh_242",_Ne="_previewImg_1i6fh_247",xNe="_textBlock_1i6fh_255",bNe="_titleLine_1i6fh_262",SNe="_index_1i6fh_269",wNe="_time_1i6fh_273",ENe="_speaker_1i6fh_278",TNe="_text_1i6fh_255",CNe="_Elements_in_transform_1i6fh_1",ct={Save_Load_main:Hke,Save_Load_top:Vke,Elements_in:Wke,Save_Load_title:Xke,Save_title_text:qke,Load_title_text:Kke,Save_Load_content:Yke,Save_Load_top_buttonList:Jke,Save_Load_top_button:Zke,Save_Load_top_button_text:Qke,Save_Load_top_button_on:eNe,Load_top_button_on:tNe,Load_top_button:nNe,Save_Load_content_element:rNe,Save_Load_content_element_top:iNe,Save_Load_content_element_top_index:oNe,Load_content_elememt_top_index:aNe,Save_Load_content_element_top_date:sNe,Load_content_element_top_date:uNe,Save_Load_content_text:lNe,Save_Load_content_text_padding:cNe,Save_Load_content_speaker:fNe,Load_content_speaker:hNe,Load_content_text:dNe,Save_Load_content_miniRen:pNe,Save_Load_content_miniRen_bg:mNe,Save_Load_content_miniRen_figure:vNe,Save_Load_content_miniRen_figLeft:gNe,Save_Load_content_miniRen_figRight:yNe,previewImg:_Ne,textBlock:xNe,titleLine:bNe,index:SNe,time:wNe,speaker:ENe,text:TNe,Elements_in_transform:CNe},ONe=()=>{const{playSePageChange:e,playSeEnter:t,playSeDialogOpen:n}=yn(),r=Le(m=>m.userData),i=Le(m=>m.saveData),o=on(),a=[];for(let m=1;m<=20;m++){let v=ct.Save_Load_top_button;m===r.optionData.slPage&&(v+=` ${ct.Save_Load_top_button_on}`),a.push(E.jsx("div",{onClick:()=>{o(s3(m)),nn(),e()},className:v,children:E.jsx("div",{className:ct.Save_Load_top_button_text,children:m})},"Save_element_page"+m))}const s=Lr("common."),u=Lr("menu."),l=[],f=(r.optionData.slPage-1)*5+1,d=f+4;q.useEffect(()=>{Xy(f,d)},[f,d]);let p=0;for(let m=f;m<=d;m++){p++;const v=i.saveData[m];let _=E.jsx("div",{});if(v){const y=v.nowStageState.showName||"",x=yg(y);_=E.jsxs(E.Fragment,{children:[E.jsx("img",{className:ct.previewImg,src:v.previewImage,alt:"preview"}),E.jsxs("div",{className:ct.textBlock,children:[E.jsxs("div",{className:ct.titleLine,children:[E.jsxs("span",{className:ct.index,children:["No.",v.index]}),E.jsx("span",{className:ct.time,children:v.saveTime})]}),E.jsx("div",{className:ct.speaker,children:x}),E.jsx("div",{className:ct.text,children:yg(v.nowStageState.showText)})]})]})}l.push(E.jsx("div",{onClick:()=>{i.saveData[m]?(n(),ts({title:u("saving.isOverwrite"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{$N(m),nn()},rightFunc:()=>{}})):(e(),$N(m))},className:ct.Save_Load_content_element,style:{animationDelay:`${p*30}ms`},children:_},"saveElement_"+m))}return E.jsxs("div",{className:ct.Save_Load_main,children:[E.jsxs("div",{className:ct.Save_Load_top,children:[E.jsx("div",{className:ct.Save_Load_title,children:E.jsx("div",{className:ct.Save_title_text,children:u("saving.title")})}),E.jsx("div",{className:ct.Save_Load_top_buttonList,children:a})]}),E.jsx("div",{className:ct.Save_Load_content,id:`Save_content_page_${r.optionData.slPage}`,children:l})]})};function yg(e){const n=ba(e,3,!0).map(i=>i.map(o=>o.reactNode));return aU(n).map((i,o)=>E.jsx("div",{children:i.map((a,s)=>a==="<br />"?E.jsx("br",{},`br${s}`):a)},`backlog-line-${o}`))}const ANe=()=>{const{playSeClick:e,playSeEnter:t,playSePageChange:n}=yn(),r=Le(p=>p.userData),i=Le(p=>p.saveData),o=on(),a=[];for(let p=1;p<=20;p++){let m=ct.Save_Load_top_button+" "+ct.Load_top_button;p===r.optionData.slPage&&(m=m+" "+ct.Save_Load_top_button_on+" "+ct.Load_top_button_on);const v=E.jsx("div",{onClick:()=>{o(s3(p)),nn(),n()},className:m,children:E.jsx("div",{className:ct.Save_Load_top_button_text,children:p})},"Load_element_page"+p);a.push(v)}const s=[],u=(r.optionData.slPage-1)*5+1,l=u+4;q.useEffect(()=>{Xy(u,l)},[u,l]);let f=0;for(let p=u;p<=l;p++){f++;const m=i.saveData[p];let v=E.jsx("div",{});if(m){const y=m.nowStageState.showName===""?"":`${m.nowStageState.showName}`,x=yg(y);v=E.jsxs("div",{className:ct.Save_Load_content_element,children:[E.jsxs("div",{className:ct.Save_Load_content_element_top,children:[E.jsxs("div",{className:ct.Save_Load_content_element_top_index,children:["No.",p]}),E.jsx("div",{className:ct.Save_Load_content_element_top_date,children:m.saveTime})]}),E.jsx("div",{className:ct.Save_Load_content_miniRen,children:E.jsx("img",{className:ct.Save_Load_content_miniRen_bg,src:m.previewImage})}),E.jsxs("div",{className:ct.Save_Load_content_text,children:[E.jsx("div",{className:ct.Save_Load_content_speaker,children:x}),E.jsx("div",{className:ct.Save_Load_content_text_padding,children:yg(m.nowStageState.showText)})]})]})}const _=E.jsx("div",{onClick:()=>{b1e(p),e()},className:ct.Save_Load_content_element,style:{animationDelay:`${f*30}ms`},children:v},"loadElement_"+p);s.push(_)}const d=Lr("menu.");return E.jsxs("div",{className:ct.Save_Load_main,children:[E.jsxs("div",{className:ct.Save_Load_top,children:[E.jsx("div",{className:ct.Save_Load_title,children:E.jsx("div",{className:ct.Load_title_text,children:d("loadSaving.title")})}),E.jsx("div",{className:ct.Save_Load_top_buttonList,children:a})]}),E.jsx("div",{className:ct.Save_Load_content,id:"Load_content_page_"+r.optionData.slPage,children:s})]})},PNe="_Options_main_ili7y_2",INe="_Options_top_ili7y_9",RNe="_Options_title_ili7y_16",kNe="_Option_title_text_ili7y_25",NNe="_Elements_in_ili7y_1",LNe="_Option_title_text_shadow_ili7y_34",MNe="_Option_title_text_ts_ili7y_41",FNe="_Options_main_content_ili7y_48",DNe="_Options_main_content_half_ili7y_55",BNe="_About_title_text_ili7y_66",jNe="_About_text_ili7y_76",$Ne="_Options_page_container_ili7y_95",UNe="_Options_button_list_ili7y_101",GNe="_Options_page_button_ili7y_105",zNe="_Options_page_button_active_ili7y_117",Gr={Options_main:PNe,Options_top:INe,Options_title:RNe,Option_title_text:kNe,Elements_in:NNe,Option_title_text_shadow:LNe,Option_title_text_ts:MNe,Options_main_content:FNe,Options_main_content_half:DNe,About_title_text:BNe,About_text:jNe,Options_page_container:$Ne,Options_button_list:UNe,Options_page_button:GNe,Options_page_button_active:zNe},HNe="_NormalOption_ogzuv_1",VNe="_Elements_in_ogzuv_1",WNe="_NormalOption_title_ogzuv_10",XNe="_NormalOption_title_bef_ogzuv_19",qNe="_NormalOption_title_sd_ogzuv_29",KNe="_NormalOption_buttonList_ogzuv_39",a1={NormalOption:HNe,Elements_in:VNe,NormalOption_title:WNe,NormalOption_title_bef:XNe,NormalOption_title_sd:qNe,NormalOption_buttonList:KNe},gr=e=>E.jsxs("div",{className:a1.NormalOption,style:{width:e.full?"100%":"auto"},children:[E.jsx("div",{className:a1.NormalOption_title,children:e.title}),E.jsx("div",{className:a1.NormalOption_buttonList,style:{width:e.full?"100%":"auto",overflow:e.full?"hidden":void 0},children:e.children})]}),YNe="_NormalButton_1qk3b_1",JNe="_NormalButtonChecked_1qk3b_18",s1={NormalButton:YNe,NormalButtonChecked:JNe},_u=e=>{const t=e.textList.length,n=[],{playSeEnter:r,playSeSwitch:i}=yn();for(let o=0;o<t;o++)if(o===e.currentChecked){const a=E.jsx("div",{className:s1.NormalButton+" "+s1.NormalButtonChecked,onClick:()=>{i(),e.functionList[o]()},children:e.textList[o]},e.textList[o]+o+e);n.push(a)}else{const a=E.jsx("div",{className:s1.NormalButton,onClick:()=>{i(),e.functionList[o]()},children:e.textList[o]},e.textList[o]+o);n.push(a)}return E.jsx(E.Fragment,{children:n})};function ZNe(e){return Hr[e]}function uU(){const{i18n:e}=AO(),t=ju(r=>r.userData),n=on();return(r,i=!0)=>{var s;const o=r??((s=t.current)==null?void 0:s.optionData.language)??Hr.zhCn,a=ZNe(o);e.changeLanguage(a),n(qn({key:"language",value:o})),he.info(": "+a),window==null||window.localStorage.setItem("lang",o.toString()),i&&nn()}}const QNe="_backButton_qbk37_1",eLe="_about_qbk37_16",tLe="_icon_qbk37_20",nLe="_title_qbk37_24",rLe="_text_qbk37_34",iLe="_contributor_qbk37_43",Ti={backButton:QNe,about:eLe,icon:tLe,title:nLe,text:rLe,contributor:iLe};function oLe(e){const t=Lr("menu.options.pages.system.options.about.");return E.jsxs("div",{className:Ti.about,children:[E.jsx("div",{className:Ti.backButton,onClick:e.onClose,children:E.jsx(p2e,{className:Ti.icon,theme:"outline",size:"35",strokeWidth:3,fill:"#333"})}),E.jsx("div",{className:Ti.title,children:t("subTitle")}),E.jsx("div",{className:Ti.title,children:t("version")}),E.jsx("div",{className:Ti.text,children:H$.version}),E.jsx("div",{className:Ti.title,children:t("source")}),E.jsx("div",{className:Ti.text,children:E.jsx("a",{target:"_blank",href:"https://github.com/OpenWebGAL/WebGAL",children:"https://github.com/OpenWebGAL/WebGAL"})}),E.jsx("div",{className:Ti.title,children:t("contributors")}),E.jsx("div",{className:Ti.text,children:E.jsx("a",{target:"_blank",href:"https://github.com/OpenWebGAL/WebGAL/graphs/contributors",children:"https://github.com/OpenWebGAL/WebGAL/graphs/contributors"})}),E.jsx("div",{className:Ti.title,children:t("website")}),E.jsx("div",{className:Ti.text,children:E.jsx("a",{target:"_blank",href:"https://openwebgal.com/",children:"https://openwebgal.com/"})})]})}const qa=e=>{const{playSeEnter:t}=yn(),[n,r]=q.useState(e.initValue),[i,o]=q.useState(!1),[a,s]=q.useState(!1),u=q.useRef(null);q.useEffect(()=>{const f=()=>s(!1);return document.addEventListener("mouseup",f),()=>document.removeEventListener("mouseup",f)},[]),q.useEffect(()=>{r(e.initValue)},[e.initValue]);const l=()=>{if(!u.current)return 0;const f=u.current,d=e.min||0,p=e.max||100,m=(n-d)/(p-d),v=f.offsetWidth,_=v*.072;return m*(v-_)+_/2};return E.jsxs("div",{className:"Option_WebGAL_slider",children:[E.jsx("input",{id:e.uniqueID,ref:u,type:"range",value:n,min:e.min,max:e.max,onChange:f=>{const d=parseFloat(f.target.value);r(d),e.onChange(f)},onMouseEnter:()=>o(!0),onMouseLeave:()=>!a&&o(!1),onMouseDown:()=>s(!0),onFocus:t,onMouseOver:t,onTouchStart:()=>{s(!0),o(!0)},onTouchEnd:()=>{s(!1),o(!1)}}),(i||a)&&E.jsx("div",{className:"bubble",style:{left:`${l()}px`},children:Number(n.toFixed(1))})]})};function aLe(){const e=Le(p=>p.userData),t=Le(p=>p.saveData),n=on(),r=uU(),i=Lr("menu.options.pages.system.options."),{playSeDialogOpen:o}=yn();function a(){const m=JSON.stringify({userData:e,saves:t});if(m!==null){const v=new Blob([m],{type:"application/json"}),_=URL.createObjectURL(v),y=document.createElement("a");y.href=_,y.download="saves.json",y.click(),y.remove()}}function s(p){const m=p.target.files[0],v=new FileReader;v.onload=_=>{const y=_.target.result;try{const x=JSON.parse(y);o(),ts({title:i("gameSave.dialogs.import.title"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:async()=>{await Lu.setItem(I.gameKey,x.userData).then(()=>{he.info(i("gameSave.dialogs.import.tip"))}),$h(),W.dispatch(pa.replaceSaveGame(x.saves.saveData)),W.dispatch(pa.setFastSave(x.saves.quickSaveData)),tv(),ev(0,200)},rightFunc:()=>{}})}catch(x){he.error(i("gameSave.dialogs.import.error"),x)}},v.readAsText(m,"UTF-8")}function u(){const p=document.createElement("input");p.type="file",p.onchange=s,p.click()}const[l,f]=q.useState(!1);function d(){f(!l)}return E.jsxs("div",{className:Gr.Options_main_content_half,children:[l&&E.jsx(oLe,{onClose:d}),!l&&E.jsxs(E.Fragment,{children:[E.jsx(gr,{title:i("autoSpeed.title"),children:E.jsx(qa,{initValue:e.optionData.autoSpeed,uniqueID:i("autoSpeed.title"),onChange:p=>{const m=p.target.value;n(qn({key:"autoSpeed",value:Number(m)})),nn()}})},"option1"),E.jsx(gr,{title:i("language.title"),children:E.jsx(_u,{currentChecked:e.optionData.language,textList:Object.values(Uv),functionList:Object.keys(Uv).map(p=>()=>r(Hr[p]))})},"option7"),E.jsx(gr,{title:i("resetData.title"),children:E.jsx(_u,{textList:i("resetData.options.clearGameSave","resetData.options.resetSettings","resetData.options.clearAll"),functionList:[()=>{o(),ts({title:i("resetData.dialogs.clearGameSave"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{n(pa.resetSaves()),ev(0,200),tv()},rightFunc:()=>{}})},()=>{o(),ts({title:i("resetData.dialogs.resetSettings"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{n(are()),Gv()},rightFunc:()=>{}})},()=>{o(),ts({title:i("resetData.dialogs.clearAll"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{n(sre()),Gv(),n(pa.resetSaves()),ev(0,200),tv()},rightFunc:()=>{}})}],currentChecked:3})},"option2"),E.jsx(gr,{title:i("gameSave.title"),children:E.jsx(_u,{textList:i("gameSave.options.export","gameSave.options.import"),functionList:[a,u],currentChecked:2})},"option3"),E.jsx("div",{className:Gr.About_title_text,onClick:d,children:E.jsx(d2e,{theme:"outline",size:"32",fill:"#227D515F"})})]})]})}const sLe="_textPreviewMain_nolr3_1",uLe="_textbox_nolr3_8",NL={textPreviewMain:sLe,textbox:uLe},lLe=e=>{const t=Lr("menu.options.pages.display.options."),n=Le(A=>A.userData),i=Le(A=>A.stage).bgName,o=ry(n.optionData.textSpeed),a=iy(n.optionData.textSpeed),s=n.optionData.textboxOpacity,u=K1(n.optionData.textSize)+"%",l=uD(),f=navigator.userAgent,d=/firefox/i.test(f),p=/^((?!chrome|android).)*safari/i.test(f),m=t("textPreview.text"),v=ba(m,3),_=t("textPreview.title"),y=ba(_,3),x=_!=="",b=U4,[w,T]=q.useState(0),C=()=>{T(A=>A+1)},O={textArray:v,isText:!0,textDelay:o,isHasName:x,showName:y,currentConcatDialogPrev:"",fontSize:u,currentDialogKey:String(w),isSafari:p,isFirefox:d,miniAvatar:"",textDuration:a,font:l,textSizeState:u,lineLimit:3,isUseStroke:!0,textboxOpacity:s,isAuto:!1};return E.jsx("div",{className:NL.textPreviewMain,style:{background:i?`bottom / cover no-repeat url(${i})`:"rgba(0, 0, 0, 0.1)"},onClick:C,children:E.jsx("div",{className:NL.textbox,children:E.jsx(b,{...O})},`previewTextbox-${o}`)})};function cLe(){const e=Le(a=>a.userData),t=on(),n=Lr("menu.options.pages.display.options."),{isSupported:r,enter:i,exit:o}=W4();return E.jsxs("div",{className:Gr.Options_main_content_half,children:[r&&E.jsx(gr,{title:n("fullScreen.title"),children:E.jsx(_u,{textList:n("fullScreen.options.on","fullScreen.options.off"),functionList:[i,o],currentChecked:e.optionData.fullScreen})},"fullScreen"),E.jsx(gr,{title:n("textSize.title"),children:E.jsx(_u,{textList:n("textSize.options.small","textSize.options.medium","textSize.options.large"),functionList:[()=>{t(qn({key:"textSize",value:Ni.small})),nn()},()=>{t(qn({key:"textSize",value:Ni.medium})),nn()},()=>{t(qn({key:"textSize",value:Ni.large})),nn()}],currentChecked:e.optionData.textSize})},"textSize"),E.jsx(gr,{title:n("textFont.title"),children:E.jsx(_u,{textList:n("textFont.options.siYuanSimSun","textFont.options.SimHei","textFont.options.lxgw"),functionList:[()=>{t(qn({key:"textboxFont",value:to.song})),nn()},()=>{t(qn({key:"textboxFont",value:to.hei})),nn()},()=>{t(qn({key:"textboxFont",value:to.lxgw})),nn()}],currentChecked:e.optionData.textboxFont})},"textFont"),E.jsx(gr,{title:n("textSpeed.title"),children:E.jsx(qa,{initValue:e.optionData.textSpeed,uniqueID:n("textSpeed.title"),onChange:a=>{const s=a.target.value;t(qn({key:"textSpeed",value:Number(s)})),nn()}})},"textSpeed"),E.jsx(gr,{title:n("textboxOpacity.title"),children:E.jsx(qa,{initValue:e.optionData.textboxOpacity,uniqueID:n("textboxOpacity.title"),onChange:a=>{const s=a.target.value;t(qn({key:"textboxOpacity",value:Number(s)})),nn()}})},"textboxOpacity"),E.jsx(gr,{full:!0,title:n("textPreview.title"),children:E.jsx(lLe,{})},"textPreview")]})}function fLe(){const e=Le(r=>r.userData),t=on(),n=Lr("menu.options.pages.sound.options.");return E.jsxs("div",{className:Gr.Options_main_content_half,children:[E.jsx(gr,{title:n("volumeMain.title"),children:E.jsx(qa,{initValue:e.optionData.volumeMain,uniqueID:n("volumeMain.title"),onChange:r=>{const i=r.target.value;t(qn({key:"volumeMain",value:Number(i)})),nn()}})},"option4"),E.jsx(gr,{title:n("vocalVolume.title"),children:E.jsx(qa,{initValue:e.optionData.vocalVolume,uniqueID:n("vocalVolume.title"),onChange:r=>{const i=r.target.value;t(qn({key:"vocalVolume",value:Number(i)})),nn()}})},"option5"),E.jsx(gr,{title:n("bgmVolume.title"),children:E.jsx(qa,{initValue:e.optionData.bgmVolume,uniqueID:n("bgmVolume.title"),onChange:r=>{const i=r.target.value;t(qn({key:"bgmVolume",value:Number(i)})),nn()}})},"option6"),E.jsx(gr,{title:n("seVolume.title"),children:E.jsx(qa,{initValue:e.optionData.seVolume,uniqueID:n("seVolume.title"),onChange:r=>{const i=r.target.value;t(qn({key:"seVolume",value:Number(i)})),nn()}})},"option7"),E.jsx(gr,{title:n("uiSeVolume.title"),children:E.jsx(qa,{initValue:e.optionData.uiSeVolume,uniqueID:n("uiSeVolume.title"),onChange:r=>{const i=r.target.value;t(qn({key:"uiSeVolume",value:Number(i)})),nn()}})},"option8"),E.jsx(gr,{title:n("voiceOption.title"),children:E.jsx(_u,{textList:n("voiceStop.title","voiceContinue.title"),functionList:[()=>{t(qn({key:"voiceInterruption",value:Dh.yes})),nn()},()=>{t(qn({key:"voiceInterruption",value:Dh.no})),nn()}],currentChecked:e.optionData.voiceInterruption})},"option9")]})}const hLe=()=>{const{playSeEnter:e,playSeSwitch:t}=yn(),n=ao(0);q.useEffect($h,[]);function r(o){return o===n.value?Gr.Options_page_button+" "+Gr.Options_page_button_active:Gr.Options_page_button}const i=Lr("menu.options.");return E.jsxs("div",{className:Gr.Options_main,children:[E.jsx("div",{className:Gr.Options_top,children:E.jsx("div",{className:Gr.Options_title,children:E.jsx("div",{className:Gr.Option_title_text,children:i("title")})})}),E.jsxs("div",{className:Gr.Options_page_container,children:[E.jsxs("div",{className:Gr.Options_button_list,children:[E.jsx("div",{onClick:()=>{n.set(0),t()},className:r(0),children:i("pages.system.title")}),E.jsx("div",{onClick:()=>{n.set(1),t()},className:r(1),children:i("pages.display.title")}),E.jsx("div",{onClick:()=>{n.set(2),t()},className:r(2),children:i("pages.sound.title")})]}),E.jsxs("div",{className:Gr.Options_main_content,children:[n.value===1&&E.jsx(cLe,{}),n.value===0&&E.jsx(aLe,{}),n.value===2&&E.jsx(fLe,{})]})]})]})},dLe=()=>{const e=Le(n=>n.GUI);let t;switch(e.currentMenuTag){case Dt.Save:t=E.jsx(ONe,{});break;case Dt.Load:t=E.jsx(ANe,{});break;case Dt.Option:t=E.jsx(hLe,{});break}return E.jsx(E.Fragment,{children:e.showMenuPanel&&E.jsxs("div",{className:kL.Menu_main,children:[E.jsx("div",{className:kL.Menu_TagContent,children:t}),E.jsx(zke,{})]})})},pLe="_panic_overlay_main_1ysz4_1",mLe={panic_overlay_main:pLe},vLe="_yoozle_blue_1r48o_1",gLe="_yoozle_red_1r48o_5",yLe="_yoozle_yellow_1r48o_9",_Le="_yoozle_green_1r48o_13",xLe="_yoozle_e_rotate_1r48o_17",bLe="_yoozle_container_1r48o_22",SLe="_yoozle_title_1r48o_28",wLe="_yoozle_search_1r48o_37",ELe="_yoozle_search_bar_1r48o_44",TLe="_yoozle_search_buttons_1r48o_51",CLe="_yoozle_button_1r48o_55",Ur={yoozle_blue:vLe,yoozle_red:gLe,yoozle_yellow:yLe,yoozle_green:_Le,yoozle_e_rotate:xLe,yoozle_container:bLe,yoozle_title:SLe,yoozle_search:wLe,yoozle_search_bar:ELe,yoozle_search_buttons:TLe,yoozle_button:CLe},OLe=()=>(q.useEffect(()=>{const e="Yoozle Search",t=document.title;return document.title=e,()=>{document.title=t}},[]),E.jsxs("div",{className:Ur.yoozle_container,children:[E.jsx("div",{className:Ur.yoozle_title,children:E.jsxs("span",{children:[E.jsx("span",{className:Ur.yoozle_blue,style:{marginRight:"1px"},children:"W"}),E.jsx("span",{className:`${Ur.yoozle_red}`,children:"e"}),E.jsx("span",{className:Ur.yoozle_yellow,children:"b"}),E.jsx("span",{className:Ur.yoozle_blue,children:"g"}),E.jsx("span",{className:`${Ur.yoozle_green} ${Ur.yoozle_e_rotate}`,children:"a"}),E.jsx("span",{className:`${Ur.yoozle_red}`,children:"l"})]})}),E.jsxs("div",{className:Ur.yoozle_search,children:[E.jsx("input",{className:Ur.yoozle_search_bar,type:"text",defaultValue:""}),E.jsxs("div",{className:Ur.yoozle_search_buttons,children:[E.jsx("input",{className:Ur.yoozle_button,type:"submit",value:"WebGAL Search"}),E.jsx("input",{className:Ur.yoozle_button,type:"submit",value:"Feeling Lucky"})]})]})]})),ALe=()=>{const e=Le(a=>a.GUI),[t,n]=q.useState(!1),o=Le(a=>a.userData.globalGameVar).Show_panic===!1;return q.useEffect(()=>{const a=e.showPanicOverlay&&!o;n(a)},[e.showPanicOverlay,o]),Kr.createPortal(E.jsx("div",{className:t?mLe.panic_overlay_main:"",children:t&&E.jsx(OLe,{})}),document.querySelector("div#panic-overlay"))},PLe="_Title_backup_background_822wx_2",ILe="_Title_main_822wx_9",RLe="_Title_buttonContainer_822wx_18",kLe="_Title_buttonList_822wx_30",NLe="_Title_imgButton_822wx_40",LLe="_srOnly_822wx_72",MLe="_Title_buttonWrapper_822wx_84",FLe="_pos1_822wx_89",DLe="_pos2_822wx_93",BLe="_pos3_822wx_97",jLe="_pos4_822wx_101",$Le="_pos5_822wx_105",Ha={Title_backup_background:PLe,Title_main:ILe,Title_buttonContainer:RLe,Title_buttonList:kLe,Title_imgButton:NLe,srOnly:LLe,Title_buttonWrapper:MLe,pos1:FLe,pos2:DLe,pos3:BLe,pos4:jLe,pos5:$Le},ULe=()=>{qy(!0);const e=ln("start.txt",un.scene);Ho(e).then(t=>{I.sceneManager.sceneData.currentScene=fo(t,"start.txt",e),wr()}),W.dispatch(at({component:"showTitle",visibility:!1}))},GLe=()=>{const e=["Title_img","Game_Logo","Title_bgm","Game_name","Game_key"],t=Le(n=>n.userData.globalGameVar);return q.useEffect(()=>{for(let n in t){if(!e.includes(n))continue;const r=t[n];switch(n){case"Title_img":{const i=ln(r,un.background);W.dispatch(zv({asset:"titleBg",value:i})),Wy(i);break}case"Game_Logo":{const o=r.split("|").map(a=>ln(a,un.background));W.dispatch(fre(o));break}case"Title_bgm":{const i=ln(r,un.bgm);W.dispatch(zv({asset:"titleBgm",value:i}));break}case"Game_name":{I.gameName=r,document.title=r;break}case"Game_key":{I.gameKey=r,$h(),G$(),Xy(0,0);break}}}return()=>{}},[t.Game_Logo,t.Game_key,t.Game_name,t.Title_bgm,t.Title_img])},zLe=""+new URL("NewGame01-6a10ca72.png",import.meta.url).href,HLe=""+new URL("NewGame02-187335c6.png",import.meta.url).href,VLe=""+new URL("LoadGame01-d2b67027.png",import.meta.url).href,WLe=""+new URL("LoadGame02-4115527d.png",import.meta.url).href,XLe=""+new URL("Options01-5916bec5.png",import.meta.url).href,qLe=""+new URL("Options02-4f9a9f3c.png",import.meta.url).href,KLe=""+new URL("Exit01-03869d42.png",import.meta.url).href,YLe=""+new URL("Exit02-98b3ca6b.png",import.meta.url).href,JLe=""+new URL("Gallery01-ec4a17c3.png",import.meta.url).href,ZLe=""+new URL("Gallery02-8aa04c71.png",import.meta.url).href,QLe=({normal:e,hover:t,alt:n,disabled:r,onClick:i,onHover:o,onFocus:a,onBlur:s})=>{const[u,l]=q.useState(!1),f=u&&!r?t:e;return E.jsxs("button",{className:Ha.Title_imgButton,type:"button",disabled:r,onClick:()=>{r||i==null||i()},onMouseEnter:d=>{r||(l(!0),o==null||o())},onMouseLeave:()=>l(!1),onFocus:d=>{r||(l(!0),a==null||a())},onBlur:()=>{l(!1),s==null||s()},"aria-label":n,children:[E.jsx("img",{src:f,alt:"",draggable:!1}),E.jsx("span",{className:Ha.srOnly,children:n})]})},eMe=()=>{const e=Le(v=>v.userData),t=Le(v=>v.GUI),n=on(),r=e.optionData.fullScreen,i=t.titleBg,o=i===""?"rgba(0,0,0,1)":`url("${i}")`,a=Lr("title."),s=Lr("common."),{playSeEnter:u,playSeClick:l}=yn(),f=t_("UI/Title/title.scss");GLe();const d=Le(v=>v.userData.appreciationData),p=d.bgm.length>0||d.cg.length>0,m=q.useMemo(()=>{const v=[{key:"load",alt:a("load.title"),normal:VLe,hover:WLe,onClick:()=>{l(),n(at({component:"showMenuPanel",visibility:!0})),n(du(Dt.Load))}},{key:"start",alt:a("start.title"),normal:zLe,hover:HLe,onClick:()=>{ULe(),l()}},{key:"options",alt:a("options.title"),normal:XLe,hover:qLe,onClick:()=>{l(),n(at({component:"showMenuPanel",visibility:!0})),n(du(Dt.Option))}}];return t.enableAppreciationMode&&v.push({key:"extra",alt:a("extra.title"),normal:JLe,hover:ZLe,disabled:!p,onClick:()=>{p&&(l(),n(at({component:"showExtra",visibility:!0})))}}),v.push({key:"exit",alt:a("exit.title"),normal:KLe,hover:YLe,onClick:()=>{l(),ts({title:a("exit.tips"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{window.close()},rightFunc:()=>{}})}}),v},[a,s,t.enableAppreciationMode,p,n,l]);return E.jsxs(E.Fragment,{children:[t.showTitle&&E.jsx("div",{className:f("Title_backup_background",Ha.Title_backup_background)}),E.jsx("div",{id:"enter_game_target",onClick:()=>{WT(t.titleBgm),n(at({component:"isEnterGame",visibility:!0})),r===vT.on&&(document.documentElement.requestFullscreen(),lL&&lL.lock(["Escape","F11"]))}}),t.showTitle&&E.jsx("div",{className:f("Title_main",Ha.Title_main),style:{backgroundImage:o,backgroundSize:"cover"},children:E.jsx("div",{className:f("Title_buttonContainer",Ha.Title_buttonContainer),children:E.jsx("div",{className:Ha.Title_buttonList,children:m.map((v,_)=>E.jsx("div",{className:`${Ha.Title_buttonWrapper} ${Ha[`pos${_+1}`]}`,children:E.jsx(QLe,{normal:v.normal,hover:v.hover,alt:v.alt,disabled:v.disabled,onClick:v.onClick,onHover:u})},v.key))})})})]})},tMe="_trans_8uz61_2",nMe="_langWrapper_8uz61_10",rMe="_lang_8uz61_10",iMe="_langSelect_8uz61_29",oMe="_langSelectButton_8uz61_35",Vf={trans:tMe,langWrapper:nMe,lang:rMe,langSelect:iMe,langSelectButton:oMe};function aMe(){const e=uU(),[t,n]=q.useState(!1),i=Le(a=>a.userData.globalGameVar).Default_Language??"",o=a=>{n(!1),e(a)};return q.useEffect(()=>{if(window==null?void 0:window.localStorage.getItem("lang"))e(Number(window==null?void 0:window.localStorage.getItem("lang")),!1);else if(n(!0),i)switch(i){case"zh_CN":o(Hr.zhCn);break;case"zh_TW":o(Hr.zhTw);break;case"en":o(Hr.en);break;case"ja":o(Hr.jp);break;case"fr":o(Hr.fr);break;case"de":o(Hr.de);break;default:o(Hr.zhCn);break}},[i]),E.jsx(E.Fragment,{children:t&&E.jsx("div",{className:Vf.trans,children:E.jsxs("div",{className:Vf.langWrapper,children:[E.jsx("div",{className:Vf.lang,children:"LANGUAGE SELECT"}),E.jsx("div",{className:Vf.langSelect,children:Object.keys(Uv).map(a=>E.jsx("div",{className:Vf.langSelectButton,onClick:()=>o(Hr[a]),children:Uv[a]},a))})]})})})}const sMe=""+new URL("phone-d4038f81.png",import.meta.url).href,uMe=""+new URL("WiFi-48f854e0.png",import.meta.url).href,lMe=""+new URL("save01-9b709037.png",import.meta.url).href,cMe=""+new URL("save02-17c06990.png",import.meta.url).href,fMe=""+new URL("load01-69a77411.png",import.meta.url).href,hMe=""+new URL("load02-eff68bc2.png",import.meta.url).href,dMe=""+new URL("history01-0412ae16.png",import.meta.url).href,pMe=""+new URL("history02-1298a1aa.png",import.meta.url).href,mMe=""+new URL("setting01-6d42352a.png",import.meta.url).href,vMe=""+new URL("setting02-5c3947c6.png",import.meta.url).href,gMe=""+new URL("backtotitle01-7f5f982c.png",import.meta.url).href,yMe=""+new URL("backtotitle02-35760a50.png",import.meta.url).href,_Me=""+new URL("X-928c046a.png",import.meta.url).href,xMe="_phoneContainer_1dvri_1",bMe="_phone_1dvri_1",SMe="_phoneImage_1dvri_23",wMe="_wifiIcon_1dvri_30",EMe="_closeButton_1dvri_44",TMe="_phoneButton_1dvri_64",CMe="_saveButton_1dvri_81",OMe="_loadButton_1dvri_88",AMe="_historyButton_1dvri_95",PMe="_settingButton_1dvri_102",IMe="_backtotitleButton_1dvri_109",Ki={phoneContainer:xMe,phone:bMe,phoneImage:SMe,wifiIcon:wMe,closeButton:EMe,phoneButton:TMe,saveButton:CMe,loadButton:OMe,historyButton:AMe,settingButton:PMe,backtotitleButton:IMe},RMe=()=>{const e=on(),{playSeClick:t,playSeEnter:n,playSeDialogOpen:r,playSeCloseGear:i}=yn(),o=Le(v=>v.GUI);if(Lr("gaming."),!o.showPhone)return null;const a=()=>{i(),e(at({component:"showPhone",visibility:!1}))},s=(v,_)=>{e(at({component:v,visibility:_}))},u=v=>{e(du(v))},l=()=>{u(Dt.Save),s("showMenuPanel",!0),s("showPhone",!1),t()},f=()=>{u(Dt.Load),s("showMenuPanel",!0),s("showPhone",!1),t()},d=()=>{s("showBacklog",!0),s("showTextBox",!1),s("showPhone",!1),t()},p=()=>{u(Dt.Option),s("showMenuPanel",!0),s("showPhone",!1),t()},m=()=>{r(),ts({title:"",leftText:"",rightText:'<span style="color: #d28a98; display: inline-block; transform: scale(1.0); transform-origin: center"></span>',leftFunc:()=>{},rightFunc:()=>{PO()}}),s("showPhone",!1)};return E.jsx("div",{className:Ki.phoneContainer,children:E.jsxs("div",{className:Ki.phone,children:[E.jsx("img",{src:sMe,alt:"Phone",className:Ki.phoneImage}),E.jsx("div",{className:Ki.wifiIcon,children:E.jsx("img",{src:uMe,alt:"WIFI"})}),E.jsx("div",{className:Ki.closeButton,onClick:a,onMouseEnter:n,children:E.jsx("img",{src:_Me,alt:"Close"})}),E.jsx(Wf,{className:Ki.saveButton,normal:lMe,hover:cMe,onClick:l,onMouseEnter:n}),E.jsx(Wf,{className:Ki.loadButton,normal:fMe,hover:hMe,onClick:f,onMouseEnter:n}),E.jsx(Wf,{className:Ki.historyButton,normal:dMe,hover:pMe,onClick:d,onMouseEnter:n}),E.jsx(Wf,{className:Ki.settingButton,normal:mMe,hover:vMe,onClick:p,onMouseEnter:n}),E.jsx(Wf,{className:Ki.backtotitleButton,normal:gMe,hover:yMe,onClick:m,onMouseEnter:n})]})})},Wf=({className:e,normal:t,hover:n,onClick:r,onMouseEnter:i})=>{const[o,a]=q.useState(!1);return E.jsx("div",{className:`${Ki.phoneButton} ${e||""}`,onClick:r,onMouseEnter:()=>{a(!0),i()},onMouseLeave:()=>a(!1),children:E.jsx("img",{src:o?n:t,alt:"Button"})})};function LL(e){let t=e;const n=t.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return n!==null&&n.forEach(r=>{const i=$o(r.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));t=t.replace(r,String(i))}),t=t.replace(/\\{/g,"{").replace(/\\}/g,"}"),t}async function kMe(e){if(!(e.duration<=0))return new Promise(t=>{const n=setInterval(()=>{I.gameplay.performController.performList.find(i=>i.performName===e.performName)||(clearInterval(n),t())},50);setTimeout(()=>{clearInterval(n),t()},e.duration+100)})}function NMe(e,t,n){if(e.command!==Ye.say||(At(e,"notend")??!1)||t===void 0)return;const i=W.getState().stage,o=Pt(i);o.showText=t,o.showName=n||"";const a={currentStageState:o,saveScene:{currentSentenceId:I.sceneManager.sceneData.currentSentenceId,sceneStack:Pt(I.sceneManager.sceneData.sceneStack),sceneName:I.sceneManager.sceneData.currentScene.sceneName,sceneUrl:I.sceneManager.sceneData.currentScene.sceneUrl}};I.backlogManager.insertBacklogItem(a)}async function LMe(e){var s;const t=Pt(e);t.content=LL(t.content),t.args.forEach(u=>{u.value&&typeof u.value=="string"&&(u.value=LL(u.value))});const r=(((s=SO[t.command])==null?void 0:s.scriptFunction)??EO.say.scriptFunction)(t);let i,o;if(t.command===Ye.say){await new Promise(l=>{setTimeout(()=>{l()},10)});const u=W.getState().stage;i=u.showText,o=u.showName}let a;r.arrangePerformPromise?(a=await r.arrangePerformPromise,I.gameplay.performController.arrangeNewPerform(a,t)):(a=r,I.gameplay.performController.arrangeNewPerform(r,t)),await kMe(a),NMe(t,i,o)}async function MMe(e,t){for(let n=0;n<t.length;n++){const r=t[n];try{const i=Hc.parse(r,`item-effect-${e}-${n}`,"");if(i.sentenceList.length>0)for(const o of i.sentenceList)await LMe(o)}catch(i){he.error(`: ${r}`,i)}}}const FMe="_viewerOverlay_1jim4_1",DMe="_viewerContainer_1jim4_15",BMe="_itemInfo_1jim4_34",jMe="_itemImage_1jim4_43",$Me="_itemDetails_1jim4_65",UMe="_itemName_1jim4_74",GMe="_itemId_1jim4_84",zMe="_itemCategory_1jim4_91",HMe="_itemDescription_1jim4_98",VMe="_itemCount_1jim4_108",WMe="_buttonGroup_1jim4_117",XMe="_useButton_1jim4_126",qMe="_addButton_1jim4_127",KMe="_cancelButton_1jim4_169",YMe="_itemIcon_1jim4_179",rr={viewerOverlay:FMe,viewerContainer:DMe,itemInfo:BMe,itemImage:jMe,itemDetails:$Me,itemName:UMe,itemId:GMe,itemCategory:zMe,itemDescription:HMe,itemCount:VMe,buttonGroup:WMe,useButton:XMe,addButton:qMe,cancelButton:KMe,itemIcon:YMe},JMe=()=>{var b,w;const e=on(),{playSeClick:t,playSeCancel:n}=yn(),[r,i]=q.useState(null),[o,a]=q.useState(!1),s=Le(T=>T.stage.viewingItemId),u=Le(T=>T.stage.viewingItemCount),l=Le(T=>T.stage.inventory),f=s?((b=l.items[s])==null?void 0:b.count)??0:0,d=f>0,p=s?((w=I.gameplay.pixiStage)==null?void 0:w.getItemObjByKey(`item-${s}`))!==void 0:!1;q.useEffect(()=>{s?(a(!0),Md.loadItem(s).then(T=>{i(T),a(!1)})):i(null)},[s]);const m=()=>{e(Ft.setViewingItemId({itemId:null})),n()},v=()=>{var T;if(s&&r){e($v({itemId:s,count:u,name:r.name}));const C=`item-${s}`;(T=I.gameplay.pixiStage)==null||T.removeItemObjectByKey(C),e(Ft.setViewingItemId({itemId:null})),t()}},_=async()=>{var T;if(!s||!r||!r.effects||r.effects.length===0){he.warn(` ${s} `);return}if(await MMe(s,r.effects),r.consumable!==!1)if(f>0)e($v({itemId:s,count:-1,name:r.name}));else{const C=`item-${s}`;(T=I.gameplay.pixiStage)==null||T.removeItemObjectByKey(C)}e(Ft.setViewingItemId({itemId:null})),t()};if(!s||!r)return null;const y=r.image||"",x=r.icon||"";return E.jsx("div",{className:rr.viewerOverlay,onClick:m,children:E.jsx("div",{className:rr.viewerContainer,onClick:T=>T.stopPropagation(),children:E.jsxs("div",{className:rr.itemInfo,children:[y&&E.jsx("img",{src:y,alt:r.name,className:rr.itemImage}),E.jsxs("div",{className:rr.itemDetails,children:[E.jsx("h2",{className:rr.itemName,children:r.name}),E.jsxs("div",{className:rr.itemId,children:["ID: ",r.id]}),r.category&&E.jsxs("div",{className:rr.itemCategory,children:[": ",r.category]}),r.description&&E.jsx("div",{className:rr.itemDescription,children:r.description}),E.jsxs("div",{className:rr.itemCount,children:[": ",f]}),E.jsxs("div",{className:rr.buttonGroup,children:[!d&&p&&E.jsxs("button",{className:rr.addButton,onClick:v,children:[x&&E.jsx("img",{src:x,alt:r.name,className:rr.itemIcon})," (+",u,")"]}),d&&r.effects&&r.effects.length>0&&E.jsxs(E.Fragment,{children:[E.jsxs("button",{className:rr.useButton,onClick:_,children:[x&&E.jsx("img",{src:x,alt:r.name,className:rr.itemIcon}),""]}),E.jsx("button",{className:rr.cancelButton,onClick:m,children:""})]}),!d&&!p&&E.jsx("button",{className:rr.cancelButton,onClick:m,children:""})]})]})]})})})},ZMe=""+new URL("manopedia_update-226e690b.png",import.meta.url).href,QMe="_itemShowcaseGroup_1hwbg_1",eFe="_showcaseGroupAnimation_1hwbg_1",tFe="_itemShowcaseContainer_1hwbg_10",nFe="_frame_1hwbg_16",rFe="_framecontainer_1hwbg_26",iFe="_itemImageContainer_1hwbg_36",oFe="_itemImage_1hwbg_36",aFe="_manopediaUpdateContainer_1hwbg_57",sFe="_fadeIn_1hwbg_1",uFe="_manopediaUpdateImage_1hwbg_67",lFe="_hiding_1hwbg_111",cFe="_fadeOut_1hwbg_1",Ir={itemShowcaseGroup:QMe,showcaseGroupAnimation:eFe,itemShowcaseContainer:tFe,frame:nFe,framecontainer:rFe,itemImageContainer:iFe,itemImage:oFe,manopediaUpdateContainer:aFe,fadeIn:sFe,manopediaUpdateImage:uFe,hiding:lFe,fadeOut:cFe},lU=""+new URL("frame-59fc1eea.png",import.meta.url).href,cU=""+new URL("frame_container-be386dd7.png",import.meta.url).href,fFe=({itemImageUrl:e,isVisible:t,itemId:n})=>t?E.jsx("div",{className:Ir.itemShowcaseGroup,children:E.jsxs("div",{className:Ir.itemShowcaseContainer,children:[E.jsx("img",{src:cU,alt:"Frame Container",className:Ir.framecontainer}),E.jsx("div",{className:Ir.itemImageContainer,children:E.jsx("img",{src:e,alt:"Item",className:Ir.itemImage})}),E.jsx("img",{src:lU,alt:"Frame",className:Ir.frame})]})},n):null,hFe=()=>{const[e,t]=q.useState(!1),[n,r]=q.useState(!1),[i,o]=q.useState(!1),[a,s]=q.useState(""),[u,l]=q.useState(""),f=Le(C=>C.GUI.showManopediaUpdate),d=Le(C=>C.GUI.manopediaUpdateItem),p=q.useRef([]),m=q.useRef(!1),v=q.useRef({itemShowcaseTimer:null,hideTimer:null,removeTimer:null}),_=()=>{v.current.itemShowcaseTimer&&(clearTimeout(v.current.itemShowcaseTimer),v.current.itemShowcaseTimer=null),v.current.hideTimer&&(clearTimeout(v.current.hideTimer),v.current.hideTimer=null),v.current.removeTimer&&(clearTimeout(v.current.removeTimer),v.current.removeTimer=null)},y=(C,O)=>{const A={id:C,itemImage:O,timestamp:Date.now()};p.current.push(A),m.current?w():x()},x=()=>{if(p.current.length===0){m.current=!1;return}m.current=!0;const C=p.current[0];l(C.id),s(C.itemImage),T()},b=()=>{p.current.length>0&&p.current.shift()},w=()=>{if(_(),m.current&&p.current.length>0){const C=p.current[p.current.length-1];l(C.id),s(C.itemImage),T()}},T=()=>{_(),o(!1),r(!1),setTimeout(()=>{o(!0),t(!0)},10),v.current.itemShowcaseTimer=setTimeout(()=>{o(!1)},3e3),v.current.hideTimer=setTimeout(()=>{r(!0),v.current.removeTimer=setTimeout(()=>{t(!1),b(),setTimeout(()=>{x()},100)},500)},4e3)};return q.useEffect(()=>{if(f)if(d){const C=d.itemId||`item-${Date.now()}`,O=d.itemImage||"./game/Item/ansk/128x128.png";y(C,O)}else _(),t(!0),r(!1),o(!1),v.current.hideTimer=setTimeout(()=>{r(!0),v.current.removeTimer=setTimeout(()=>{t(!1)},500)},4e3);else!f&&e&&(r(!0),o(!1),_(),v.current.removeTimer=setTimeout(()=>{t(!1)},500));return()=>{_()}},[f,d]),e?E.jsxs(E.Fragment,{children:[E.jsx(fFe,{itemImageUrl:a,isVisible:i,itemId:u}),E.jsx("div",{className:`${Ir.manopediaUpdateContainer} ${n?Ir.hiding:""}`,children:E.jsx("img",{src:ZMe,alt:"Manopedia Update",className:Ir.manopediaUpdateImage})})]}):null},dFe=({itemImageUrl:e,isVisible:t,itemId:n})=>t?E.jsx("div",{className:Ir.itemShowcaseGroup,children:E.jsxs("div",{className:Ir.itemShowcaseContainer,children:[E.jsx("img",{src:cU,alt:"Frame Container",className:Ir.framecontainer}),E.jsx("div",{className:Ir.itemImageContainer,children:E.jsx("img",{src:e,alt:"Item",className:Ir.itemImage})}),E.jsx("img",{src:lU,alt:"Frame",className:Ir.frame})]})},n):null,pFe=()=>{const[e,t]=q.useState(!1),[n,r]=q.useState(!1),[i,o]=q.useState(!1),[a,s]=q.useState(""),[u,l]=q.useState(""),f=Le(C=>C.GUI.showItem),d=Le(C=>C.GUI.showItemInfo),p=q.useRef([]),m=q.useRef(!1),v=q.useRef({itemShowcaseTimer:null,hideTimer:null,removeTimer:null}),_=()=>{v.current.itemShowcaseTimer&&(clearTimeout(v.current.itemShowcaseTimer),v.current.itemShowcaseTimer=null),v.current.hideTimer&&(clearTimeout(v.current.hideTimer),v.current.hideTimer=null),v.current.removeTimer&&(clearTimeout(v.current.removeTimer),v.current.removeTimer=null)},y=(C,O)=>{const A={id:C,itemImage:O,timestamp:Date.now()};p.current.push(A),m.current?w():x()},x=()=>{if(p.current.length===0){m.current=!1;return}m.current=!0;const C=p.current[0];l(C.id),s(C.itemImage),T()},b=()=>{p.current.length>0&&p.current.shift()},w=()=>{if(_(),m.current&&p.current.length>0){const C=p.current[p.current.length-1];l(C.id),s(C.itemImage),T()}},T=()=>{_(),o(!1),r(!1),setTimeout(()=>{o(!0),t(!0)},10),v.current.itemShowcaseTimer=setTimeout(()=>{o(!1)},3e3),v.current.hideTimer=setTimeout(()=>{r(!0),v.current.removeTimer=setTimeout(()=>{t(!1),b(),setTimeout(()=>{x()},100)},500)},4e3)};return q.useEffect(()=>{if(f&&d){const C=d.itemId||`item-${Date.now()}`,O=d.itemImage||"./game/Item/ansk/128x128.png";y(C,O)}else!f&&e&&(r(!0),o(!1),_(),v.current.removeTimer=setTimeout(()=>{t(!1)},500));return()=>{_()}},[f,d]),e?E.jsx(E.Fragment,{children:E.jsx(dFe,{itemImageUrl:a,isVisible:i,itemId:u})}):null};var fU={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Yn,function(){return function(n){function r(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return n[o].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function o(Q){return Q&&Q.__esModule?Q:{default:Q}}var a=Object.assign||function(Q){for(var ee=1;ee<arguments.length;ee++){var ne=arguments[ee];for(var ce in ne)Object.prototype.hasOwnProperty.call(ne,ce)&&(Q[ce]=ne[ce])}return Q},s=i(1),u=(o(s),i(6)),l=o(u),f=i(7),d=o(f),p=i(8),m=o(p),v=i(9),_=o(v),y=i(10),x=o(y),b=i(11),w=o(b),T=i(14),C=o(T),O=[],A=!1,M={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},D=function(){var Q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Q&&(A=!0),A)return O=(0,w.default)(O,M),(0,x.default)(O,M.once),O},B=function(){O=(0,C.default)(),D()},G=function(){O.forEach(function(Q,ee){Q.node.removeAttribute("data-aos"),Q.node.removeAttribute("data-aos-easing"),Q.node.removeAttribute("data-aos-duration"),Q.node.removeAttribute("data-aos-delay")})},U=function(Q){return Q===!0||Q==="mobile"&&_.default.mobile()||Q==="phone"&&_.default.phone()||Q==="tablet"&&_.default.tablet()||typeof Q=="function"&&Q()===!0},H=function(Q){M=a(M,Q),O=(0,C.default)();var ee=document.all&&!window.atob;return U(M.disable)||ee?G():(M.disableMutationObserver||m.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),M.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",M.easing),document.querySelector("body").setAttribute("data-aos-duration",M.duration),document.querySelector("body").setAttribute("data-aos-delay",M.delay),M.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?D(!0):M.startEvent==="load"?window.addEventListener(M.startEvent,function(){D(!0)}):document.addEventListener(M.startEvent,function(){D(!0)}),window.addEventListener("resize",(0,d.default)(D,M.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(D,M.debounceDelay,!0)),window.addEventListener("scroll",(0,l.default)(function(){(0,x.default)(O,M.once)},M.throttleDelay)),M.disableMutationObserver||m.default.ready("[data-aos]",B),O)};n.exports={init:H,refresh:D,refreshHard:B}},function(n,r){},,,,,function(n,r){(function(i){function o(U,H,Q){function ee(Se){var Ge=ae,yt=le;return ae=le=void 0,Ze=Se,ge=U.apply(yt,Ge)}function ne(Se){return Ze=Se,Ie=setTimeout(pe,H),Be?ee(Se):ge}function ce(Se){var Ge=Se-ke,yt=Se-Ze,Je=H-Ge;return Ue?B(Je,de-yt):Je}function Ae(Se){var Ge=Se-ke,yt=Se-Ze;return ke===void 0||Ge>=H||Ge<0||Ue&&yt>=de}function pe(){var Se=G();return Ae(Se)?fe(Se):void(Ie=setTimeout(pe,ce(Se)))}function fe(Se){return Ie=void 0,je&&ae?ee(Se):(ae=le=void 0,ge)}function L(){Ie!==void 0&&clearTimeout(Ie),Ze=0,ae=ke=le=Ie=void 0}function Z(){return Ie===void 0?ge:fe(G())}function re(){var Se=G(),Ge=Ae(Se);if(ae=arguments,le=this,ke=Se,Ge){if(Ie===void 0)return ne(ke);if(Ue)return Ie=setTimeout(pe,H),ee(ke)}return Ie===void 0&&(Ie=setTimeout(pe,H)),ge}var ae,le,de,ge,Ie,ke,Ze=0,Be=!1,Ue=!1,je=!0;if(typeof U!="function")throw new TypeError(p);return H=f(H)||0,s(Q)&&(Be=!!Q.leading,Ue="maxWait"in Q,de=Ue?D(f(Q.maxWait)||0,H):de,je="trailing"in Q?!!Q.trailing:je),re.cancel=L,re.flush=Z,re}function a(U,H,Q){var ee=!0,ne=!0;if(typeof U!="function")throw new TypeError(p);return s(Q)&&(ee="leading"in Q?!!Q.leading:ee,ne="trailing"in Q?!!Q.trailing:ne),o(U,H,{leading:ee,maxWait:H,trailing:ne})}function s(U){var H=typeof U>"u"?"undefined":d(U);return!!U&&(H=="object"||H=="function")}function u(U){return!!U&&(typeof U>"u"?"undefined":d(U))=="object"}function l(U){return(typeof U>"u"?"undefined":d(U))=="symbol"||u(U)&&M.call(U)==v}function f(U){if(typeof U=="number")return U;if(l(U))return m;if(s(U)){var H=typeof U.valueOf=="function"?U.valueOf():U;U=s(H)?H+"":H}if(typeof U!="string")return U===0?U:+U;U=U.replace(_,"");var Q=x.test(U);return Q||b.test(U)?w(U.slice(2),Q?2:8):y.test(U)?m:+U}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},p="Expected a function",m=NaN,v="[object Symbol]",_=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,b=/^0o[0-7]+$/i,w=parseInt,T=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,C=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,O=T||C||Function("return this")(),A=Object.prototype,M=A.toString,D=Math.max,B=Math.min,G=function(){return O.Date.now()};n.exports=a}).call(r,function(){return this}())},function(n,r){(function(i){function o(G,U,H){function Q(je){var Se=re,Ge=ae;return re=ae=void 0,ke=je,de=G.apply(Ge,Se)}function ee(je){return ke=je,ge=setTimeout(Ae,U),Ze?Q(je):de}function ne(je){var Se=je-Ie,Ge=je-ke,yt=U-Se;return Be?D(yt,le-Ge):yt}function ce(je){var Se=je-Ie,Ge=je-ke;return Ie===void 0||Se>=U||Se<0||Be&&Ge>=le}function Ae(){var je=B();return ce(je)?pe(je):void(ge=setTimeout(Ae,ne(je)))}function pe(je){return ge=void 0,Ue&&re?Q(je):(re=ae=void 0,de)}function fe(){ge!==void 0&&clearTimeout(ge),ke=0,re=Ie=ae=ge=void 0}function L(){return ge===void 0?de:pe(B())}function Z(){var je=B(),Se=ce(je);if(re=arguments,ae=this,Ie=je,Se){if(ge===void 0)return ee(Ie);if(Be)return ge=setTimeout(Ae,U),Q(Ie)}return ge===void 0&&(ge=setTimeout(Ae,U)),de}var re,ae,le,de,ge,Ie,ke=0,Ze=!1,Be=!1,Ue=!0;if(typeof G!="function")throw new TypeError(d);return U=l(U)||0,a(H)&&(Ze=!!H.leading,Be="maxWait"in H,le=Be?M(l(H.maxWait)||0,U):le,Ue="trailing"in H?!!H.trailing:Ue),Z.cancel=fe,Z.flush=L,Z}function a(G){var U=typeof G>"u"?"undefined":f(G);return!!G&&(U=="object"||U=="function")}function s(G){return!!G&&(typeof G>"u"?"undefined":f(G))=="object"}function u(G){return(typeof G>"u"?"undefined":f(G))=="symbol"||s(G)&&A.call(G)==m}function l(G){if(typeof G=="number")return G;if(u(G))return p;if(a(G)){var U=typeof G.valueOf=="function"?G.valueOf():G;G=a(U)?U+"":U}if(typeof G!="string")return G===0?G:+G;G=G.replace(v,"");var H=y.test(G);return H||x.test(G)?b(G.slice(2),H?2:8):_.test(G)?p:+G}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},d="Expected a function",p=NaN,m="[object Symbol]",v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,x=/^0o[0-7]+$/i,b=parseInt,w=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,T=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,C=w||T||Function("return this")(),O=Object.prototype,A=O.toString,M=Math.max,D=Math.min,B=function(){return C.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){function i(f){var d=void 0,p=void 0;for(d=0;d<f.length;d+=1)if(p=f[d],p.dataset&&p.dataset.aos||p.children&&i(p.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!o()}function s(f,d){var p=window.document,m=o(),v=new m(u);l=d,v.observe(p.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(d){var p=Array.prototype.slice.call(d.addedNodes),m=Array.prototype.slice.call(d.removedNodes),v=p.concat(m);if(i(v))return l()})}Object.defineProperty(r,"__esModule",{value:!0});var l=function(){};r.default={isSupported:a,ready:s}},function(n,r){function i(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(m,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,_){return v&&p(m.prototype,v),_&&p(m,_),m}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function p(){i(this,p)}return a(p,[{key:"phone",value:function(){var m=o();return!(!s.test(m)&&!u.test(m.substr(0,4)))}},{key:"mobile",value:function(){var m=o();return!(!l.test(m)&&!f.test(m.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),p}();r.default=new d},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(a,s,u){var l=a.node.getAttribute("data-aos-once");s>a.position?a.node.classList.add("aos-animate"):typeof l<"u"&&(l==="false"||!u&&l!=="true")&&a.node.classList.remove("aos-animate")},o=function(a,s){var u=window.pageYOffset,l=window.innerHeight;a.forEach(function(f,d){i(f,l+u,s)})};r.default=o},function(n,r,i){function o(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),s=o(a),u=function(l,f){return l.forEach(function(d,p){d.node.classList.add("aos-init"),d.position=(0,s.default)(d.node,f.offset)}),l};r.default=u},function(n,r,i){function o(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(r,"__esModule",{value:!0});var a=i(13),s=o(a),u=function(l,f){var d=0,p=0,m=window.innerHeight,v={offset:l.getAttribute("data-aos-offset"),anchor:l.getAttribute("data-aos-anchor"),anchorPlacement:l.getAttribute("data-aos-anchor-placement")};switch(v.offset&&!isNaN(v.offset)&&(p=parseInt(v.offset)),v.anchor&&document.querySelectorAll(v.anchor)&&(l=document.querySelectorAll(v.anchor)[0]),d=(0,s.default)(l).top,v.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=l.offsetHeight/2;break;case"bottom-bottom":d+=l.offsetHeight;break;case"top-center":d+=m/2;break;case"bottom-center":d+=m/2+l.offsetHeight;break;case"center-center":d+=m/2+l.offsetHeight/2;break;case"top-top":d+=m;break;case"bottom-top":d+=l.offsetHeight+m;break;case"center-top":d+=l.offsetHeight/2+m}return v.anchorPlacement||v.offset||isNaN(f)||(p=f),d+p};r.default=u},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o){for(var a=0,s=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)a+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),s+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:s,left:a}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(a){return{node:a}})};r.default=i}])})})(fU);var mFe=fU.exports;const ML=Qn(mFe);function vFe(){const e=Le(n=>n.stage.showManopedia),t=on();return q.useEffect(()=>{N1e(),ML.init({duration:800,once:!0,easing:"ease-out-quart",startEvent:"DOMContentLoaded"}),setTimeout(()=>{ML.refreshHard()},50)},[]),E.jsxs("div",{className:"App",children:[E.jsx(aMe,{}),E.jsx(e2e,{}),E.jsx(sIe,{}),E.jsx(HIe,{}),E.jsx(QRe,{}),E.jsx(lke,{}),E.jsx(_ke,{}),E.jsx(bke,{}),E.jsx(tIe,{}),E.jsx(eMe,{}),E.jsx(Lke,{}),E.jsx($Ie,{}),E.jsx(dLe,{}),E.jsx(Pke,{}),E.jsx(JRe,{}),E.jsx(ALe,{}),E.jsx(RMe,{}),E.jsx(fIe,{}),E.jsx(JMe,{}),E.jsx(hFe,{}),E.jsx(pFe,{}),e&&E.jsx(sU,{onClose:()=>{t(we({key:"showManopedia",value:!1}))}})]})}function ps(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(e,t)}function u_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function Fd(e,t){if(t&&(Jn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ps(e)}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uo(e)}function gFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yFe(e){return rU(e)||gFe(e)||iU(e)||oU()}function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _Fe={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},xFe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ho(this,e),this.init(t,n)}return po(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||_Fe,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,o){return o&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,DL(DL({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),Ro=new xFe,Es=function(){function e(){ho(this,e),this.observers={}}return po(e,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(o){i.observers[o]=i.observers[o]||[],i.observers[o].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[n].concat(i))})}}}]),e}();function Xf(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}function BL(e){return e==null?"":""+e}function bFe(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function IO(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return i()?{}:{obj:e,k:r(o.shift())}}function jL(e,t,n){var r=IO(e,t,Object),i=r.obj,o=r.k;i[o]=n}function SFe(e,t,n,r){var i=IO(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}function _g(e,t){var n=IO(e,t),r=n.obj,i=n.k;if(r)return r[i]}function wFe(e,t,n){var r=_g(e,n);return r!==void 0?r:_g(t,n)}function hU(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):hU(e[r],t[r],n):e[r]=t[r]);return e}function xl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var EFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function TFe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return EFe[t]}):e}var l_=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,CFe=[" ",",","?","!",";"];function OFe(e,t,n){t=t||"",n=n||"";var r=CFe.filter(function(s){return t.indexOf(s)<0&&n.indexOf(s)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}function xg(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i||typeof i[r[o]]=="string"&&o+1<r.length)return;if(i[r[o]]===void 0){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];u===void 0&&r.length>o+a;)a++,s=r.slice(o,o+a).join(n),u=i[s];if(u===void 0)return;if(u===null)return null;if(t.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var l=r.slice(o+a).join(n);return l?xg(u,l,n):void 0}i=i[r[o]]}return i}}function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AFe(e){var t=PFe();return function(){var r=Uo(e),i;if(t){var o=Uo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fd(this,i)}}function PFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var IFe=function(e){u_(n,e);var t=AFe(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ho(this,n),i=t.call(this),l_&&Es.call(ps(i)),i.data=r||{},i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return po(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var o=this.options.ns.indexOf(i);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,o];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."));var d=_g(this.data,f);return d||!l||typeof a!="string"?d:xg(this.data&&this.data[i]&&this.data[i][o],a,u)}},{key:"addResource",value:function(i,o,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=[i,o];a&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."),s=o,o=f[1]),this.addNamespaces(o),jL(this.data,f,s),u.silent||this.emit("added",i,o,a,s)}},{key:"addResources",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(i,o,u,a[u],{silent:!0});s.silent||this.emit("added",i,o,a)}},{key:"addResourceBundle",value:function(i,o,a,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,o];i.indexOf(".")>-1&&(f=i.split("."),s=a,a=o,o=f[1]),this.addNamespaces(o);var d=_g(this.data,f)||{};s?hU(d,a,u):d=Pm(Pm({},d),a),jL(this.data,f,d),l.silent||this.emit("added",i,o,a)}},{key:"removeResourceBundle",value:function(i,o){this.hasResourceBundle(i,o)&&delete this.data[i][o],this.removeNamespaces(o),this.emit("removed",i,o)}},{key:"hasResourceBundle",value:function(i,o){return this.getResource(i,o)!==void 0}},{key:"getResourceBundle",value:function(i,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Pm(Pm({},{}),this.getResource(i,o)):this.getResource(i,o)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var o=this.getDataByLanguage(i),a=o&&Object.keys(o)||[];return!!a.find(function(s){return o[s]&&Object.keys(o[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Es),dU={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,i,o){var a=this;return t.forEach(function(s){a.processors[s]&&(n=a.processors[s].process(n,r,i,o))}),n}};function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RFe(e){var t=kFe();return function(){var r=Uo(e),i;if(t){var o=Uo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fd(this,i)}}function kFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var GL={},zL=function(e){u_(n,e);var t=RFe(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ho(this,n),i=t.call(this),l_&&Es.call(ps(i)),bFe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,ps(i)),i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Ro.create("translator"),i}return po(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,o);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,o){var a=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ns||this.options.defaultNS||[],l=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!OFe(i,a,s);if(l&&!f){var d=i.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:i,namespaces:u};var p=i.split(a);(a!==s||a===s&&this.options.ns.indexOf(p[0])>-1)&&(u=p.shift()),i=p.join(s)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,o,a){var s=this;if(Jn(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),Jn(o)==="object"&&(o=dr({},o)),o||(o={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],o),d=f.key,p=f.namespaces,m=p[p.length-1],v=o.lng||this.language,_=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v&&v.toLowerCase()==="cimode"){if(_){var y=o.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(m).concat(y).concat(d),usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m}:"".concat(m).concat(y).concat(d)}return u?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m}:d}var x=this.resolve(i,o),b=x&&x.res,w=x&&x.usedKey||d,T=x&&x.exactUsedKey||d,C=Object.prototype.toString.apply(b),O=["[object Number]","[object Function]","[object RegExp]"],A=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,D=typeof b!="string"&&typeof b!="boolean"&&typeof b!="number";if(M&&b&&D&&O.indexOf(C)<0&&!(typeof A=="string"&&C==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,b,dr(dr({},o),{},{ns:p})):"key '".concat(d," (").concat(this.language,")' returned an object instead of string.");return u?(x.res=B,x):B}if(l){var G=C==="[object Array]",U=G?[]:{},H=G?T:w;for(var Q in b)if(Object.prototype.hasOwnProperty.call(b,Q)){var ee="".concat(H).concat(l).concat(Q);U[Q]=this.translate(ee,dr(dr({},o),{joinArrays:!1,ns:p})),U[Q]===ee&&(U[Q]=b[Q])}b=U}}else if(M&&typeof A=="string"&&C==="[object Array]")b=b.join(A),b&&(b=this.extendTranslation(b,i,o,a));else{var ne=!1,ce=!1,Ae=o.count!==void 0&&typeof o.count!="string",pe=n.hasDefaultValue(o),fe=Ae?this.pluralResolver.getSuffix(v,o.count,o):"",L=o["defaultValue".concat(fe)]||o.defaultValue;!this.isValidLookup(b)&&pe&&(ne=!0,b=L),this.isValidLookup(b)||(ce=!0,b=d);var Z=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,re=Z&&ce?void 0:b,ae=pe&&L!==b&&this.options.updateMissing;if(ce||ne||ae){if(this.logger.log(ae?"updateKey":"missingKey",v,m,d,ae?L:b),l){var le=this.resolve(d,dr(dr({},o),{},{keySeparator:!1}));le&&le.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var de=[],ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(var Ie=0;Ie<ge.length;Ie++)de.push(ge[Ie]);else this.options.saveMissingTo==="all"?de=this.languageUtils.toResolveHierarchy(o.lng||this.language):de.push(o.lng||this.language);var ke=function(Be,Ue,je){var Se=pe&&je!==b?je:re;s.options.missingKeyHandler?s.options.missingKeyHandler(Be,m,Ue,Se,ae,o):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Be,m,Ue,Se,ae,o),s.emit("missingKey",Be,m,Ue,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Ae?de.forEach(function(Ze){s.pluralResolver.getSuffixes(Ze,o).forEach(function(Be){ke([Ze],d+Be,o["defaultValue".concat(Be)]||L)})}):ke(de,d,L))}b=this.extendTranslation(b,i,o,x,a),ce&&b===d&&this.options.appendNamespaceToMissingKey&&(b="".concat(m,":").concat(d)),(ce||ne)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(m,":").concat(d):d,ne?b:void 0):b=this.options.parseMissingKeyHandler(b))}return u?(x.res=b,x):b}},{key:"extendTranslation",value:function(i,o,a,s,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,dr(dr({},this.options.interpolation.defaultVariables),a),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(dr(dr({},a),{interpolation:dr(dr({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(f){var p=i.match(this.interpolator.nestingRegexp);d=p&&p.length}var m=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(m=dr(dr({},this.options.interpolation.defaultVariables),m)),i=this.interpolator.interpolate(i,m,a.lng||this.language,a),f){var v=i.match(this.interpolator.nestingRegexp),_=v&&v.length;d<_&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(a.lng=s.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var b=arguments.length,w=new Array(b),T=0;T<b;T++)w[T]=arguments[T];return u&&u[0]===w[0]&&!a.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(w[0]," in key: ").concat(o[0])),null):l.translate.apply(l,w.concat([o]))},a)),a.interpolation&&this.interpolator.reset()}var y=a.postProcess||this.options.postProcess,x=typeof y=="string"?[y]:y;return i!=null&&x&&x.length&&a.applyPostProcessor!==!1&&(i=dU.handle(x,i,o,this.options&&this.options.postProcessPassResolved?dr({i18nResolved:s},a):a,this)),i}},{key:"resolve",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,l,f,d;return typeof i=="string"&&(i=[i]),i.forEach(function(p){if(!o.isValidLookup(s)){var m=o.extractFromKey(p,a),v=m.key;u=v;var _=m.namespaces;o.options.fallbackNS&&(_=_.concat(o.options.fallbackNS));var y=a.count!==void 0&&typeof a.count!="string",x=y&&!a.ordinal&&a.count===0&&o.pluralResolver.shouldUseIntlApi(),b=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",w=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);_.forEach(function(T){o.isValidLookup(s)||(d=T,!GL["".concat(w[0],"-").concat(T)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(d)&&(GL["".concat(w[0],"-").concat(T)]=!0,o.logger.warn('key "'.concat(u,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(d,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(C){if(!o.isValidLookup(s)){f=C;var O=[v];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(O,v,C,T,a);else{var A;y&&(A=o.pluralResolver.getSuffix(C,a.count,a));var M="".concat(o.options.pluralSeparator,"zero");if(y&&(O.push(v+A),x&&O.push(v+M)),b){var D="".concat(v).concat(o.options.contextSeparator).concat(a.context);O.push(D),y&&(O.push(D+A),x&&O.push(D+M))}}for(var B;B=O.pop();)o.isValidLookup(s)||(l=B,s=o.getResource(C,T,B,a))}}))})}}),{res:s,usedKey:u,exactUsedKey:l,usedLng:f,usedNS:d}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,o,a,s):this.resourceStore.getResource(i,o,a,s)}}],[{key:"hasDefaultValue",value:function(i){var o="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&o===a.substring(0,o.length)&&i[a]!==void 0)return!0;return!1}}]),n}(Es);function u1(e){return e.charAt(0).toUpperCase()+e.slice(1)}var HL=function(){function e(t){ho(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ro.create("languageUtils")}return po(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(o){return o.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=u1(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=u1(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=u1(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(o){if(!i){var a=r.formatLanguageCode(o);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(o){if(!i){var a=r.getLanguagePartFromCode(o);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(s){if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&s.indexOf(a)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,o=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],s=function(l){l&&(i.isSupportedCode(l)?a.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(n))):typeof n=="string"&&s(this.formatLanguageCode(n)),o.forEach(function(u){a.indexOf(u)<0&&s(i.formatLanguageCode(u))}),a}}]),e}(),NFe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],LFe={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},MFe=["v1","v2","v3"],VL={zero:0,one:1,two:2,few:3,many:4,other:5};function FFe(){var e={};return NFe.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:LFe[t.fc]}})}),e}var DFe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ho(this,e),this.languageUtils=t,this.options=n,this.logger=Ro.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=FFe()}return po(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(o){return"".concat(r).concat(o)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(n,i);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(a,s){return VL[a]-VL[s]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):o.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(n,i);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(r)):this.getSuffixRetroCompatible(o,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,o=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[o];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var s=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!MFe.includes(this.options.compatibilityJSON)}}]),e}();function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XL(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=wFe(e,t,n);return!o&&i&&typeof n=="string"&&(o=xg(e,n,r),o===void 0&&(o=xg(t,n,r))),o}var BFe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ho(this,e),this.logger=Ro.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return po(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:TFe,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?xl(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?xl(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?xl(r.nestingPrefix):r.nestingPrefixEscaped||xl("$t("),this.nestingSuffix=r.nestingSuffix?xl(r.nestingSuffix):r.nestingSuffixEscaped||xl(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,o){var a=this,s,u,l,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(y){return y.replace(/\$/g,"$$$$")}var p=function(x){if(x.indexOf(a.formatSeparator)<0){var b=XL(r,f,x,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(b,void 0,i,qi(qi(qi({},o),r),{},{interpolationkey:x})):b}var w=x.split(a.formatSeparator),T=w.shift().trim(),C=w.join(a.formatSeparator).trim();return a.format(XL(r,f,T,a.options.keySeparator,a.options.ignoreJSONStructure),C,i,qi(qi(qi({},o),r),{},{interpolationkey:T}))};this.resetRegExp();var m=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,v=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,_=[{regex:this.regexpUnescape,safeValue:function(x){return d(x)}},{regex:this.regexp,safeValue:function(x){return a.escapeValue?d(a.escape(x)):d(x)}}];return _.forEach(function(y){for(l=0;s=y.regex.exec(n);){var x=s[1].trim();if(u=p(x),u===void 0)if(typeof m=="function"){var b=m(n,s,o);u=typeof b=="string"?b:""}else if(o&&Object.prototype.hasOwnProperty.call(o,x))u="";else if(v){u=s[0];continue}else a.logger.warn("missed to pass in variable ".concat(x," for interpolating ").concat(n)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=BL(u));var w=y.safeValue(u);if(n=n.replace(s[0],w),v?(y.regex.lastIndex+=u.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,l++,l>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,u;function l(m,v){var _=this.nestingOptionsSeparator;if(m.indexOf(_)<0)return m;var y=m.split(new RegExp("".concat(_,"[ ]*{"))),x="{".concat(y[1]);m=y[0],x=this.interpolate(x,u);var b=x.match(/'/g),w=x.match(/"/g);(b&&b.length%2===0&&!w||w.length%2!==0)&&(x=x.replace(/'/g,'"'));try{u=JSON.parse(x),v&&(u=qi(qi({},v),u))}catch(T){return this.logger.warn("failed parsing options string in nesting for key ".concat(m),T),"".concat(m).concat(_).concat(x)}return delete u.defaultValue,m}for(;a=this.nestingRegexp.exec(n);){var f=[];u=qi({},o),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var p=a[1].split(this.formatSeparator).map(function(m){return m.trim()});a[1]=p.shift(),f=p,d=!0}if(s=r(l.call(this,a[1].trim(),u),u),s&&a[0]===n&&typeof s!="string")return s;typeof s!="string"&&(s=BL(s)),s||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),s=""),d&&(s=f.reduce(function(m,v){return i.format(m,v,o.lng,qi(qi({},o),{},{interpolationkey:a[1].trim()}))},s.trim())),n=n.replace(a[0],s),this.regexp.lastIndex=0}return n}}]),e}();function qL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jFe(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(t==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(t==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var o=i.split(";");o.forEach(function(a){if(a){var s=a.split(":"),u=yFe(s),l=u[0],f=u.slice(1),d=f.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=d),d==="false"&&(n[l.trim()]=!1),d==="true"&&(n[l.trim()]=!0),isNaN(d)||(n[l.trim()]=parseInt(d,10))}})}}return{formatName:t,formatOptions:n}}function bl(e){var t={};return function(r,i,o){var a=i+JSON.stringify(o),s=t[a];return s||(s=e(i,o),t[a]=s),s(r)}}var $Fe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ho(this,e),this.logger=Ro.create("formatter"),this.options=t,this.formats={number:bl(function(n,r){var i=new Intl.NumberFormat(n,aa({},r));return function(o){return i.format(o)}}),currency:bl(function(n,r){var i=new Intl.NumberFormat(n,aa(aa({},r),{},{style:"currency"}));return function(o){return i.format(o)}}),datetime:bl(function(n,r){var i=new Intl.DateTimeFormat(n,aa({},r));return function(o){return i.format(o)}}),relativetime:bl(function(n,r){var i=new Intl.RelativeTimeFormat(n,aa({},r));return function(o){return i.format(o,r.range||"day")}}),list:bl(function(n,r){var i=new Intl.ListFormat(n,aa({},r));return function(o){return i.format(o)}})},this.init(t)}return po(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=bl(r)}},{key:"format",value:function(n,r,i){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.split(this.formatSeparator),u=s.reduce(function(l,f){var d=jFe(f),p=d.formatName,m=d.formatOptions;if(o.formats[p]){var v=l;try{var _=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},y=_.locale||_.lng||a.locale||a.lng||i;v=o.formats[p](l,y,aa(aa(aa({},m),a),_))}catch(x){o.logger.warn(x)}return v}else o.logger.warn("there was no format function for ".concat(p));return l},n);return u}}]),e}();function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UFe(e){var t=GFe();return function(){var r=Uo(e),i;if(t){var o=Uo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fd(this,i)}}function GFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zFe(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var HFe=function(e){u_(n,e);var t=UFe(n);function n(r,i,o){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return ho(this,n),a=t.call(this),l_&&Es.call(ps(a)),a.backend=r,a.store=i,a.services=o,a.languageUtils=o.languageUtils,a.options=s,a.logger=Ro.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=s.maxParallelReads||10,a.readingCalls=0,a.maxRetries=s.maxRetries>=0?s.maxRetries:5,a.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(o,s.backend,s),a}return po(n,[{key:"queueLoad",value:function(i,o,a,s){var u=this,l={},f={},d={},p={};return i.forEach(function(m){var v=!0;o.forEach(function(_){var y="".concat(m,"|").concat(_);!a.reload&&u.store.hasResourceBundle(m,_)?u.state[y]=2:u.state[y]<0||(u.state[y]===1?f[y]===void 0&&(f[y]=!0):(u.state[y]=1,v=!1,f[y]===void 0&&(f[y]=!0),l[y]===void 0&&(l[y]=!0),p[_]===void 0&&(p[_]=!0)))}),v||(d[m]=!0)}),(Object.keys(l).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(f),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}},{key:"loaded",value:function(i,o,a){var s=i.split("|"),u=s[0],l=s[1];o&&this.emit("failedLoading",u,l,o),a&&this.store.addResourceBundle(u,l,a),this.state[i]=o?-1:2;var f={};this.queue.forEach(function(d){SFe(d.loaded,[u],l),zFe(d,i),o&&d.errors.push(o),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(function(p){f[p]||(f[p]={});var m=d.loaded[p];m.length&&m.forEach(function(v){f[p][v]===void 0&&(f[p][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(d){return!d.done})}},{key:"read",value:function(i,o,a){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:o,fcName:a,tried:u,wait:l,callback:f});return}this.readingCalls++;var d=function(_,y){if(s.readingCalls--,s.waitingReads.length>0){var x=s.waitingReads.shift();s.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(_&&y&&u<s.maxRetries){setTimeout(function(){s.read.call(s,i,o,a,u+1,l*2,f)},l);return}f(_,y)},p=this.backend[a].bind(this.backend);if(p.length===2){try{var m=p(i,o);m&&typeof m.then=="function"?m.then(function(v){return d(null,v)}).catch(d):d(null,m)}catch(v){d(v)}return}return p(i,o,d)}},{key:"prepareLoading",value:function(i,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof o=="string"&&(o=[o]);var l=this.queueLoad(i,o,s,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,o,a){this.prepareLoading(i,o,{},a)}},{key:"reload",value:function(i,o,a){this.prepareLoading(i,o,{reload:!0},a)}},{key:"loadOne",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),u=s[0],l=s[1];this.read(u,l,"read",void 0,void 0,function(f,d){f&&o.logger.warn("".concat(a,"loading namespace ").concat(l," for language ").concat(u," failed"),f),!f&&d&&o.logger.log("".concat(a,"loaded namespace ").concat(l," for language ").concat(u),d),o.loaded(i,f,d)})}},{key:"saveMissing",value:function(i,o,a,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var d=YL(YL({},l),{},{isUpdate:u}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var m;p.length===5?m=p(i,o,a,s,d):m=p(i,o,a,s),m&&typeof m.then=="function"?m.then(function(v){return f(null,v)}).catch(f):f(null,m)}catch(v){f(v)}else p(i,o,a,s,f,d)}!i||!i[0]||this.store.addResource(i[0],o,a,s)}}}]),n}(Es);function JL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Jn(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Jn(t[2])==="object"||Jn(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ZL(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VFe(e){var t=WFe();return function(){var r=Uo(e),i;if(t){var o=Uo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fd(this,i)}}function WFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Im(){}function XFe(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var bg=function(e){u_(n,e);var t=VFe(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(ho(this,n),r=t.call(this),l_&&Es.call(ps(r)),r.options=ZL(i),r.services={},r.logger=Ro,r.modules={external:[]},XFe(ps(r)),o&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,o),Fd(r,ps(r));setTimeout(function(){r.init(i,o)},0)}return r}return po(n,[{key:"init",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(a=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var s=JL();this.options=So(So(So({},s),this.options),ZL(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=So(So({},s.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function u(x){return x?typeof x=="function"?new x:x:null}if(!this.options.isClone){this.modules.logger?Ro.init(u(this.modules.logger),this.options):Ro.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=$Fe);var f=new HL(this.options);this.store=new IFe(this.options.resources,this.options);var d=this.services;d.logger=Ro,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new DFe(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=u(l),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new BFe(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new HFe(u(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(x){for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];i.emit.apply(i,[x].concat(w))}),this.modules.languageDetector&&(d.languageDetector=u(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=u(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new zL(this.services,this.options),this.translator.on("*",function(x){for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];i.emit.apply(i,[x].concat(w))}),this.modules.external.forEach(function(x){x.init&&x.init(i)})}if(this.format=this.options.interpolation.format,a||(a=Im),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var m=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];m.forEach(function(x){i[x]=function(){var b;return(b=i.store)[x].apply(b,arguments)}});var v=["addResource","addResources","addResourceBundle","removeResourceBundle"];v.forEach(function(x){i[x]=function(){var b;return(b=i.store)[x].apply(b,arguments),i}});var _=Xf(),y=function(){var b=function(T,C){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),_.resolve(C),a(T,C)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return b(null,i.t.bind(i));i.changeLanguage(i.options.lng,b)};return this.options.resources||!this.options.initImmediate?y():setTimeout(y,0),_}},{key:"loadResources",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Im,s=a,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var l=[],f=function(m){if(m){var v=o.services.languageUtils.toResolveHierarchy(m);v.forEach(function(_){l.indexOf(_)<0&&l.push(_)})}};if(u)f(u);else{var d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.forEach(function(p){return f(p)})}this.options.preload&&this.options.preload.forEach(function(p){return f(p)}),this.services.backendConnector.load(l,this.options.ns,function(p){!p&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),s(p)})}else s(null)}},{key:"reloadResources",value:function(i,o,a){var s=Xf();return i||(i=this.languages),o||(o=this.options.ns),a||(a=Im),this.services.backendConnector.reload(i,o,function(u){s.resolve(),a(u)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&dU.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var o=0;o<this.languages.length;o++){var a=this.languages[o];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,o){var a=this;this.isLanguageChangingTo=i;var s=Xf();this.emit("languageChanging",i);var u=function(p){a.language=p,a.languages=a.services.languageUtils.toResolveHierarchy(p),a.resolvedLanguage=void 0,a.setResolvedLanguage(p)},l=function(p,m){m?(u(m),a.translator.changeLanguage(m),a.isLanguageChangingTo=void 0,a.emit("languageChanged",m),a.logger.log("languageChanged",m)):a.isLanguageChangingTo=void 0,s.resolve(function(){return a.t.apply(a,arguments)}),o&&o(p,function(){return a.t.apply(a,arguments)})},f=function(p){!i&&!p&&a.services.languageDetector&&(p=[]);var m=typeof p=="string"?p:a.services.languageUtils.getBestMatchFromCodes(p);m&&(a.language||u(m),a.translator.language||a.translator.changeLanguage(m),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(m)),a.loadResources(m,function(v){l(v,m)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),s}},{key:"getFixedT",value:function(i,o,a){var s=this,u=function l(f,d){var p;if(Jn(d)!=="object"){for(var m=arguments.length,v=new Array(m>2?m-2:0),_=2;_<m;_++)v[_-2]=arguments[_];p=s.options.overloadTranslationOptionHandler([f,d].concat(v))}else p=So({},d);p.lng=p.lng||l.lng,p.lngs=p.lngs||l.lngs,p.ns=p.ns||l.ns,p.keyPrefix=p.keyPrefix||a||l.keyPrefix;var y=s.options.keySeparator||".",x;return p.keyPrefix&&Array.isArray(f)?x=f.map(function(b){return"".concat(p.keyPrefix).concat(y).concat(b)}):x=p.keyPrefix?"".concat(p.keyPrefix).concat(y).concat(f):f,s.t(x,p)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=o,u.keyPrefix=a,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var f=function(m,v){var _=o.services.backendConnector.state["".concat(m,"|").concat(v)];return _===-1||_===2};if(a.precheck){var d=a.precheck(this,f);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(s,i)&&(!u||f(l,i)))}},{key:"loadNamespaces",value:function(i,o){var a=this,s=Xf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),o&&o(u)}),s):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(i,o){var a=Xf();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],u=i.filter(function(l){return s.indexOf(l)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(l){a.resolve(),o&&o(l)}),a):(o&&o(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new HL(JL());return o.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Im,s=So(So(So({},this.options),o),{isClone:!0}),u=new n(s);(o.debug!==void 0||o.prefix!==void 0)&&(u.logger=u.logger.clone(o));var l=["store","services","language"];return l.forEach(function(f){u[f]=i[f]}),u.services=So({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new zL(u.services,u.options),u.translator.on("*",function(f){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];u.emit.apply(u,[f].concat(p))}),u.init(s,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Es);mi(bg,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new bg(e,t)});var Er=bg.createInstance();Er.createInstance=bg.createInstance;Er.createInstance;Er.dir;Er.init;Er.loadResources;Er.reloadResources;Er.use;Er.changeLanguage;Er.getFixedT;Er.t;Er.exists;Er.setDefaultNamespace;Er.hasLoadedNamespace;Er.loadNamespaces;Er.loadLanguages;Er.use(G2e).init({resources:rre||{},lng:Hr[ire]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("WebGAL i18n Ready!"));Kr.render(E.jsx(Ve.StrictMode,{children:E.jsx(W2e,{children:E.jsx(mT,{store:W,children:E.jsx(vFe,{})})})}),document.getElementById("root"));export{k$ as A,gt as B,ur as C,Fc as E,Rn as M,es as O,ft as P,mt as R,Pi as S,CC as T,I as W,We as a,obe as b,ug as c,JFe as r,cu as u};
